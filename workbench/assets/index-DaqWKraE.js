function T1(e,n){for(var l=0;l<n.length;l++){const r=n[l];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(r,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();function Xy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jd={exports:{}},Br={};var tv;function N1(){if(tv)return Br;tv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:e,type:r,key:d,ref:s!==void 0?s:null,props:c}}return Br.Fragment=n,Br.jsx=l,Br.jsxs=l,Br}var nv;function M1(){return nv||(nv=1,jd.exports=N1()),jd.exports}var p=M1(),zd={exports:{}},xe={};var av;function C1(){if(av)return xe;av=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function N(M,H,ee){this.props=M,this.context=H,this.refs=A,this.updater=ee||D}N.prototype.isReactComponent={},N.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=N.prototype;function B(M,H,ee){this.props=M,this.context=H,this.refs=A,this.updater=ee||D}var P=B.prototype=new q;P.constructor=B,E(P,N.prototype),P.isPureReactComponent=!0;var L=Array.isArray;function j(){}var T={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function te(M,H,ee){var ae=ee.ref;return{$$typeof:e,type:M,key:H,ref:ae!==void 0?ae:null,props:ee}}function ie(M,H){return te(M.type,H,M.props)}function ue(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function de(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return H[ee]})}var ce=/\/+/g;function ye(M,H){return typeof M=="object"&&M!==null&&M.key!=null?de(""+M.key):H.toString(36)}function Se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(j,j):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,H,ee,ae,pe){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var Ne=!1;if(M===null)Ne=!0;else switch(me){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(M.$$typeof){case e:case n:Ne=!0;break;case b:return Ne=M._init,U(Ne(M._payload),H,ee,ae,pe)}}if(Ne)return pe=pe(M),Ne=ae===""?"."+ye(M,0):ae,L(pe)?(ee="",Ne!=null&&(ee=Ne.replace(ce,"$&/")+"/"),U(pe,H,ee,"",function(Xe){return Xe})):pe!=null&&(ue(pe)&&(pe=ie(pe,ee+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(ce,"$&/")+"/")+Ne)),H.push(pe)),1;Ne=0;var ot=ae===""?".":ae+":";if(L(M))for(var Ye=0;Ye<M.length;Ye++)ae=M[Ye],me=ot+ye(ae,Ye),Ne+=U(ae,H,ee,me,pe);else if(Ye=_(M),typeof Ye=="function")for(M=Ye.call(M),Ye=0;!(ae=M.next()).done;)ae=ae.value,me=ot+ye(ae,Ye++),Ne+=U(ae,H,ee,me,pe);else if(me==="object"){if(typeof M.then=="function")return U(Se(M),H,ee,ae,pe);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function F(M,H,ee){if(M==null)return M;var ae=[],pe=0;return U(M,ae,"","",function(me){return H.call(ee,me,pe++)}),ae}function W(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var Y=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},re={map:F,forEach:function(M,H,ee){F(M,function(){H.apply(this,arguments)},ee)},count:function(M){var H=0;return F(M,function(){H++}),H},toArray:function(M){return F(M,function(H){return H})||[]},only:function(M){if(!ue(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=y,xe.Children=re,xe.Component=N,xe.Fragment=l,xe.Profiler=s,xe.PureComponent=B,xe.StrictMode=r,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,H,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=E({},M.props),pe=M.key;if(H!=null)for(me in H.key!==void 0&&(pe=""+H.key),H)!$.call(H,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&H.ref===void 0||(ae[me]=H[me]);var me=arguments.length-2;if(me===1)ae.children=ee;else if(1<me){for(var Ne=Array(me),ot=0;ot<me;ot++)Ne[ot]=arguments[ot+2];ae.children=Ne}return te(M.type,pe,ae)},xe.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},xe.createElement=function(M,H,ee){var ae,pe={},me=null;if(H!=null)for(ae in H.key!==void 0&&(me=""+H.key),H)$.call(H,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=H[ae]);var Ne=arguments.length-2;if(Ne===1)pe.children=ee;else if(1<Ne){for(var ot=Array(Ne),Ye=0;Ye<Ne;Ye++)ot[Ye]=arguments[Ye+2];pe.children=ot}if(M&&M.defaultProps)for(ae in Ne=M.defaultProps,Ne)pe[ae]===void 0&&(pe[ae]=Ne[ae]);return te(M,me,pe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:h,render:M}},xe.isValidElement=ue,xe.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:W}},xe.memo=function(M,H){return{$$typeof:m,type:M,compare:H===void 0?null:H}},xe.startTransition=function(M){var H=T.T,ee={};T.T=ee;try{var ae=M(),pe=T.S;pe!==null&&pe(ee,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(j,Y)}catch(me){Y(me)}finally{H!==null&&ee.types!==null&&(H.types=ee.types),T.T=H}},xe.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},xe.use=function(M){return T.H.use(M)},xe.useActionState=function(M,H,ee){return T.H.useActionState(M,H,ee)},xe.useCallback=function(M,H){return T.H.useCallback(M,H)},xe.useContext=function(M){return T.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,H){return T.H.useDeferredValue(M,H)},xe.useEffect=function(M,H){return T.H.useEffect(M,H)},xe.useEffectEvent=function(M){return T.H.useEffectEvent(M)},xe.useId=function(){return T.H.useId()},xe.useImperativeHandle=function(M,H,ee){return T.H.useImperativeHandle(M,H,ee)},xe.useInsertionEffect=function(M,H){return T.H.useInsertionEffect(M,H)},xe.useLayoutEffect=function(M,H){return T.H.useLayoutEffect(M,H)},xe.useMemo=function(M,H){return T.H.useMemo(M,H)},xe.useOptimistic=function(M,H){return T.H.useOptimistic(M,H)},xe.useReducer=function(M,H,ee){return T.H.useReducer(M,H,ee)},xe.useRef=function(M){return T.H.useRef(M)},xe.useState=function(M){return T.H.useState(M)},xe.useSyncExternalStore=function(M,H,ee){return T.H.useSyncExternalStore(M,H,ee)},xe.useTransition=function(){return T.H.useTransition()},xe.version="19.2.4",xe}var lv;function qf(){return lv||(lv=1,zd.exports=C1()),zd.exports}var w=qf();const qt=Xy(w),Ky=T1({__proto__:null,default:qt},[w]);var kd={exports:{}},Lr={},Rd={exports:{}},Od={};var iv;function A1(){return iv||(iv=1,(function(e){function n(U,F){var W=U.length;U.push(F);e:for(;0<W;){var Y=W-1>>>1,re=U[Y];if(0<s(re,F))U[Y]=F,U[W]=re,W=Y;else break e}}function l(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],W=U.pop();if(W!==F){U[0]=W;e:for(var Y=0,re=U.length,M=re>>>1;Y<M;){var H=2*(Y+1)-1,ee=U[H],ae=H+1,pe=U[ae];if(0>s(ee,W))ae<re&&0>s(pe,ee)?(U[Y]=pe,U[ae]=W,Y=ae):(U[Y]=ee,U[H]=W,Y=H);else if(ae<re&&0>s(pe,W))U[Y]=pe,U[ae]=W,Y=ae;else break e}}return F}function s(U,F){var W=U.sortIndex-F.sortIndex;return W!==0?W:U.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],m=[],b=1,y=null,x=3,_=!1,D=!1,E=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var F=l(m);F!==null;){if(F.callback===null)r(m);else if(F.startTime<=U)r(m),F.sortIndex=F.expirationTime,n(g,F);else break;F=l(m)}}function L(U){if(E=!1,P(U),!D)if(l(g)!==null)D=!0,j||(j=!0,de());else{var F=l(m);F!==null&&Se(L,F.startTime-U)}}var j=!1,T=-1,$=5,te=-1;function ie(){return A?!0:!(e.unstable_now()-te<$)}function ue(){if(A=!1,j){var U=e.unstable_now();te=U;var F=!0;try{e:{D=!1,E&&(E=!1,q(T),T=-1),_=!0;var W=x;try{t:{for(P(U),y=l(g);y!==null&&!(y.expirationTime>U&&ie());){var Y=y.callback;if(typeof Y=="function"){y.callback=null,x=y.priorityLevel;var re=Y(y.expirationTime<=U);if(U=e.unstable_now(),typeof re=="function"){y.callback=re,P(U),F=!0;break t}y===l(g)&&r(g),P(U)}else r(g);y=l(g)}if(y!==null)F=!0;else{var M=l(m);M!==null&&Se(L,M.startTime-U),F=!1}}break e}finally{y=null,x=W,_=!1}F=void 0}}finally{F?de():j=!1}}}var de;if(typeof B=="function")de=function(){B(ue)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ye=ce.port2;ce.port1.onmessage=ue,de=function(){ye.postMessage(null)}}else de=function(){N(ue,0)};function Se(U,F){T=N(function(){U(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(U){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var W=x;x=F;try{return U()}finally{x=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=x;x=U;try{return F()}finally{x=W}},e.unstable_scheduleCallback=function(U,F,W){var Y=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,U={id:b++,callback:F,priorityLevel:U,startTime:W,expirationTime:re,sortIndex:-1},W>Y?(U.sortIndex=W,n(m,U),l(g)===null&&U===l(m)&&(E?(q(T),T=-1):E=!0,Se(L,W-Y))):(U.sortIndex=re,n(g,U),D||_||(D=!0,j||(j=!0,de()))),U},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(U){var F=x;return function(){var W=x;x=F;try{return U.apply(this,arguments)}finally{x=W}}}})(Od)),Od}var rv;function D1(){return rv||(rv=1,Rd.exports=A1()),Rd.exports}var Bd={exports:{}},Gt={};var sv;function j1(){if(sv)return Gt;sv=1;var e=qf();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,m,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:g,containerInfo:m,implementation:b}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gt.createPortal=function(g,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(g,m,null,b)},Gt.flushSync=function(g){var m=d.T,b=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=m,r.p=b,r.d.f()}},Gt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Gt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Gt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var b=m.as,y=h(b,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:_}):b==="script"&&r.d.X(g,{crossOrigin:y,integrity:x,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Gt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,y=h(b,m.crossOrigin);r.d.L(g,b,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gt.preloadModule=function(g,m){if(typeof g=="string")if(m){var b=h(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Gt.requestFormReset=function(g){r.d.r(g)},Gt.unstable_batchedUpdates=function(g,m){return g(m)},Gt.useFormState=function(g,m,b){return d.H.useFormState(g,m,b)},Gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gt.version="19.2.4",Gt}var ov;function Qy(){if(ov)return Bd.exports;ov=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Bd.exports=j1(),Bd.exports}var cv;function z1(){if(cv)return Lr;cv=1;var e=D1(),n=qf(),l=Qy();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function m(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var i=t,o=a;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return g(u),t;if(f===o)return g(u),a;f=f.sibling}throw Error(r(188))}if(i.return!==o.return)i=u,o=f;else{for(var v=!1,S=u.child;S;){if(S===i){v=!0,i=u,o=f;break}if(S===o){v=!0,o=u,i=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===i){v=!0,i=f,o=u;break}if(S===o){v=!0,o=f,i=u;break}S=S.sibling}if(!v)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:a}function b(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=b(t),a!==null)return a;t=t.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case j:return"SuspenseList";case te:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case B:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case P:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return a=t.displayName||null,a!==null?a:ye(t.type)||"Memo";case $:a=t._payload,t=t._init;try{return ye(t(a))}catch{}}return null}var Se=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Y=[],re=-1;function M(t){return{current:t}}function H(t){0>re||(t.current=Y[re],Y[re]=null,re--)}function ee(t,a){re++,Y[re]=t.current,t.current=a}var ae=M(null),pe=M(null),me=M(null),Ne=M(null);function ot(t,a){switch(ee(me,a),ee(pe,t),ee(ae,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Ep(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Ep(a),t=Tp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(ae),ee(ae,t)}function Ye(){H(ae),H(pe),H(me)}function Xe(t){t.memoizedState!==null&&ee(Ne,t);var a=ae.current,i=Tp(a,t.type);a!==i&&(ee(pe,t),ee(ae,i))}function _n(t){pe.current===t&&(H(ae),H(pe)),Ne.current===t&&(H(Ne),zr._currentValue=W)}var Pt,Wn;function wt(t){if(Pt===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Pt=a&&a[1]||"",Wn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+t+Wn}var Rt=!1;function Xt(t,a){if(!t||Rt)return"";Rt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(Z){var I=Z}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(Z){I=Z}t.call(Q.prototype)}}else{try{throw Error()}catch(Z){I=Z}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(Z){if(Z&&I&&typeof Z.stack=="string")return[Z.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var C=v.split(`
`),O=S.split(`
`);for(u=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(o===C.length||u===O.length)for(o=C.length-1,u=O.length-1;1<=o&&0<=u&&C[o]!==O[u];)u--;for(;1<=o&&0<=u;o--,u--)if(C[o]!==O[u]){if(o!==1||u!==1)do if(o--,u--,0>u||C[o]!==O[u]){var V=`
`+C[o].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=o&&0<=u);break}}}finally{Rt=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?wt(i):""}function qn(t,a){switch(t.tag){case 26:case 27:case 5:return wt(t.type);case 16:return wt("Lazy");case 13:return t.child!==a&&a!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Xt(t.type,!1);case 11:return Xt(t.type.render,!1);case 1:return Xt(t.type,!0);case 31:return wt("Activity");default:return""}}function J(t){try{var a="",i=null;do a+=qn(t,i),i=t,t=t.return;while(t);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var le=Object.prototype.hasOwnProperty,Me=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,_t=e.unstable_shouldYield,dn=e.unstable_requestPaint,Ie=e.unstable_now,In=e.unstable_getCurrentPriorityLevel,Aa=e.unstable_ImmediatePriority,Pn=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,Jn=e.unstable_LowPriority,Hn=e.unstable_IdlePriority,tn=e.log,Il=e.unstable_setDisableYieldValue,ea=null,Ot=null;function Kt(t){if(typeof tn=="function"&&Il(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(ea,t)}catch{}}var Et=Math.clz32?Math.clz32:Fi,Yi=Math.log,Da=Math.LN2;function Fi(t){return t>>>=0,t===0?32:31-(Yi(t)/Da|0)|0}var ja=256,za=262144,ct=4194304;function nt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,a,i){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=nt(o):(v&=S,v!==0?u=nt(v):i||(i=S&~t,i!==0&&(u=nt(i))))):(S=o&~f,S!==0?u=nt(S):v!==0?u=nt(v):i||(i=o&~t,i!==0&&(u=nt(i)))),u===0?0:a!==0&&a!==u&&(a&f)===0&&(f=u&-u,i=a&-a,f>=i||f===32&&(i&4194048)!==0)?a:u}function X(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function ne(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var t=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),t}function Te(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function at(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function We(t,a,i,o,u,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,O=t.hiddenUpdates;for(i=v&~i;0<i;){var V=31-Et(i),Q=1<<V;S[V]=0,C[V]=-1;var I=O[V];if(I!==null)for(O[V]=null,V=0;V<I.length;V++){var Z=I[V];Z!==null&&(Z.lane&=-536870913)}i&=~Q}o!==0&&lt(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~a))}function lt(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-Et(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function qe(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var o=31-Et(i),u=1<<o;u&a|t[o]&a&&(t[o]|=a),i&=~u}}function vt(t,a){var i=a&-a;return i=(i&42)!==0?1:Dt(i),(i&(t.suspendedLanes|a))!==0?0:i}function Dt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qt(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Gp(t.type))}function Wt(t,a){var i=F.p;try{return F.p=t,a()}finally{F.p=i}}var ve=Math.random().toString(36).slice(2),dt="__reactFiber$"+ve,Ht="__reactProps$"+ve,oa="__reactContainer$"+ve,Pl="__reactEvents$"+ve,ls="__reactListeners$"+ve,is="__reactHandles$"+ve,Vi="__reactResources$"+ve,ka="__reactMarker$"+ve;function _c(t){delete t[dt],delete t[Ht],delete t[Pl],delete t[ls],delete t[is]}function Hl(t){var a=t[dt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[oa]||i[dt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=zp(t);t!==null;){if(i=t[dt])return i;t=zp(t)}return a}t=i,i=t.parentNode}return null}function Zl(t){if(t=t[dt]||t[oa]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Gi(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function $l(t){var a=t[Vi];return a||(a=t[Vi]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(t){t[ka]=!0}var fh=new Set,hh={};function pl(t,a){Yl(t,a),Yl(t+"Capture",a)}function Yl(t,a){for(hh[t]=a,t=0;t<a.length;t++)fh.add(a[t])}var px=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},gh={};function vx(t){return le.call(gh,t)?!0:le.call(mh,t)?!1:px.test(t)?gh[t]=!0:(mh[t]=!0,!1)}function rs(t,a,i){if(vx(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function ss(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function ca(t,a,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+o)}}function En(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ph(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yx(t,a,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,f=o.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,a,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ec(t){if(!t._valueTracker){var a=ph(t)?"checked":"value";t._valueTracker=yx(t,a,""+t[a])}}function vh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),o="";return t&&(o=ph(t)?t.checked?"true":"false":t.value),t=o,t!==i?(a.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bx=/[\n"\\]/g;function Tn(t){return t.replace(bx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tc(t,a,i,o,u,f,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+En(a)):t.value!==""+En(a)&&(t.value=""+En(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?Nc(t,v,En(a)):i!=null?Nc(t,v,En(i)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+En(S):t.removeAttribute("name")}function yh(t,a,i,o,u,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||a!=null)){Ec(t);return}i=i!=null?""+En(i):"",a=a!=null?""+En(a):i,S||a===t.value||(t.value=a),t.defaultValue=a}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ec(t)}function Nc(t,a,i){a==="number"&&os(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Fl(t,a,i,o){if(t=t.options,a){a={};for(var u=0;u<i.length;u++)a["$"+i[u]]=!0;for(i=0;i<t.length;i++)u=a.hasOwnProperty("$"+t[i].value),t[i].selected!==u&&(t[i].selected=u),u&&o&&(t[i].defaultSelected=!0)}else{for(i=""+En(i),a=null,u=0;u<t.length;u++){if(t[u].value===i){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}a!==null||t[u].disabled||(a=t[u])}a!==null&&(a.selected=!0)}}function bh(t,a,i){if(a!=null&&(a=""+En(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+En(i):""}function xh(t,a,i,o){if(a==null){if(o!=null){if(i!=null)throw Error(r(92));if(Se(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),a=i}i=En(a),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),Ec(t)}function Vl(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var xx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sh(t,a,i){var o=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,i):typeof i!="number"||i===0||xx.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function wh(t,a,i){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in a)o=a[u],a.hasOwnProperty(u)&&i[u]!==o&&Sh(t,u,o)}else for(var f in a)a.hasOwnProperty(f)&&Sh(t,f,a[f])}function Mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(t){return wx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ua(){}var Cc=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gl=null,Xl=null;function _h(t){var a=Zl(t);if(a&&(t=a.stateNode)){var i=t[Ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(Tc(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tn(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==t&&o.form===t.form){var u=o[Ht]||null;if(!u)throw Error(r(90));Tc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(a=0;a<i.length;a++)o=i[a],o.form===t.form&&vh(o)}break e;case"textarea":bh(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Fl(t,!!i.multiple,a,!1)}}}var Dc=!1;function Eh(t,a,i){if(Dc)return t(a,i);Dc=!0;try{var o=t(a);return o}finally{if(Dc=!1,(Gl!==null||Xl!==null)&&(Ks(),Gl&&(a=Gl,t=Xl,Xl=Gl=null,_h(a),t)))for(a=0;a<t.length;a++)_h(t[a])}}function Xi(t,a){var i=t.stateNode;if(i===null)return null;var o=i[Ht]||null;if(o===null)return null;i=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=!1;if(da)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){jc=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{jc=!1}var Ra=null,zc=null,us=null;function Th(){if(us)return us;var t,a=zc,i=a.length,o,u="value"in Ra?Ra.value:Ra.textContent,f=u.length;for(t=0;t<i&&a[t]===u[t];t++);var v=i-t;for(o=1;o<=v&&a[i-o]===u[f-o];o++);return us=u.slice(t,1<o?1-o:void 0)}function ds(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function Nh(){return!1}function nn(t){function a(i,o,u,f,v){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(i=t[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fs:Nh,this.isPropagationStopped=Nh,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),a}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=nn(vl),Qi=y({},vl,{view:0,detail:0}),_x=nn(Qi),kc,Rc,Wi,ms=y({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(kc=t.screenX-Wi.screenX,Rc=t.screenY-Wi.screenY):Rc=kc=0,Wi=t),kc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),Mh=nn(ms),Ex=y({},ms,{dataTransfer:0}),Tx=nn(Ex),Nx=y({},Qi,{relatedTarget:0}),Oc=nn(Nx),Mx=y({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Cx=nn(Mx),Ax=y({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dx=nn(Ax),jx=y({},vl,{data:0}),Ch=nn(jx),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ox(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Rx[t])?!!a[t]:!1}function Bc(){return Ox}var Bx=y({},Qi,{key:function(t){if(t.key){var a=zx[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lx=nn(Bx),Ux=y({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=nn(Ux),qx=y({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Ix=nn(qx),Px=y({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hx=nn(Px),Zx=y({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=nn(Zx),Yx=y({},vl,{newState:0,oldState:0}),Fx=nn(Yx),Vx=[9,13,27,32],Lc=da&&"CompositionEvent"in window,Ji=null;da&&"documentMode"in document&&(Ji=document.documentMode);var Gx=da&&"TextEvent"in window&&!Ji,Dh=da&&(!Lc||Ji&&8<Ji&&11>=Ji),jh=" ",zh=!1;function kh(t,a){switch(t){case"keyup":return Vx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kl=!1;function Xx(t,a){switch(t){case"compositionend":return Rh(a);case"keypress":return a.which!==32?null:(zh=!0,jh);case"textInput":return t=a.data,t===jh&&zh?null:t;default:return null}}function Kx(t,a){if(Kl)return t==="compositionend"||!Lc&&kh(t,a)?(t=Th(),us=zc=Ra=null,Kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Dh&&a.locale!=="ko"?null:a.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Qx[t.type]:a==="textarea"}function Bh(t,a,i,o){Gl?Xl?Xl.push(o):Xl=[o]:Gl=o,a=ao(a,"onChange"),0<a.length&&(i=new hs("onChange","change",null,i,o),t.push({event:i,listeners:a}))}var er=null,tr=null;function Wx(t){yp(t,0)}function gs(t){var a=Gi(t);if(vh(a))return t}function Lh(t,a){if(t==="change")return a}var Uh=!1;if(da){var Uc;if(da){var qc="oninput"in document;if(!qc){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),qc=typeof qh.oninput=="function"}Uc=qc}else Uc=!1;Uh=Uc&&(!document.documentMode||9<document.documentMode)}function Ih(){er&&(er.detachEvent("onpropertychange",Ph),tr=er=null)}function Ph(t){if(t.propertyName==="value"&&gs(tr)){var a=[];Bh(a,tr,t,Ac(t)),Eh(Wx,a)}}function Jx(t,a,i){t==="focusin"?(Ih(),er=a,tr=i,er.attachEvent("onpropertychange",Ph)):t==="focusout"&&Ih()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gs(tr)}function tS(t,a){if(t==="click")return gs(a)}function nS(t,a){if(t==="input"||t==="change")return gs(a)}function aS(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var hn=typeof Object.is=="function"?Object.is:aS;function nr(t,a){if(hn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),o=Object.keys(a);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!le.call(a,u)||!hn(t[u],a[u]))return!1}return!0}function Hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zh(t,a){var i=Hh(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=a&&o>=a)return{node:i,offset:a-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hh(i)}}function $h(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?$h(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Yh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=os(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=os(t.document)}return a}function Ic(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var lS=da&&"documentMode"in document&&11>=document.documentMode,Ql=null,Pc=null,ar=null,Hc=!1;function Fh(t,a,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Hc||Ql==null||Ql!==os(o)||(o=Ql,"selectionStart"in o&&Ic(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ar&&nr(ar,o)||(ar=o,o=ao(Pc,"onSelect"),0<o.length&&(a=new hs("onSelect","select",null,a,i),t.push({event:a,listeners:o}),a.target=Ql)))}function yl(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var Wl={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionrun:yl("Transition","TransitionRun"),transitionstart:yl("Transition","TransitionStart"),transitioncancel:yl("Transition","TransitionCancel"),transitionend:yl("Transition","TransitionEnd")},Zc={},Vh={};da&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function bl(t){if(Zc[t])return Zc[t];if(!Wl[t])return t;var a=Wl[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in Vh)return Zc[t]=a[i];return t}var Gh=bl("animationend"),Xh=bl("animationiteration"),Kh=bl("animationstart"),iS=bl("transitionrun"),rS=bl("transitionstart"),sS=bl("transitioncancel"),Qh=bl("transitionend"),Wh=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Zn(t,a){Wh.set(t,a),pl(a,[t])}var ps=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Jl=0,Yc=0;function vs(){for(var t=Jl,a=Yc=Jl=0;a<t;){var i=Nn[a];Nn[a++]=null;var o=Nn[a];Nn[a++]=null;var u=Nn[a];Nn[a++]=null;var f=Nn[a];if(Nn[a++]=null,o!==null&&u!==null){var v=o.pending;v===null?u.next=u:(u.next=v.next,v.next=u),o.pending=u}f!==0&&Jh(i,u,f)}}function ys(t,a,i,o){Nn[Jl++]=t,Nn[Jl++]=a,Nn[Jl++]=i,Nn[Jl++]=o,Yc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fc(t,a,i,o){return ys(t,a,i,o),bs(t)}function xl(t,a){return ys(t,null,null,a),bs(t)}function Jh(t,a,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var u=!1,f=t.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&a!==null&&(u=31-Et(i),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[a]:o.push(a),a.lane=i|536870912),f):null}function bs(t){if(50<Tr)throw Tr=0,td=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var ei={};function oS(t,a,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,a,i,o){return new oS(t,a,i,o)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fa(t,a){var i=t.alternate;return i===null?(i=mn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function em(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function xs(t,a,i,o,u,f){var v=0;if(o=t,typeof t=="function")Vc(t)&&(v=1);else if(typeof t=="string")v=h1(t,i,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case te:return t=mn(31,i,a,u),t.elementType=te,t.lanes=f,t;case E:return Sl(i.children,u,f,a);case A:v=8,u|=24;break;case N:return t=mn(12,i,a,u|2),t.elementType=N,t.lanes=f,t;case L:return t=mn(13,i,a,u),t.elementType=L,t.lanes=f,t;case j:return t=mn(19,i,a,u),t.elementType=j,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:v=10;break e;case q:v=9;break e;case P:v=11;break e;case T:v=14;break e;case $:v=16,o=null;break e}v=29,i=Error(r(130,t===null?"null":typeof t,"")),o=null}return a=mn(v,i,a,u),a.elementType=t,a.type=o,a.lanes=f,a}function Sl(t,a,i,o){return t=mn(7,t,o,a),t.lanes=i,t}function Gc(t,a,i){return t=mn(6,t,null,a),t.lanes=i,t}function tm(t){var a=mn(18,null,null,0);return a.stateNode=t,a}function Xc(t,a,i){return a=mn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var nm=new WeakMap;function Mn(t,a){if(typeof t=="object"&&t!==null){var i=nm.get(t);return i!==void 0?i:(a={value:t,source:a,stack:J(a)},nm.set(t,a),a)}return{value:t,source:a,stack:J(a)}}var ti=[],ni=0,Ss=null,lr=0,Cn=[],An=0,Oa=null,ta=1,na="";function ha(t,a){ti[ni++]=lr,ti[ni++]=Ss,Ss=t,lr=a}function am(t,a,i){Cn[An++]=ta,Cn[An++]=na,Cn[An++]=Oa,Oa=t;var o=ta;t=na;var u=32-Et(o)-1;o&=~(1<<u),i+=1;var f=32-Et(a)+u;if(30<f){var v=u-u%5;f=(o&(1<<v)-1).toString(32),o>>=v,u-=v,ta=1<<32-Et(a)+u|i<<u|o,na=f+t}else ta=1<<f|i<<u|o,na=t}function Kc(t){t.return!==null&&(ha(t,1),am(t,1,0))}function Qc(t){for(;t===Ss;)Ss=ti[--ni],ti[ni]=null,lr=ti[--ni],ti[ni]=null;for(;t===Oa;)Oa=Cn[--An],Cn[An]=null,na=Cn[--An],Cn[An]=null,ta=Cn[--An],Cn[An]=null}function lm(t,a){Cn[An++]=ta,Cn[An++]=na,Cn[An++]=Oa,ta=a.id,na=a.overflow,Oa=t}var Zt=null,et=null,ze=!1,Ba=null,Dn=!1,Wc=Error(r(519));function La(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ir(Mn(a,t)),Wc}function im(t){var a=t.stateNode,i=t.type,o=t.memoizedProps;switch(a[dt]=t,a[Ht]=o,i){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ae(Mr[i],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Ae("invalid",a),yh(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ae("invalid",a);break;case"textarea":Ae("invalid",a),xh(a,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||o.suppressHydrationWarning===!0||wp(a.textContent,i)?(o.popover!=null&&(Ae("beforetoggle",a),Ae("toggle",a)),o.onScroll!=null&&Ae("scroll",a),o.onScrollEnd!=null&&Ae("scrollend",a),o.onClick!=null&&(a.onclick=ua),a=!0):a=!1,a||La(t,!0)}function rm(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Zt=Zt.return}}function ai(t){if(t!==Zt)return!1;if(!ze)return rm(t),ze=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||pd(t.type,t.memoizedProps)),i=!i),i&&et&&La(t),rm(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=jp(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=jp(t)}else a===27?(a=et,Qa(t.type)?(t=Sd,Sd=null,et=t):et=a):et=Zt?zn(t.stateNode.nextSibling):null;return!0}function wl(){et=Zt=null,ze=!1}function Jc(){var t=Ba;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Ba=null),t}function ir(t){Ba===null?Ba=[t]:Ba.push(t)}var eu=M(null),_l=null,ma=null;function Ua(t,a,i){ee(eu,a._currentValue),a._currentValue=i}function ga(t){t._currentValue=eu.current,H(eu)}function tu(t,a,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===i)break;t=t.return}}function nu(t,a,i,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var C=0;C<a.length;C++)if(S.context===a[C]){f.lanes|=i,S=f.alternate,S!==null&&(S.lanes|=i),tu(f.return,i,t),o||(v=null);break e}f=S.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(r(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),tu(v,i,t),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===t){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function li(t,a,i,o){t=null;for(var u=a,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=u.type;hn(u.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(u===Ne.current){if(v=u.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(zr):t=[zr])}u=u.return}t!==null&&nu(a,t,i,o),a.flags|=262144}function ws(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function El(t){_l=t,ma=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return sm(_l,t)}function _s(t,a){return _l===null&&El(t),sm(t,a)}function sm(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},ma===null){if(t===null)throw Error(r(308));ma=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ma=ma.next=a;return i}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},uS=e.unstable_scheduleCallback,dS=e.unstable_NormalPriority,Tt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new cS,data:new Map,refCount:0}}function rr(t){t.refCount--,t.refCount===0&&uS(dS,function(){t.controller.abort()})}var sr=null,lu=0,ii=0,ri=null;function fS(t,a){if(sr===null){var i=sr=[];lu=0,ii=sd(),ri={status:"pending",value:void 0,then:function(o){i.push(o)}}}return lu++,a.then(om,om),a}function om(){if(--lu===0&&sr!==null){ri!==null&&(ri.status="fulfilled");var t=sr;sr=null,ii=0,ri=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function hS(t,a){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var u=0;u<i.length;u++)(0,i[u])(a)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var cm=U.S;U.S=function(t,a){Fg=Ie(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&fS(t,a),cm!==null&&cm(t,a)};var Tl=M(null);function iu(){var t=Tl.current;return t!==null?t:Ke.pooledCache}function Es(t,a){a===null?ee(Tl,Tl.current):ee(Tl,a.pool)}function um(){var t=iu();return t===null?null:{parent:Tt._currentValue,pool:t}}var si=Error(r(460)),ru=Error(r(474)),Ts=Error(r(542)),Ns={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fm(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(ua,ua),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,mm(t),t;default:if(typeof a.status=="string")a.then(ua,ua);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var u=a;u.status="fulfilled",u.value=o}},function(o){if(a.status==="pending"){var u=a;u.status="rejected",u.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,mm(t),t}throw Ml=a,si}}function Nl(t){try{var a=t._init;return a(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ml=i,si):i}}var Ml=null;function hm(){if(Ml===null)throw Error(r(459));var t=Ml;return Ml=null,t}function mm(t){if(t===si||t===Ts)throw Error(r(483))}var oi=null,or=0;function Ms(t){var a=or;return or+=1,oi===null&&(oi=[]),fm(oi,t,a)}function cr(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Cs(t,a){throw a.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function gm(t){function a(k,z){if(t){var R=k.deletions;R===null?(k.deletions=[z],k.flags|=16):R.push(z)}}function i(k,z){if(!t)return null;for(;z!==null;)a(k,z),z=z.sibling;return null}function o(k){for(var z=new Map;k!==null;)k.key!==null?z.set(k.key,k):z.set(k.index,k),k=k.sibling;return z}function u(k,z){return k=fa(k,z),k.index=0,k.sibling=null,k}function f(k,z,R){return k.index=R,t?(R=k.alternate,R!==null?(R=R.index,R<z?(k.flags|=67108866,z):R):(k.flags|=67108866,z)):(k.flags|=1048576,z)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function S(k,z,R,G){return z===null||z.tag!==6?(z=Gc(R,k.mode,G),z.return=k,z):(z=u(z,R),z.return=k,z)}function C(k,z,R,G){var fe=R.type;return fe===E?V(k,z,R.props.children,G,R.key):z!==null&&(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&Nl(fe)===z.type)?(z=u(z,R.props),cr(z,R),z.return=k,z):(z=xs(R.type,R.key,R.props,null,k.mode,G),cr(z,R),z.return=k,z)}function O(k,z,R,G){return z===null||z.tag!==4||z.stateNode.containerInfo!==R.containerInfo||z.stateNode.implementation!==R.implementation?(z=Xc(R,k.mode,G),z.return=k,z):(z=u(z,R.children||[]),z.return=k,z)}function V(k,z,R,G,fe){return z===null||z.tag!==7?(z=Sl(R,k.mode,G,fe),z.return=k,z):(z=u(z,R),z.return=k,z)}function Q(k,z,R){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Gc(""+z,k.mode,R),z.return=k,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return R=xs(z.type,z.key,z.props,null,k.mode,R),cr(R,z),R.return=k,R;case D:return z=Xc(z,k.mode,R),z.return=k,z;case $:return z=Nl(z),Q(k,z,R)}if(Se(z)||de(z))return z=Sl(z,k.mode,R,null),z.return=k,z;if(typeof z.then=="function")return Q(k,Ms(z),R);if(z.$$typeof===B)return Q(k,_s(k,z),R);Cs(k,z)}return null}function I(k,z,R,G){var fe=z!==null?z.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return fe!==null?null:S(k,z,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return R.key===fe?C(k,z,R,G):null;case D:return R.key===fe?O(k,z,R,G):null;case $:return R=Nl(R),I(k,z,R,G)}if(Se(R)||de(R))return fe!==null?null:V(k,z,R,G,null);if(typeof R.then=="function")return I(k,z,Ms(R),G);if(R.$$typeof===B)return I(k,z,_s(k,R),G);Cs(k,R)}return null}function Z(k,z,R,G,fe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(R)||null,S(z,k,""+G,fe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return k=k.get(G.key===null?R:G.key)||null,C(z,k,G,fe);case D:return k=k.get(G.key===null?R:G.key)||null,O(z,k,G,fe);case $:return G=Nl(G),Z(k,z,R,G,fe)}if(Se(G)||de(G))return k=k.get(R)||null,V(z,k,G,fe,null);if(typeof G.then=="function")return Z(k,z,R,Ms(G),fe);if(G.$$typeof===B)return Z(k,z,R,_s(z,G),fe);Cs(z,G)}return null}function se(k,z,R,G){for(var fe=null,Oe=null,oe=z,Ee=z=0,je=null;oe!==null&&Ee<R.length;Ee++){oe.index>Ee?(je=oe,oe=null):je=oe.sibling;var Be=I(k,oe,R[Ee],G);if(Be===null){oe===null&&(oe=je);break}t&&oe&&Be.alternate===null&&a(k,oe),z=f(Be,z,Ee),Oe===null?fe=Be:Oe.sibling=Be,Oe=Be,oe=je}if(Ee===R.length)return i(k,oe),ze&&ha(k,Ee),fe;if(oe===null){for(;Ee<R.length;Ee++)oe=Q(k,R[Ee],G),oe!==null&&(z=f(oe,z,Ee),Oe===null?fe=oe:Oe.sibling=oe,Oe=oe);return ze&&ha(k,Ee),fe}for(oe=o(oe);Ee<R.length;Ee++)je=Z(oe,k,Ee,R[Ee],G),je!==null&&(t&&je.alternate!==null&&oe.delete(je.key===null?Ee:je.key),z=f(je,z,Ee),Oe===null?fe=je:Oe.sibling=je,Oe=je);return t&&oe.forEach(function(nl){return a(k,nl)}),ze&&ha(k,Ee),fe}function ge(k,z,R,G){if(R==null)throw Error(r(151));for(var fe=null,Oe=null,oe=z,Ee=z=0,je=null,Be=R.next();oe!==null&&!Be.done;Ee++,Be=R.next()){oe.index>Ee?(je=oe,oe=null):je=oe.sibling;var nl=I(k,oe,Be.value,G);if(nl===null){oe===null&&(oe=je);break}t&&oe&&nl.alternate===null&&a(k,oe),z=f(nl,z,Ee),Oe===null?fe=nl:Oe.sibling=nl,Oe=nl,oe=je}if(Be.done)return i(k,oe),ze&&ha(k,Ee),fe;if(oe===null){for(;!Be.done;Ee++,Be=R.next())Be=Q(k,Be.value,G),Be!==null&&(z=f(Be,z,Ee),Oe===null?fe=Be:Oe.sibling=Be,Oe=Be);return ze&&ha(k,Ee),fe}for(oe=o(oe);!Be.done;Ee++,Be=R.next())Be=Z(oe,k,Ee,Be.value,G),Be!==null&&(t&&Be.alternate!==null&&oe.delete(Be.key===null?Ee:Be.key),z=f(Be,z,Ee),Oe===null?fe=Be:Oe.sibling=Be,Oe=Be);return t&&oe.forEach(function(E1){return a(k,E1)}),ze&&ha(k,Ee),fe}function Ge(k,z,R,G){if(typeof R=="object"&&R!==null&&R.type===E&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case _:e:{for(var fe=R.key;z!==null;){if(z.key===fe){if(fe=R.type,fe===E){if(z.tag===7){i(k,z.sibling),G=u(z,R.props.children),G.return=k,k=G;break e}}else if(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&Nl(fe)===z.type){i(k,z.sibling),G=u(z,R.props),cr(G,R),G.return=k,k=G;break e}i(k,z);break}else a(k,z);z=z.sibling}R.type===E?(G=Sl(R.props.children,k.mode,G,R.key),G.return=k,k=G):(G=xs(R.type,R.key,R.props,null,k.mode,G),cr(G,R),G.return=k,k=G)}return v(k);case D:e:{for(fe=R.key;z!==null;){if(z.key===fe)if(z.tag===4&&z.stateNode.containerInfo===R.containerInfo&&z.stateNode.implementation===R.implementation){i(k,z.sibling),G=u(z,R.children||[]),G.return=k,k=G;break e}else{i(k,z);break}else a(k,z);z=z.sibling}G=Xc(R,k.mode,G),G.return=k,k=G}return v(k);case $:return R=Nl(R),Ge(k,z,R,G)}if(Se(R))return se(k,z,R,G);if(de(R)){if(fe=de(R),typeof fe!="function")throw Error(r(150));return R=fe.call(R),ge(k,z,R,G)}if(typeof R.then=="function")return Ge(k,z,Ms(R),G);if(R.$$typeof===B)return Ge(k,z,_s(k,R),G);Cs(k,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,z!==null&&z.tag===6?(i(k,z.sibling),G=u(z,R),G.return=k,k=G):(i(k,z),G=Gc(R,k.mode,G),G.return=k,k=G),v(k)):i(k,z)}return function(k,z,R,G){try{or=0;var fe=Ge(k,z,R,G);return oi=null,fe}catch(oe){if(oe===si||oe===Ts)throw oe;var Oe=mn(29,oe,null,k.mode);return Oe.lanes=G,Oe.return=k,Oe}}}var Cl=gm(!0),pm=gm(!1),qa=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(t,a,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Le&2)!==0){var u=o.pending;return u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a,a=bs(t),Jh(t,null,i),a}return ys(t,o,a,i),bs(t)}function ur(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,qe(t,i)}}function cu(t,a){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?u=f=a:f=f.next=a}else u=f=a;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var uu=!1;function dr(){if(uu){var t=ri;if(t!==null)throw t}}function fr(t,a,i,o){uu=!1;var u=t.updateQueue;qa=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var C=S,O=C.next;C.next=null,v===null?f=O:v.next=O,v=C;var V=t.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==v&&(S===null?V.firstBaseUpdate=O:S.next=O,V.lastBaseUpdate=C))}if(f!==null){var Q=u.baseState;v=0,V=O=C=null,S=f;do{var I=S.lane&-536870913,Z=I!==S.lane;if(Z?(De&I)===I:(o&I)===I){I!==0&&I===ii&&(uu=!0),V!==null&&(V=V.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var se=t,ge=S;I=a;var Ge=i;switch(ge.tag){case 1:if(se=ge.payload,typeof se=="function"){Q=se.call(Ge,Q,I);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ge.payload,I=typeof se=="function"?se.call(Ge,Q,I):se,I==null)break e;Q=y({},Q,I);break e;case 2:qa=!0}}I=S.callback,I!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=u.callbacks,Z===null?u.callbacks=[I]:Z.push(I))}else Z={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(O=V=Z,C=Q):V=V.next=Z,v|=I;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,u.lastBaseUpdate=Z,u.shared.pending=null}}while(!0);V===null&&(C=Q),u.baseState=C,u.firstBaseUpdate=O,u.lastBaseUpdate=V,f===null&&(u.shared.lanes=0),Fa|=v,t.lanes=v,t.memoizedState=Q}}function vm(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function ym(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)vm(i[t],a)}var ci=M(null),As=M(0);function bm(t,a){t=Ea,ee(As,t),ee(ci,a),Ea=t|a.baseLanes}function du(){ee(As,Ea),ee(ci,ci.current)}function fu(){Ea=As.current,H(ci),H(As)}var gn=M(null),jn=null;function Ha(t){var a=t.alternate;ee(yt,yt.current&1),ee(gn,t),jn===null&&(a===null||ci.current!==null||a.memoizedState!==null)&&(jn=t)}function hu(t){ee(yt,yt.current),ee(gn,t),jn===null&&(jn=t)}function xm(t){t.tag===22?(ee(yt,yt.current),ee(gn,t),jn===null&&(jn=t)):Za()}function Za(){ee(yt,yt.current),ee(gn,gn.current)}function pn(t){H(gn),jn===t&&(jn=null),H(yt)}var yt=M(0);function Ds(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||bd(i)||xd(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pa=0,we=null,Fe=null,Nt=null,js=!1,ui=!1,Al=!1,zs=0,hr=0,di=null,mS=0;function ft(){throw Error(r(321))}function mu(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!hn(t[i],a[i]))return!1;return!0}function gu(t,a,i,o,u,f){return pa=f,we=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=t===null||t.memoizedState===null?ag:Du,Al=!1,f=i(o,u),Al=!1,ui&&(f=wm(a,i,o,u)),Sm(t),f}function Sm(t){U.H=pr;var a=Fe!==null&&Fe.next!==null;if(pa=0,Nt=Fe=we=null,js=!1,hr=0,di=null,a)throw Error(r(300));t===null||Mt||(t=t.dependencies,t!==null&&ws(t)&&(Mt=!0))}function wm(t,a,i,o){we=t;var u=0;do{if(ui&&(di=null),hr=0,ui=!1,25<=u)throw Error(r(301));if(u+=1,Nt=Fe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=lg,f=a(i,o)}while(ui);return f}function gS(){var t=U.H,a=t.useState()[0];return a=typeof a.then=="function"?mr(a):a,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(we.flags|=1024),a}function pu(){var t=zs!==0;return zs=0,t}function vu(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function yu(t){if(js){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}js=!1}pa=0,Nt=Fe=we=null,ui=!1,hr=zs=0,di=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?we.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function bt(){if(Fe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var a=Nt===null?we.memoizedState:Nt.next;if(a!==null)Nt=a,Fe=t;else{if(t===null)throw we.alternate===null?Error(r(467)):Error(r(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Nt===null?we.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(t){var a=hr;return hr+=1,di===null&&(di=[]),t=fm(di,t,a),a=we,(Nt===null?a.memoizedState:Nt.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?ag:Du),t}function Rs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mr(t);if(t.$$typeof===B)return $t(t)}throw Error(r(438,String(t)))}function bu(t){var a=null,i=we.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(u){return u.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=ks(),we.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),o=0;o<t;o++)i[o]=ie;return a.index++,i}function va(t,a){return typeof a=="function"?a(t):a}function Os(t){var a=bt();return xu(a,Fe,t)}function xu(t,a,i){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}a.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{a=u.next;var S=v=null,C=null,O=a,V=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(De&Q)===Q:(pa&Q)===Q){var I=O.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===ii&&(V=!0);else if((pa&I)===I){O=O.next,I===ii&&(V=!0);continue}else Q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(S=C=Q,v=f):C=C.next=Q,we.lanes|=I,Fa|=I;Q=O.action,Al&&i(f,Q),f=O.hasEagerState?O.eagerState:i(f,Q)}else I={lane:Q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(S=C=I,v=f):C=C.next=I,we.lanes|=Q,Fa|=Q;O=O.next}while(O!==null&&O!==a);if(C===null?v=f:C.next=S,!hn(f,t.memoizedState)&&(Mt=!0,V&&(i=ri,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=C,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Su(t){var a=bt(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var o=i.dispatch,u=i.pending,f=a.memoizedState;if(u!==null){i.pending=null;var v=u=u.next;do f=t(f,v.action),v=v.next;while(v!==u);hn(f,a.memoizedState)||(Mt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),i.lastRenderedState=f}return[f,o]}function _m(t,a,i){var o=we,u=bt(),f=ze;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=a();var v=!hn((Fe||u).memoizedState,i);if(v&&(u.memoizedState=i,Mt=!0),u=u.queue,Eu(Nm.bind(null,o,u,t),[t]),u.getSnapshot!==a||v||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,fi(9,{destroy:void 0},Tm.bind(null,o,u,i,a),null),Ke===null)throw Error(r(349));f||(pa&127)!==0||Em(o,a,i)}return i}function Em(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=we.updateQueue,a===null?(a=ks(),we.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Tm(t,a,i,o){a.value=i,a.getSnapshot=o,Mm(a)&&Cm(t)}function Nm(t,a,i){return i(function(){Mm(a)&&Cm(t)})}function Mm(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!hn(t,i)}catch{return!0}}function Cm(t){var a=xl(t,2);a!==null&&on(a,t,2)}function wu(t){var a=Jt();if(typeof t=="function"){var i=t;if(t=i(),Al){Kt(!0);try{i()}finally{Kt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},a}function Am(t,a,i,o){return t.baseState=i,xu(t,Fe,typeof o=="function"?o:va)}function pS(t,a,i,o,u){if(Us(t))throw Error(r(485));if(t=a.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};U.T!==null?i(!0):f.isTransition=!1,o(f),i=a.pending,i===null?(f.next=a.pending=f,Dm(a,f)):(f.next=i.next,a.pending=i.next=f)}}function Dm(t,a){var i=a.action,o=a.payload,u=t.state;if(a.isTransition){var f=U.T,v={};U.T=v;try{var S=i(u,o),C=U.S;C!==null&&C(v,S),jm(t,a,S)}catch(O){_u(t,a,O)}finally{f!==null&&v.types!==null&&(f.types=v.types),U.T=f}}else try{f=i(u,o),jm(t,a,f)}catch(O){_u(t,a,O)}}function jm(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){zm(t,a,o)},function(o){return _u(t,a,o)}):zm(t,a,i)}function zm(t,a,i){a.status="fulfilled",a.value=i,km(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Dm(t,i)))}function _u(t,a,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=i,km(a),a=a.next;while(a!==o)}t.action=null}function km(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Rm(t,a){return a}function Om(t,a){if(ze){var i=Ke.formState;if(i!==null){e:{var o=we;if(ze){if(et){t:{for(var u=et,f=Dn;u.nodeType!==8;){if(!f){u=null;break t}if(u=zn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){et=zn(u.nextSibling),o=u.data==="F!";break e}}La(o)}o=!1}o&&(a=i[0])}}return i=Jt(),i.memoizedState=i.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:a},i.queue=o,i=eg.bind(null,we,o),o.dispatch=i,o=wu(!1),f=Au.bind(null,we,!1,o.queue),o=Jt(),u={state:a,dispatch:null,action:t,pending:null},o.queue=u,i=pS.bind(null,we,u,f,i),u.dispatch=i,o.memoizedState=t,[a,i,!1]}function Bm(t){var a=bt();return Lm(a,Fe,t)}function Lm(t,a,i){if(a=xu(t,a,Rm)[0],t=Os(va)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=mr(a)}catch(v){throw v===si?Ts:v}else o=a;a=bt();var u=a.queue,f=u.dispatch;return i!==a.memoizedState&&(we.flags|=2048,fi(9,{destroy:void 0},vS.bind(null,u,i),null)),[o,f,t]}function vS(t,a){t.action=a}function Um(t){var a=bt(),i=Fe;if(i!==null)return Lm(a,i,t);bt(),a=a.memoizedState,i=bt();var o=i.queue.dispatch;return i.memoizedState=t,[a,o,!1]}function fi(t,a,i,o){return t={tag:t,create:i,deps:o,inst:a,next:null},a=we.updateQueue,a===null&&(a=ks(),we.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,a.lastEffect=t),t}function qm(){return bt().memoizedState}function Bs(t,a,i,o){var u=Jt();we.flags|=t,u.memoizedState=fi(1|a,{destroy:void 0},i,o===void 0?null:o)}function Ls(t,a,i,o){var u=bt();o=o===void 0?null:o;var f=u.memoizedState.inst;Fe!==null&&o!==null&&mu(o,Fe.memoizedState.deps)?u.memoizedState=fi(a,f,i,o):(we.flags|=t,u.memoizedState=fi(1|a,f,i,o))}function Im(t,a){Bs(8390656,8,t,a)}function Eu(t,a){Ls(2048,8,t,a)}function yS(t){we.flags|=4;var a=we.updateQueue;if(a===null)a=ks(),we.updateQueue=a,a.events=[t];else{var i=a.events;i===null?a.events=[t]:i.push(t)}}function Pm(t){var a=bt().memoizedState;return yS({ref:a,nextImpl:t}),function(){if((Le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Hm(t,a){return Ls(4,2,t,a)}function Zm(t,a){return Ls(4,4,t,a)}function $m(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ym(t,a,i){i=i!=null?i.concat([t]):null,Ls(4,4,$m.bind(null,a,t),i)}function Tu(){}function Fm(t,a){var i=bt();a=a===void 0?null:a;var o=i.memoizedState;return a!==null&&mu(a,o[1])?o[0]:(i.memoizedState=[t,a],t)}function Vm(t,a){var i=bt();a=a===void 0?null:a;var o=i.memoizedState;if(a!==null&&mu(a,o[1]))return o[0];if(o=t(),Al){Kt(!0);try{t()}finally{Kt(!1)}}return i.memoizedState=[o,a],o}function Nu(t,a,i){return i===void 0||(pa&1073741824)!==0&&(De&261930)===0?t.memoizedState=a:(t.memoizedState=i,t=Gg(),we.lanes|=t,Fa|=t,i)}function Gm(t,a,i,o){return hn(i,a)?i:ci.current!==null?(t=Nu(t,i,o),hn(t,a)||(Mt=!0),t):(pa&42)===0||(pa&1073741824)!==0&&(De&261930)===0?(Mt=!0,t.memoizedState=i):(t=Gg(),we.lanes|=t,Fa|=t,a)}function Xm(t,a,i,o,u){var f=F.p;F.p=f!==0&&8>f?f:8;var v=U.T,S={};U.T=S,Au(t,!1,a,i);try{var C=u(),O=U.S;if(O!==null&&O(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=hS(C,o);gr(t,a,V,bn(t))}else gr(t,a,o,bn(t))}catch(Q){gr(t,a,{then:function(){},status:"rejected",reason:Q},bn())}finally{F.p=f,v!==null&&S.types!==null&&(v.types=S.types),U.T=v}}function bS(){}function Mu(t,a,i,o){if(t.tag!==5)throw Error(r(476));var u=Km(t).queue;Xm(t,u,a,W,i===null?bS:function(){return Qm(t),i(o)})}function Km(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:W},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Qm(t){var a=Km(t);a.next===null&&(a=t.alternate.memoizedState),gr(t,a.next.queue,{},bn())}function Cu(){return $t(zr)}function Wm(){return bt().memoizedState}function Jm(){return bt().memoizedState}function xS(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=bn();t=Ia(i);var o=Pa(a,t,i);o!==null&&(on(o,a,i),ur(o,a,i)),a={cache:au()},t.payload=a;return}a=a.return}}function SS(t,a,i){var o=bn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Us(t)?tg(a,i):(i=Fc(t,a,i,o),i!==null&&(on(i,t,o),ng(i,a,o)))}function eg(t,a,i){var o=bn();gr(t,a,i,o)}function gr(t,a,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Us(t))tg(a,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var v=a.lastRenderedState,S=f(v,i);if(u.hasEagerState=!0,u.eagerState=S,hn(S,v))return ys(t,a,u,0),Ke===null&&vs(),!1}catch{}if(i=Fc(t,a,u,o),i!==null)return on(i,t,o),ng(i,a,o),!0}return!1}function Au(t,a,i,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Us(t)){if(a)throw Error(r(479))}else a=Fc(t,i,o,2),a!==null&&on(a,t,2)}function Us(t){var a=t.alternate;return t===we||a!==null&&a===we}function tg(t,a){ui=js=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function ng(t,a,i){if((i&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,qe(t,i)}}var pr={readContext:$t,use:Rs,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};pr.useEffectEvent=ft;var ag={readContext:$t,use:Rs,useCallback:function(t,a){return Jt().memoizedState=[t,a===void 0?null:a],t},useContext:$t,useEffect:Im,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Bs(4194308,4,$m.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Bs(4194308,4,t,a)},useInsertionEffect:function(t,a){Bs(4,2,t,a)},useMemo:function(t,a){var i=Jt();a=a===void 0?null:a;var o=t();if(Al){Kt(!0);try{t()}finally{Kt(!1)}}return i.memoizedState=[o,a],o},useReducer:function(t,a,i){var o=Jt();if(i!==void 0){var u=i(a);if(Al){Kt(!0);try{i(a)}finally{Kt(!1)}}}else u=a;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=SS.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var a=Jt();return t={current:t},a.memoizedState=t},useState:function(t){t=wu(t);var a=t.queue,i=eg.bind(null,we,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Tu,useDeferredValue:function(t,a){var i=Jt();return Nu(i,t,a)},useTransition:function(){var t=wu(!1);return t=Xm.bind(null,we,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var o=we,u=Jt();if(ze){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),Ke===null)throw Error(r(349));(De&127)!==0||Em(o,a,i)}u.memoizedState=i;var f={value:i,getSnapshot:a};return u.queue=f,Im(Nm.bind(null,o,f,t),[t]),o.flags|=2048,fi(9,{destroy:void 0},Tm.bind(null,o,f,i,a),null),i},useId:function(){var t=Jt(),a=Ke.identifierPrefix;if(ze){var i=na,o=ta;i=(o&~(1<<32-Et(o)-1)).toString(32)+i,a="_"+a+"R_"+i,i=zs++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=mS++,a="_"+a+"r_"+i.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Cu,useFormState:Om,useActionState:Om,useOptimistic:function(t){var a=Jt();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Au.bind(null,we,!0,i),i.dispatch=a,[t,a]},useMemoCache:bu,useCacheRefresh:function(){return Jt().memoizedState=xS.bind(null,we)},useEffectEvent:function(t){var a=Jt(),i={impl:t};return a.memoizedState=i,function(){if((Le&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Du={readContext:$t,use:Rs,useCallback:Fm,useContext:$t,useEffect:Eu,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Zm,useMemo:Vm,useReducer:Os,useRef:qm,useState:function(){return Os(va)},useDebugValue:Tu,useDeferredValue:function(t,a){var i=bt();return Gm(i,Fe.memoizedState,t,a)},useTransition:function(){var t=Os(va)[0],a=bt().memoizedState;return[typeof t=="boolean"?t:mr(t),a]},useSyncExternalStore:_m,useId:Wm,useHostTransitionStatus:Cu,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,a){var i=bt();return Am(i,Fe,t,a)},useMemoCache:bu,useCacheRefresh:Jm};Du.useEffectEvent=Pm;var lg={readContext:$t,use:Rs,useCallback:Fm,useContext:$t,useEffect:Eu,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Zm,useMemo:Vm,useReducer:Su,useRef:qm,useState:function(){return Su(va)},useDebugValue:Tu,useDeferredValue:function(t,a){var i=bt();return Fe===null?Nu(i,t,a):Gm(i,Fe.memoizedState,t,a)},useTransition:function(){var t=Su(va)[0],a=bt().memoizedState;return[typeof t=="boolean"?t:mr(t),a]},useSyncExternalStore:_m,useId:Wm,useHostTransitionStatus:Cu,useFormState:Um,useActionState:Um,useOptimistic:function(t,a){var i=bt();return Fe!==null?Am(i,Fe,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:bu,useCacheRefresh:Jm};lg.useEffectEvent=Pm;function ju(t,a,i,o){a=t.memoizedState,i=i(o,a),i=i==null?a:y({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var zu={enqueueSetState:function(t,a,i){t=t._reactInternals;var o=bn(),u=Ia(o);u.payload=a,i!=null&&(u.callback=i),a=Pa(t,u,o),a!==null&&(on(a,t,o),ur(a,t,o))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var o=bn(),u=Ia(o);u.tag=1,u.payload=a,i!=null&&(u.callback=i),a=Pa(t,u,o),a!==null&&(on(a,t,o),ur(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=bn(),o=Ia(i);o.tag=2,a!=null&&(o.callback=a),a=Pa(t,o,i),a!==null&&(on(a,t,i),ur(a,t,i))}};function ig(t,a,i,o,u,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):a.prototype&&a.prototype.isPureReactComponent?!nr(i,o)||!nr(u,f):!0}function rg(t,a,i,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,o),a.state!==t&&zu.enqueueReplaceState(a,a.state,null)}function Dl(t,a){var i=a;if("ref"in a){i={};for(var o in a)o!=="ref"&&(i[o]=a[o])}if(t=t.defaultProps){i===a&&(i=y({},i));for(var u in t)i[u]===void 0&&(i[u]=t[u])}return i}function sg(t){ps(t)}function og(t){console.error(t)}function cg(t){ps(t)}function qs(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function ug(t,a,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ku(t,a,i){return i=Ia(i),i.tag=3,i.payload={element:null},i.callback=function(){qs(t,a)},i}function dg(t){return t=Ia(t),t.tag=3,t}function fg(t,a,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){ug(a,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ug(a,i,o),typeof u!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function wS(t,a,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=i.alternate,a!==null&&li(a,i,u,!0),i=gn.current,i!==null){switch(i.tag){case 31:case 13:return jn===null?Qs():i.alternate===null&&ht===0&&(ht=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===Ns?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([o]):a.add(o),ld(t,o,u)),!1;case 22:return i.flags|=65536,o===Ns?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([o]):i.add(o)),ld(t,o,u)),!1}throw Error(r(435,i.tag))}return ld(t,o,u),Qs(),!1}if(ze)return a=gn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=u,o!==Wc&&(t=Error(r(422),{cause:o}),ir(Mn(t,i)))):(o!==Wc&&(a=Error(r(423),{cause:o}),ir(Mn(a,i))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Mn(o,i),u=ku(t.stateNode,o,u),cu(t,u),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:o});if(f=Mn(f,i),Er===null?Er=[f]:Er.push(f),ht!==4&&(ht=2),a===null)return!0;o=Mn(o,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=u&-u,i.lanes|=t,t=ku(i.stateNode,o,t),cu(i,t),!1;case 1:if(a=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Va===null||!Va.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=dg(u),fg(u,t,i,o),cu(i,u),!1}i=i.return}while(i!==null);return!1}var Ru=Error(r(461)),Mt=!1;function Yt(t,a,i,o){a.child=t===null?pm(a,null,i,o):Cl(a,t.child,i,o)}function hg(t,a,i,o,u){i=i.render;var f=a.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return El(a),o=gu(t,a,i,v,f,u),S=pu(),t!==null&&!Mt?(vu(t,a,u),ya(t,a,u)):(ze&&S&&Kc(a),a.flags|=1,Yt(t,a,o,u),a.child)}function mg(t,a,i,o,u){if(t===null){var f=i.type;return typeof f=="function"&&!Vc(f)&&f.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=f,gg(t,a,f,o,u)):(t=xs(i.type,null,o,a,a.mode,u),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!Hu(t,u)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:nr,i(v,o)&&t.ref===a.ref)return ya(t,a,u)}return a.flags|=1,t=fa(f,o),t.ref=a.ref,t.return=a,a.child=t}function gg(t,a,i,o,u){if(t!==null){var f=t.memoizedProps;if(nr(f,o)&&t.ref===a.ref)if(Mt=!1,a.pendingProps=o=f,Hu(t,u))(t.flags&131072)!==0&&(Mt=!0);else return a.lanes=t.lanes,ya(t,a,u)}return Ou(t,a,i,o,u)}function pg(t,a,i,o){var u=o.children,f=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((a.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(o=a.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~f}else o=0,a.child=null;return vg(t,a,f,i,o)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Es(a,f!==null?f.cachePool:null),f!==null?bm(a,f):du(),xm(a);else return o=a.lanes=536870912,vg(t,a,f!==null?f.baseLanes|i:i,i,o)}else f!==null?(Es(a,f.cachePool),bm(a,f),Za(),a.memoizedState=null):(t!==null&&Es(a,null),du(),Za());return Yt(t,a,u,i),a.child}function vr(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function vg(t,a,i,o,u){var f=iu();return f=f===null?null:{parent:Tt._currentValue,pool:f},a.memoizedState={baseLanes:i,cachePool:f},t!==null&&Es(a,null),du(),xm(a),t!==null&&li(t,a,o,!0),a.childLanes=u,null}function Is(t,a){return a=Hs({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function yg(t,a,i){return Cl(a,t.child,null,i),t=Is(a,a.pendingProps),t.flags|=2,pn(a),a.memoizedState=null,t}function _S(t,a,i){var o=a.pendingProps,u=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Is(a,o),a.lanes=536870912,vr(null,t);if(hu(a),(t=et)?(t=Dp(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Oa!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},i=tm(t),i.return=a,a.child=i,Zt=a,et=null)):t=null,t===null)throw La(a);return a.lanes=536870912,null}return Is(a,o)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(hu(a),u)if(a.flags&256)a.flags&=-257,a=yg(t,a,i);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Mt||li(t,a,i,!1),u=(i&t.childLanes)!==0,Mt||u){if(o=Ke,o!==null&&(v=vt(o,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,xl(t,v),on(o,t,v),Ru;Qs(),a=yg(t,a,i)}else t=f.treeContext,et=zn(v.nextSibling),Zt=a,ze=!0,Ba=null,Dn=!1,t!==null&&lm(a,t),a=Is(a,o),a.flags|=4096;return a}return t=fa(t.child,{mode:o.mode,children:o.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Ps(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function Ou(t,a,i,o,u){return El(a),i=gu(t,a,i,o,void 0,u),o=pu(),t!==null&&!Mt?(vu(t,a,u),ya(t,a,u)):(ze&&o&&Kc(a),a.flags|=1,Yt(t,a,i,u),a.child)}function bg(t,a,i,o,u,f){return El(a),a.updateQueue=null,i=wm(a,o,i,u),Sm(t),o=pu(),t!==null&&!Mt?(vu(t,a,f),ya(t,a,f)):(ze&&o&&Kc(a),a.flags|=1,Yt(t,a,i,f),a.child)}function xg(t,a,i,o,u){if(El(a),a.stateNode===null){var f=ei,v=i.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new i(o,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zu,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=o,f.state=a.memoizedState,f.refs={},su(a),v=i.contextType,f.context=typeof v=="object"&&v!==null?$t(v):ei,f.state=a.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ju(a,i,v,o),f.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&zu.enqueueReplaceState(f,f.state,null),fr(a,o,f,u),dr(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){f=a.stateNode;var S=a.memoizedProps,C=Dl(i,S);f.props=C;var O=f.context,V=i.contextType;v=ei,typeof V=="object"&&V!==null&&(v=$t(V));var Q=i.getDerivedStateFromProps;V=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||O!==v)&&rg(a,f,o,v),qa=!1;var I=a.memoizedState;f.state=I,fr(a,o,f,u),dr(),O=a.memoizedState,S||I!==O||qa?(typeof Q=="function"&&(ju(a,i,Q,o),O=a.memoizedState),(C=qa||ig(a,i,C,o,I,O,v))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=O),f.props=o,f.state=O,f.context=v,o=C):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{f=a.stateNode,ou(t,a),v=a.memoizedProps,V=Dl(i,v),f.props=V,Q=a.pendingProps,I=f.context,O=i.contextType,C=ei,typeof O=="object"&&O!==null&&(C=$t(O)),S=i.getDerivedStateFromProps,(O=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||I!==C)&&rg(a,f,o,C),qa=!1,I=a.memoizedState,f.state=I,fr(a,o,f,u),dr();var Z=a.memoizedState;v!==Q||I!==Z||qa||t!==null&&t.dependencies!==null&&ws(t.dependencies)?(typeof S=="function"&&(ju(a,i,S,o),Z=a.memoizedState),(V=qa||ig(a,i,V,o,I,Z,C)||t!==null&&t.dependencies!==null&&ws(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Z,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Z,C)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=Z),f.props=o,f.state=Z,f.context=C,o=V):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&I===t.memoizedState||(a.flags|=1024),o=!1)}return f=o,Ps(t,a),o=(a.flags&128)!==0,f||o?(f=a.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&o?(a.child=Cl(a,t.child,null,u),a.child=Cl(a,null,i,u)):Yt(t,a,i,u),a.memoizedState=f.state,t=a.child):t=ya(t,a,u),t}function Sg(t,a,i,o){return wl(),a.flags|=256,Yt(t,a,i,o),a.child}var Bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(t){return{baseLanes:t,cachePool:um()}}function Uu(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=yn),t}function wg(t,a,i){var o=a.pendingProps,u=!1,f=(a.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(u=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(ze){if(u?Ha(a):Za(),(t=et)?(t=Dp(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Oa!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},i=tm(t),i.return=a,a.child=i,Zt=a,et=null)):t=null,t===null)throw La(a);return xd(t)?a.lanes=32:a.lanes=536870912,null}var S=o.children;return o=o.fallback,u?(Za(),u=a.mode,S=Hs({mode:"hidden",children:S},u),o=Sl(o,u,i,null),S.return=a,o.return=a,S.sibling=o,a.child=S,o=a.child,o.memoizedState=Lu(i),o.childLanes=Uu(t,v,i),a.memoizedState=Bu,vr(null,o)):(Ha(a),qu(a,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(f)a.flags&256?(Ha(a),a.flags&=-257,a=Iu(t,a,i)):a.memoizedState!==null?(Za(),a.child=t.child,a.flags|=128,a=null):(Za(),S=o.fallback,u=a.mode,o=Hs({mode:"visible",children:o.children},u),S=Sl(S,u,i,null),S.flags|=2,o.return=a,S.return=a,o.sibling=S,a.child=o,Cl(a,t.child,null,i),o=a.child,o.memoizedState=Lu(i),o.childLanes=Uu(t,v,i),a.memoizedState=Bu,a=vr(null,o));else if(Ha(a),xd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var O=v.dgst;v=O,o=Error(r(419)),o.stack="",o.digest=v,ir({value:o,source:null,stack:null}),a=Iu(t,a,i)}else if(Mt||li(t,a,i,!1),v=(i&t.childLanes)!==0,Mt||v){if(v=Ke,v!==null&&(o=vt(v,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,xl(t,o),on(v,t,o),Ru;bd(S)||Qs(),a=Iu(t,a,i)}else bd(S)?(a.flags|=192,a.child=t.child,a=null):(t=C.treeContext,et=zn(S.nextSibling),Zt=a,ze=!0,Ba=null,Dn=!1,t!==null&&lm(a,t),a=qu(a,o.children),a.flags|=4096);return a}return u?(Za(),S=o.fallback,u=a.mode,C=t.child,O=C.sibling,o=fa(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,O!==null?S=fa(O,S):(S=Sl(S,u,i,null),S.flags|=2),S.return=a,o.return=a,o.sibling=S,a.child=o,vr(null,o),o=a.child,S=t.child.memoizedState,S===null?S=Lu(i):(u=S.cachePool,u!==null?(C=Tt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=um(),S={baseLanes:S.baseLanes|i,cachePool:u}),o.memoizedState=S,o.childLanes=Uu(t,v,i),a.memoizedState=Bu,vr(t.child,o)):(Ha(a),i=t.child,t=i.sibling,i=fa(i,{mode:"visible",children:o.children}),i.return=a,i.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=i,a.memoizedState=null,i)}function qu(t,a){return a=Hs({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Hs(t,a){return t=mn(22,t,null,a),t.lanes=0,t}function Iu(t,a,i){return Cl(a,t.child,null,i),t=qu(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function _g(t,a,i){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),tu(t.return,a,i)}function Pu(t,a,i,o,u,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:f}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=u,v.treeForkCount=f)}function Eg(t,a,i){var o=a.pendingProps,u=o.revealOrder,f=o.tail;o=o.children;var v=yt.current,S=(v&2)!==0;if(S?(v=v&1|2,a.flags|=128):v&=1,ee(yt,v),Yt(t,a,o,i),o=ze?lr:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,i,a);else if(t.tag===19)_g(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(i=a.child,u=null;i!==null;)t=i.alternate,t!==null&&Ds(t)===null&&(u=i),i=i.sibling;i=u,i===null?(u=a.child,a.child=null):(u=i.sibling,i.sibling=null),Pu(a,!1,u,i,f,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=a.child,a.child=null;u!==null;){if(t=u.alternate,t!==null&&Ds(t)===null){a.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}Pu(a,!0,i,null,f,o);break;case"together":Pu(a,!1,null,null,void 0,o);break;default:a.memoizedState=null}return a.child}function ya(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),Fa|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(li(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,i=fa(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=fa(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function Hu(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&ws(t)))}function ES(t,a,i){switch(a.tag){case 3:ot(a,a.stateNode.containerInfo),Ua(a,Tt,t.memoizedState.cache),wl();break;case 27:case 5:Xe(a);break;case 4:ot(a,a.stateNode.containerInfo);break;case 10:Ua(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,hu(a),null;break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ha(a),a.flags|=128,null):(i&a.child.childLanes)!==0?wg(t,a,i):(Ha(a),t=ya(t,a,i),t!==null?t.sibling:null);Ha(a);break;case 19:var u=(t.flags&128)!==0;if(o=(i&a.childLanes)!==0,o||(li(t,a,i,!1),o=(i&a.childLanes)!==0),u){if(o)return Eg(t,a,i);a.flags|=128}if(u=a.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ee(yt,yt.current),o)break;return null;case 22:return a.lanes=0,pg(t,a,i,a.pendingProps);case 24:Ua(a,Tt,t.memoizedState.cache)}return ya(t,a,i)}function Tg(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Mt=!0;else{if(!Hu(t,i)&&(a.flags&128)===0)return Mt=!1,ES(t,a,i);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(a.flags&1048576)!==0&&am(a,lr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var o=a.pendingProps;if(t=Nl(a.elementType),a.type=t,typeof t=="function")Vc(t)?(o=Dl(t,o),a.tag=1,a=xg(null,a,t,o,i)):(a.tag=0,a=Ou(null,a,t,o,i));else{if(t!=null){var u=t.$$typeof;if(u===P){a.tag=11,a=hg(null,a,t,o,i);break e}else if(u===T){a.tag=14,a=mg(null,a,t,o,i);break e}}throw a=ye(t)||t,Error(r(306,a,""))}}return a;case 0:return Ou(t,a,a.type,a.pendingProps,i);case 1:return o=a.type,u=Dl(o,a.pendingProps),xg(t,a,o,u,i);case 3:e:{if(ot(a,a.stateNode.containerInfo),t===null)throw Error(r(387));o=a.pendingProps;var f=a.memoizedState;u=f.element,ou(t,a),fr(a,o,null,i);var v=a.memoizedState;if(o=v.cache,Ua(a,Tt,o),o!==f.cache&&nu(a,[Tt],i,!0),dr(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=Sg(t,a,o,i);break e}else if(o!==u){u=Mn(Error(r(424)),a),ir(u),a=Sg(t,a,o,i);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,et=zn(t.firstChild),Zt=a,ze=!0,Ba=null,Dn=!0,i=pm(a,null,o,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(wl(),o===u){a=ya(t,a,i);break e}Yt(t,a,o,i)}a=a.child}return a;case 26:return Ps(t,a),t===null?(i=Bp(a.type,null,a.pendingProps,null))?a.memoizedState=i:ze||(i=a.type,t=a.pendingProps,o=lo(me.current).createElement(i),o[dt]=a,o[Ht]=t,Ft(o,i,t),Bt(o),a.stateNode=o):a.memoizedState=Bp(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Xe(a),t===null&&ze&&(o=a.stateNode=kp(a.type,a.pendingProps,me.current),Zt=a,Dn=!0,u=et,Qa(a.type)?(Sd=u,et=zn(o.firstChild)):et=u),Yt(t,a,a.pendingProps.children,i),Ps(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ze&&((u=o=et)&&(o=e1(o,a.type,a.pendingProps,Dn),o!==null?(a.stateNode=o,Zt=a,et=zn(o.firstChild),Dn=!1,u=!0):u=!1),u||La(a)),Xe(a),u=a.type,f=a.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,pd(u,f)?o=null:v!==null&&pd(u,v)&&(a.flags|=32),a.memoizedState!==null&&(u=gu(t,a,gS,null,null,i),zr._currentValue=u),Ps(t,a),Yt(t,a,o,i),a.child;case 6:return t===null&&ze&&((t=i=et)&&(i=t1(i,a.pendingProps,Dn),i!==null?(a.stateNode=i,Zt=a,et=null,t=!0):t=!1),t||La(a)),null;case 13:return wg(t,a,i);case 4:return ot(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Cl(a,null,o,i):Yt(t,a,o,i),a.child;case 11:return hg(t,a,a.type,a.pendingProps,i);case 7:return Yt(t,a,a.pendingProps,i),a.child;case 8:return Yt(t,a,a.pendingProps.children,i),a.child;case 12:return Yt(t,a,a.pendingProps.children,i),a.child;case 10:return o=a.pendingProps,Ua(a,a.type,o.value),Yt(t,a,o.children,i),a.child;case 9:return u=a.type._context,o=a.pendingProps.children,El(a),u=$t(u),o=o(u),a.flags|=1,Yt(t,a,o,i),a.child;case 14:return mg(t,a,a.type,a.pendingProps,i);case 15:return gg(t,a,a.type,a.pendingProps,i);case 19:return Eg(t,a,i);case 31:return _S(t,a,i);case 22:return pg(t,a,i,a.pendingProps);case 24:return El(a),o=$t(Tt),t===null?(u=iu(),u===null&&(u=Ke,f=au(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),a.memoizedState={parent:o,cache:u},su(a),Ua(a,Tt,u)):((t.lanes&i)!==0&&(ou(t,a),fr(a,null,null,i),dr()),u=t.memoizedState,f=a.memoizedState,u.parent!==o?(u={parent:o,cache:o},a.memoizedState=u,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=u),Ua(a,Tt,o)):(o=f.cache,Ua(a,Tt,o),o!==u.cache&&nu(a,[Tt],i,!0))),Yt(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ba(t){t.flags|=4}function Zu(t,a,i,o,u){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Wg())t.flags|=8192;else throw Ml=Ns,ru}else t.flags&=-16777217}function Ng(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pp(a))if(Wg())t.flags|=8192;else throw Ml=Ns,ru}function Zs(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?be():536870912,t.lanes|=a,pi|=a)}function yr(t,a){if(!ze)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function tt(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(a)for(var u=t.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=i,a}function TS(t,a,i){var o=a.pendingProps;switch(Qc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(a),null;case 1:return tt(a),null;case 3:return i=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ga(Tt),Ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ai(a)?ba(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jc())),tt(a),null;case 26:var u=a.type,f=a.memoizedState;return t===null?(ba(a),f!==null?(tt(a),Ng(a,f)):(tt(a),Zu(a,u,null,o,i))):f?f!==t.memoizedState?(ba(a),tt(a),Ng(a,f)):(tt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==o&&ba(a),tt(a),Zu(a,u,t,o,i)),null;case 27:if(_n(a),i=me.current,u=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&ba(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return tt(a),null}t=ae.current,ai(a)?im(a):(t=kp(u,o,i),a.stateNode=t,ba(a))}return tt(a),null;case 5:if(_n(a),u=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&ba(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return tt(a),null}if(f=ae.current,ai(a))im(a);else{var v=lo(me.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(u,{is:o.is}):v.createElement(u)}}f[dt]=a,f[Ht]=o;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=f;e:switch(Ft(f,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ba(a)}}return tt(a),Zu(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,i),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&ba(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(r(166));if(t=me.current,ai(a)){if(t=a.stateNode,i=a.memoizedProps,o=null,u=Zt,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[dt]=a,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||wp(t.nodeValue,i)),t||La(a,!0)}else t=lo(t).createTextNode(o),t[dt]=a,a.stateNode=t}return tt(a),null;case 31:if(i=a.memoizedState,t===null||t.memoizedState!==null){if(o=ai(a),i!==null){if(t===null){if(!o)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[dt]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),t=!1}else i=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return a.flags&256?(pn(a),a):(pn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return tt(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=ai(a),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=a.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[dt]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),u=!1}else u=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return a.flags&256?(pn(a),a):(pn(a),null)}return pn(a),(a.flags&128)!==0?(a.lanes=i,a):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=a.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)),i!==t&&i&&(a.child.flags|=8192),Zs(a,a.updateQueue),tt(a),null);case 4:return Ye(),t===null&&dd(a.stateNode.containerInfo),tt(a),null;case 10:return ga(a.type),tt(a),null;case 19:if(H(yt),o=a.memoizedState,o===null)return tt(a),null;if(u=(a.flags&128)!==0,f=o.rendering,f===null)if(u)yr(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=Ds(t),f!==null){for(a.flags|=128,yr(o,!1),t=f.updateQueue,a.updateQueue=t,Zs(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)em(i,t),i=i.sibling;return ee(yt,yt.current&1|2),ze&&ha(a,o.treeForkCount),a.child}t=t.sibling}o.tail!==null&&Ie()>Gs&&(a.flags|=128,u=!0,yr(o,!1),a.lanes=4194304)}else{if(!u)if(t=Ds(f),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,Zs(a,t),yr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return tt(a),null}else 2*Ie()-o.renderingStartTime>Gs&&i!==536870912&&(a.flags|=128,u=!0,yr(o,!1),a.lanes=4194304);o.isBackwards?(f.sibling=a.child,a.child=f):(t=o.last,t!==null?t.sibling=f:a.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,i=yt.current,ee(yt,u?i&1|2:i&1),ze&&ha(a,o.treeForkCount),t):(tt(a),null);case 22:case 23:return pn(a),fu(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(i&536870912)!==0&&(a.flags&128)===0&&(tt(a),a.subtreeFlags&6&&(a.flags|=8192)):tt(a),i=a.updateQueue,i!==null&&Zs(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048),t!==null&&H(Tl),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ga(Tt),tt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function NS(t,a){switch(Qc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ga(Tt),Ye(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return _n(a),null;case 31:if(a.memoizedState!==null){if(pn(a),a.alternate===null)throw Error(r(340));wl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(pn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));wl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return H(yt),null;case 4:return Ye(),null;case 10:return ga(a.type),null;case 22:case 23:return pn(a),fu(),t!==null&&H(Tl),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ga(Tt),null;case 25:return null;default:return null}}function Mg(t,a){switch(Qc(a),a.tag){case 3:ga(Tt),Ye();break;case 26:case 27:case 5:_n(a);break;case 4:Ye();break;case 31:a.memoizedState!==null&&pn(a);break;case 13:pn(a);break;case 19:H(yt);break;case 10:ga(a.type);break;case 22:case 23:pn(a),fu(),t!==null&&H(Tl);break;case 24:ga(Tt)}}function br(t,a){try{var i=a.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&t)===t){o=void 0;var f=i.create,v=i.inst;o=f(),v.destroy=o}i=i.next}while(i!==u)}}catch(S){Ze(a,a.return,S)}}function $a(t,a,i){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,u=a;var C=i,O=S;try{O()}catch(V){Ze(u,C,V)}}}o=o.next}while(o!==f)}}catch(V){Ze(a,a.return,V)}}function Cg(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{ym(a,i)}catch(o){Ze(t,t.return,o)}}}function Ag(t,a,i){i.props=Dl(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Ze(t,a,o)}}function xr(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(u){Ze(t,a,u)}}function aa(t,a){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){Ze(t,a,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ze(t,a,u)}else i.current=null}function Dg(t){var a=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){Ze(t,t.return,u)}}function $u(t,a,i){try{var o=t.stateNode;GS(o,t.type,i,a),o[Ht]=a}catch(u){Ze(t,t.return,u)}}function jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function Yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=ua));else if(o!==4&&(o===27&&Qa(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(Fu(t,a,i),t=t.sibling;t!==null;)Fu(t,a,i),t=t.sibling}function $s(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(o!==4&&(o===27&&Qa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for($s(t,a,i),t=t.sibling;t!==null;)$s(t,a,i),t=t.sibling}function zg(t){var a=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Ft(a,o,i),a[dt]=t,a[Ht]=i}catch(f){Ze(t,t.return,f)}}var xa=!1,Ct=!1,Vu=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function MS(t,a){if(t=t.containerInfo,md=fo,t=Yh(t),Ic(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,S=-1,C=-1,O=0,V=0,Q=t,I=null;t:for(;;){for(var Z;Q!==i||u!==0&&Q.nodeType!==3||(S=v+u),Q!==f||o!==0&&Q.nodeType!==3||(C=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(Z=Q.firstChild)!==null;)I=Q,Q=Z;for(;;){if(Q===t)break t;if(I===i&&++O===u&&(S=v),I===f&&++V===o&&(C=v),(Z=Q.nextSibling)!==null)break;Q=I,I=Q.parentNode}Q=Z}i=S===-1||C===-1?null:{start:S,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(gd={focusedElem:t,selectionRange:i},fo=!1,Lt=a;Lt!==null;)if(a=Lt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Lt=t;else for(;Lt!==null;){switch(a=Lt,f=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)u=t[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=a,u=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var se=Dl(i.type,u);t=o.getSnapshotBeforeUpdate(se,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ze(i,i.return,ge)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)yd(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Lt=t;break}Lt=a.return}}function Rg(t,a,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:wa(t,i),o&4&&br(5,i);break;case 1:if(wa(t,i),o&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(v){Ze(i,i.return,v)}else{var u=Dl(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(u,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(i,i.return,v)}}o&64&&Cg(i),o&512&&xr(i,i.return);break;case 3:if(wa(t,i),o&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{ym(t,a)}catch(v){Ze(i,i.return,v)}}break;case 27:a===null&&o&4&&zg(i);case 26:case 5:wa(t,i),a===null&&o&4&&Dg(i),o&512&&xr(i,i.return);break;case 12:wa(t,i);break;case 31:wa(t,i),o&4&&Lg(t,i);break;case 13:wa(t,i),o&4&&Ug(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=BS.bind(null,i),n1(t,i))));break;case 22:if(o=i.memoizedState!==null||xa,!o){a=a!==null&&a.memoizedState!==null||Ct,u=xa;var f=Ct;xa=o,(Ct=a)&&!f?_a(t,i,(i.subtreeFlags&8772)!==0):wa(t,i),xa=u,Ct=f}break;case 30:break;default:wa(t,i)}}function Og(t){var a=t.alternate;a!==null&&(t.alternate=null,Og(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&_c(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,an=!1;function Sa(t,a,i){for(i=i.child;i!==null;)Bg(t,a,i),i=i.sibling}function Bg(t,a,i){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ea,i)}catch{}switch(i.tag){case 26:Ct||aa(i,a),Sa(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ct||aa(i,a);var o=it,u=an;Qa(i.type)&&(it=i.stateNode,an=!1),Sa(t,a,i),Ar(i.stateNode),it=o,an=u;break;case 5:Ct||aa(i,a);case 6:if(o=it,u=an,it=null,Sa(t,a,i),it=o,an=u,it!==null)if(an)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(i.stateNode)}catch(f){Ze(i,a,f)}else try{it.removeChild(i.stateNode)}catch(f){Ze(i,a,f)}break;case 18:it!==null&&(an?(t=it,Cp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ei(t)):Cp(it,i.stateNode));break;case 4:o=it,u=an,it=i.stateNode.containerInfo,an=!0,Sa(t,a,i),it=o,an=u;break;case 0:case 11:case 14:case 15:$a(2,i,a),Ct||$a(4,i,a),Sa(t,a,i);break;case 1:Ct||(aa(i,a),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Ag(i,a,o)),Sa(t,a,i);break;case 21:Sa(t,a,i);break;case 22:Ct=(o=Ct)||i.memoizedState!==null,Sa(t,a,i),Ct=o;break;default:Sa(t,a,i)}}function Lg(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ei(t)}catch(i){Ze(a,a.return,i)}}}function Ug(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ei(t)}catch(i){Ze(a,a.return,i)}}function CS(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new kg),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new kg),a;default:throw Error(r(435,t.tag))}}function Ys(t,a){var i=CS(t);a.forEach(function(o){if(!i.has(o)){i.add(o);var u=LS.bind(null,t,o);o.then(u,u)}})}function ln(t,a){var i=a.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],f=t,v=a,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Qa(S.type)){it=S.stateNode,an=!1;break e}break;case 5:it=S.stateNode,an=!1;break e;case 3:case 4:it=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(it===null)throw Error(r(160));Bg(f,v,u),it=null,an=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)qg(a,t),a=a.sibling}var $n=null;function qg(t,a){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(a,t),rn(t),o&4&&($a(3,t,t.return),br(3,t),$a(5,t,t.return));break;case 1:ln(a,t),rn(t),o&512&&(Ct||i===null||aa(i,i.return)),o&64&&xa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=$n;if(ln(a,t),rn(t),o&512&&(Ct||i===null||aa(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ka]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),Ft(f,o,i),f[dt]=t,Bt(f),o=f;break e;case"link":var v=qp("link","href",u).get(o+(i.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(S,1);break t}}f=u.createElement(o),Ft(f,o,i),u.head.appendChild(f);break;case"meta":if(v=qp("meta","content",u).get(o+(i.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(S,1);break t}}f=u.createElement(o),Ft(f,o,i),u.head.appendChild(f);break;default:throw Error(r(468,o))}f[dt]=t,Bt(f),o=f}t.stateNode=o}else Ip(u,t.type,t.stateNode);else t.stateNode=Up(u,o,t.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?Ip(u,t.type,t.stateNode):Up(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$u(t,t.memoizedProps,i.memoizedProps)}break;case 27:ln(a,t),rn(t),o&512&&(Ct||i===null||aa(i,i.return)),i!==null&&o&4&&$u(t,t.memoizedProps,i.memoizedProps);break;case 5:if(ln(a,t),rn(t),o&512&&(Ct||i===null||aa(i,i.return)),t.flags&32){u=t.stateNode;try{Vl(u,"")}catch(se){Ze(t,t.return,se)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,$u(t,u,i!==null?i.memoizedProps:u)),o&1024&&(Vu=!0);break;case 6:if(ln(a,t),rn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(se){Ze(t,t.return,se)}}break;case 3:if(so=null,u=$n,$n=io(a.containerInfo),ln(a,t),$n=u,rn(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ei(a.containerInfo)}catch(se){Ze(t,t.return,se)}Vu&&(Vu=!1,Ig(t));break;case 4:o=$n,$n=io(t.stateNode.containerInfo),ln(a,t),rn(t),$n=o;break;case 12:ln(a,t),rn(t);break;case 31:ln(a,t),rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ys(t,o)));break;case 13:ln(a,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vs=Ie()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ys(t,o)));break;case 22:u=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,O=xa,V=Ct;if(xa=O||u,Ct=V||C,ln(a,t),Ct=V,xa=O,rn(t),o&8192)e:for(a=t.stateNode,a._visibility=u?a._visibility&-2:a._visibility|1,u&&(i===null||C||xa||Ct||jl(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){C=i=a;try{if(f=C.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var Q=C.memoizedProps.style,I=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(se){Ze(C,C.return,se)}}}else if(a.tag===6){if(i===null){C=a;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(se){Ze(C,C.return,se)}}}else if(a.tag===18){if(i===null){C=a;try{var Z=C.stateNode;u?Ap(Z,!0):Ap(C.stateNode,!1)}catch(se){Ze(C,C.return,se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Ys(t,i))));break;case 19:ln(a,t),rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ys(t,o)));break;case 30:break;case 21:break;default:ln(a,t),rn(t)}}function rn(t){var a=t.flags;if(a&2){try{for(var i,o=t.return;o!==null;){if(jg(o)){i=o;break}o=o.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,f=Yu(t);$s(t,f,u);break;case 5:var v=i.stateNode;i.flags&32&&(Vl(v,""),i.flags&=-33);var S=Yu(t);$s(t,S,v);break;case 3:case 4:var C=i.stateNode.containerInfo,O=Yu(t);Fu(t,O,C);break;default:throw Error(r(161))}}catch(V){Ze(t,t.return,V)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ig(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function wa(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rg(t,a.alternate,a),a=a.sibling}function jl(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:$a(4,a,a.return),jl(a);break;case 1:aa(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Ag(a,a.return,i),jl(a);break;case 27:Ar(a.stateNode);case 26:case 5:aa(a,a.return),jl(a);break;case 22:a.memoizedState===null&&jl(a);break;case 30:jl(a);break;default:jl(a)}t=t.sibling}}function _a(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,u=t,f=a,v=f.flags;switch(f.tag){case 0:case 11:case 15:_a(u,f,i),br(4,f);break;case 1:if(_a(u,f,i),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Ze(o,o.return,O)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)vm(C[u],S)}catch(O){Ze(o,o.return,O)}}i&&v&64&&Cg(f),xr(f,f.return);break;case 27:zg(f);case 26:case 5:_a(u,f,i),i&&o===null&&v&4&&Dg(f),xr(f,f.return);break;case 12:_a(u,f,i);break;case 31:_a(u,f,i),i&&v&4&&Lg(u,f);break;case 13:_a(u,f,i),i&&v&4&&Ug(u,f);break;case 22:f.memoizedState===null&&_a(u,f,i),xr(f,f.return);break;case 30:break;default:_a(u,f,i)}a=a.sibling}}function Gu(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&rr(i))}function Xu(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&rr(t))}function Yn(t,a,i,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pg(t,a,i,o),a=a.sibling}function Pg(t,a,i,o){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(t,a,i,o),u&2048&&br(9,a);break;case 1:Yn(t,a,i,o);break;case 3:Yn(t,a,i,o),u&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&rr(t)));break;case 12:if(u&2048){Yn(t,a,i,o),t=a.stateNode;try{var f=a.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(a,a.return,C)}}else Yn(t,a,i,o);break;case 31:Yn(t,a,i,o);break;case 13:Yn(t,a,i,o);break;case 23:break;case 22:f=a.stateNode,v=a.alternate,a.memoizedState!==null?f._visibility&2?Yn(t,a,i,o):Sr(t,a):f._visibility&2?Yn(t,a,i,o):(f._visibility|=2,hi(t,a,i,o,(a.subtreeFlags&10256)!==0||!1)),u&2048&&Gu(v,a);break;case 24:Yn(t,a,i,o),u&2048&&Xu(a.alternate,a);break;default:Yn(t,a,i,o)}}function hi(t,a,i,o,u){for(u=u&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var f=t,v=a,S=i,C=o,O=v.flags;switch(v.tag){case 0:case 11:case 15:hi(f,v,S,C,u),br(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?hi(f,v,S,C,u):Sr(f,v):(V._visibility|=2,hi(f,v,S,C,u)),u&&O&2048&&Gu(v.alternate,v);break;case 24:hi(f,v,S,C,u),u&&O&2048&&Xu(v.alternate,v);break;default:hi(f,v,S,C,u)}a=a.sibling}}function Sr(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,o=a,u=o.flags;switch(o.tag){case 22:Sr(i,o),u&2048&&Gu(o.alternate,o);break;case 24:Sr(i,o),u&2048&&Xu(o.alternate,o);break;default:Sr(i,o)}a=a.sibling}}var wr=8192;function mi(t,a,i){if(t.subtreeFlags&wr)for(t=t.child;t!==null;)Hg(t,a,i),t=t.sibling}function Hg(t,a,i){switch(t.tag){case 26:mi(t,a,i),t.flags&wr&&t.memoizedState!==null&&m1(i,$n,t.memoizedState,t.memoizedProps);break;case 5:mi(t,a,i);break;case 3:case 4:var o=$n;$n=io(t.stateNode.containerInfo),mi(t,a,i),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=wr,wr=16777216,mi(t,a,i),wr=o):mi(t,a,i));break;default:mi(t,a,i)}}function Zg(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function _r(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Lt=o,Yg(o,t)}Zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 0:case 11:case 15:_r(t),t.flags&2048&&$a(9,t,t.return);break;case 3:_r(t);break;case 12:_r(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Fs(t)):_r(t);break;default:_r(t)}}function Fs(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Lt=o,Yg(o,t)}Zg(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:$a(8,a,a.return),Fs(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Fs(a));break;default:Fs(a)}t=t.sibling}}function Yg(t,a){for(;Lt!==null;){var i=Lt;switch(i.tag){case 0:case 11:case 15:$a(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rr(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Lt=o;else e:for(i=t;Lt!==null;){o=Lt;var u=o.sibling,f=o.return;if(Og(o),o===i){Lt=null;break e}if(u!==null){u.return=f,Lt=u;break e}Lt=f}}}var AS={getCacheForType:function(t){var a=$t(Tt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i},cacheSignal:function(){return $t(Tt).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ke=null,Ce=null,De=0,He=0,vn=null,Ya=!1,gi=!1,Ku=!1,Ea=0,ht=0,Fa=0,zl=0,Qu=0,yn=0,pi=0,Er=null,sn=null,Wu=!1,Vs=0,Fg=0,Gs=1/0,Xs=null,Va=null,jt=0,Ga=null,vi=null,Ta=0,Ju=0,ed=null,Vg=null,Tr=0,td=null;function bn(){return(Le&2)!==0&&De!==0?De&-De:U.T!==null?sd():Qt()}function Gg(){if(yn===0)if((De&536870912)===0||ze){var t=za;za<<=1,(za&3932160)===0&&(za=262144),yn=t}else yn=536870912;return t=gn.current,t!==null&&(t.flags|=32),yn}function on(t,a,i){(t===Ke&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(yi(t,0),Xa(t,De,yn,!1)),at(t,i),((Le&2)===0||t!==Ke)&&(t===Ke&&((Le&2)===0&&(zl|=i),ht===4&&Xa(t,De,yn,!1)),la(t))}function Xg(t,a,i){if((Le&6)!==0)throw Error(r(327));var o=!i&&(a&127)===0&&(a&t.expiredLanes)===0||X(t,a),u=o?kS(t,a):ad(t,a,!0),f=o;do{if(u===0){gi&&!o&&Xa(t,a,0,!1);break}else{if(i=t.current.alternate,f&&!jS(i)){u=ad(t,a,!1),f=!1;continue}if(u===2){if(f=a,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var S=t;u=Er;var C=S.current.memoizedState.isDehydrated;if(C&&(yi(S,v).flags|=256),v=ad(S,v,!1),v!==2){if(Ku&&!C){S.errorRecoveryDisabledLanes|=f,zl|=f,u=4;break e}f=sn,sn=u,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){yi(t,0),Xa(t,a,0,!0);break}e:{switch(o=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Xa(o,a,yn,!Ya);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(u=Vs+300-Ie(),10<u)){if(Xa(o,a,yn,!Ya),pt(o,0,!0)!==0)break e;Ta=a,o.timeoutHandle=Np(Kg.bind(null,o,i,sn,Xs,Wu,a,yn,zl,pi,Ya,f,"Throttled",-0,0),u);break e}Kg(o,i,sn,Xs,Wu,a,yn,zl,pi,Ya,f,null,-0,0)}}break}while(!0);la(t)}function Kg(t,a,i,o,u,f,v,S,C,O,V,Q,I,Z){if(t.timeoutHandle=-1,Q=a.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},Hg(a,f,Q);var se=(f&62914560)===f?Vs-Ie():(f&4194048)===f?Fg-Ie():0;if(se=g1(Q,se),se!==null){Ta=f,t.cancelPendingCommit=se(lp.bind(null,t,a,f,i,o,u,v,S,C,V,Q,null,I,Z)),Xa(t,f,v,!O);return}}lp(t,a,f,i,o,u,v,S,C)}function jS(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],f=u.getSnapshot;u=u.value;try{if(!hn(f(),u))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xa(t,a,i,o){a&=~Qu,a&=~zl,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var u=a;0<u;){var f=31-Et(u),v=1<<f;o[f]=-1,u&=~v}i!==0&&lt(t,i,a)}function Ks(){return(Le&6)===0?(Nr(0),!1):!0}function nd(){if(Ce!==null){if(He===0)var t=Ce.return;else t=Ce,ma=_l=null,yu(t),oi=null,or=0,t=Ce;for(;t!==null;)Mg(t.alternate,t),t=t.return;Ce=null}}function yi(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,QS(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ta=0,nd(),Ke=t,Ce=i=fa(t.current,null),De=a,He=0,vn=null,Ya=!1,gi=X(t,a),Ku=!1,pi=yn=Qu=zl=Fa=ht=0,sn=Er=null,Wu=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var u=31-Et(o),f=1<<u;a|=t[u],o&=~f}return Ea=a,vs(),i}function Qg(t,a){we=null,U.H=pr,a===si||a===Ts?(a=hm(),He=3):a===ru?(a=hm(),He=4):He=a===Ru?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vn=a,Ce===null&&(ht=1,qs(t,Mn(a,t.current)))}function Wg(){var t=gn.current;return t===null?!0:(De&4194048)===De?jn===null:(De&62914560)===De||(De&536870912)!==0?t===jn:!1}function Jg(){var t=U.H;return U.H=pr,t===null?pr:t}function ep(){var t=U.A;return U.A=AS,t}function Qs(){ht=4,Ya||(De&4194048)!==De&&gn.current!==null||(gi=!0),(Fa&134217727)===0&&(zl&134217727)===0||Ke===null||Xa(Ke,De,yn,!1)}function ad(t,a,i){var o=Le;Le|=2;var u=Jg(),f=ep();(Ke!==t||De!==a)&&(Xs=null,yi(t,a)),a=!1;var v=ht;e:do try{if(He!==0&&Ce!==null){var S=Ce,C=vn;switch(He){case 8:nd(),v=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(a=!0);var O=He;if(He=0,vn=null,bi(t,S,C,O),i&&gi){v=0;break e}break;default:O=He,He=0,vn=null,bi(t,S,C,O)}}zS(),v=ht;break}catch(V){Qg(t,V)}while(!0);return a&&t.shellSuspendCounter++,ma=_l=null,Le=o,U.H=u,U.A=f,Ce===null&&(Ke=null,De=0,vs()),v}function zS(){for(;Ce!==null;)tp(Ce)}function kS(t,a){var i=Le;Le|=2;var o=Jg(),u=ep();Ke!==t||De!==a?(Xs=null,Gs=Ie()+500,yi(t,a)):gi=X(t,a);e:do try{if(He!==0&&Ce!==null){a=Ce;var f=vn;t:switch(He){case 1:He=0,vn=null,bi(t,a,f,1);break;case 2:case 9:if(dm(f)){He=0,vn=null,np(a);break}a=function(){He!==2&&He!==9||Ke!==t||(He=7),la(t)},f.then(a,a);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:dm(f)?(He=0,vn=null,np(a)):(He=0,vn=null,bi(t,a,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var S=Ce;if(v?Pp(v):S.stateNode.complete){He=0,vn=null;var C=S.sibling;if(C!==null)Ce=C;else{var O=S.return;O!==null?(Ce=O,Ws(O)):Ce=null}break t}}He=0,vn=null,bi(t,a,f,5);break;case 6:He=0,vn=null,bi(t,a,f,6);break;case 8:nd(),ht=6;break e;default:throw Error(r(462))}}RS();break}catch(V){Qg(t,V)}while(!0);return ma=_l=null,U.H=o,U.A=u,Le=i,Ce!==null?0:(Ke=null,De=0,vs(),ht)}function RS(){for(;Ce!==null&&!_t();)tp(Ce)}function tp(t){var a=Tg(t.alternate,t,Ea);t.memoizedProps=t.pendingProps,a===null?Ws(t):Ce=a}function np(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=bg(i,a,a.pendingProps,a.type,void 0,De);break;case 11:a=bg(i,a,a.pendingProps,a.type.render,a.ref,De);break;case 5:yu(a);default:Mg(i,a),a=Ce=em(a,Ea),a=Tg(i,a,Ea)}t.memoizedProps=t.pendingProps,a===null?Ws(t):Ce=a}function bi(t,a,i,o){ma=_l=null,yu(a),oi=null,or=0;var u=a.return;try{if(wS(t,u,a,i,De)){ht=1,qs(t,Mn(i,t.current)),Ce=null;return}}catch(f){if(u!==null)throw Ce=u,f;ht=1,qs(t,Mn(i,t.current)),Ce=null;return}a.flags&32768?(ze||o===1?t=!0:gi||(De&536870912)!==0?t=!1:(Ya=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ap(a,t)):Ws(a)}function Ws(t){var a=t;do{if((a.flags&32768)!==0){ap(a,Ya);return}t=a.return;var i=TS(a.alternate,a,Ea);if(i!==null){Ce=i;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=t}while(a!==null);ht===0&&(ht=5)}function ap(t,a){do{var i=NS(t.alternate,t);if(i!==null){i.flags&=32767,Ce=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=i}while(t!==null);ht=6,Ce=null}function lp(t,a,i,o,u,f,v,S,C){t.cancelPendingCommit=null;do Js();while(jt!==0);if((Le&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(f=a.lanes|a.childLanes,f|=Yc,We(t,i,f,v,S,C),t===Ke&&(Ce=Ke=null,De=0),vi=a,Ga=t,Ta=i,Ju=f,ed=u,Vg=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(fn,function(){return cp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=F.p,F.p=2,v=Le,Le|=4;try{MS(t,a,i)}finally{Le=v,F.p=u,U.T=o}}jt=1,ip(),rp(),sp()}}function ip(){if(jt===1){jt=0;var t=Ga,a=vi,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var o=F.p;F.p=2;var u=Le;Le|=4;try{qg(a,t);var f=gd,v=Yh(t.containerInfo),S=f.focusedElem,C=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&$h(S.ownerDocument.documentElement,S)){if(C!==null&&Ic(S)){var O=C.start,V=C.end;if(V===void 0&&(V=O),"selectionStart"in S)S.selectionStart=O,S.selectionEnd=Math.min(V,S.value.length);else{var Q=S.ownerDocument||document,I=Q&&Q.defaultView||window;if(I.getSelection){var Z=I.getSelection(),se=S.textContent.length,ge=Math.min(C.start,se),Ge=C.end===void 0?ge:Math.min(C.end,se);!Z.extend&&ge>Ge&&(v=Ge,Ge=ge,ge=v);var k=Zh(S,ge),z=Zh(S,Ge);if(k&&z&&(Z.rangeCount!==1||Z.anchorNode!==k.node||Z.anchorOffset!==k.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var R=Q.createRange();R.setStart(k.node,k.offset),Z.removeAllRanges(),ge>Ge?(Z.addRange(R),Z.extend(z.node,z.offset)):(R.setEnd(z.node,z.offset),Z.addRange(R))}}}}for(Q=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&Q.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var G=Q[S];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}fo=!!md,gd=md=null}finally{Le=u,F.p=o,U.T=i}}t.current=a,jt=2}}function rp(){if(jt===2){jt=0;var t=Ga,a=vi,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var o=F.p;F.p=2;var u=Le;Le|=4;try{Rg(t,a.alternate,a)}finally{Le=u,F.p=o,U.T=i}}jt=3}}function sp(){if(jt===4||jt===3){jt=0,dn();var t=Ga,a=vi,i=Ta,o=Vg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?jt=5:(jt=0,vi=Ga=null,op(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Va=null),Pe(i),a=a.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ea,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=U.T,u=F.p,F.p=2,U.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];f(S.value,{componentStack:S.stack})}}finally{U.T=a,F.p=u}}(Ta&3)!==0&&Js(),la(t),u=t.pendingLanes,(i&261930)!==0&&(u&42)!==0?t===td?Tr++:(Tr=0,td=t):Tr=0,Nr(0)}}function op(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,rr(a)))}function Js(){return ip(),rp(),sp(),cp()}function cp(){if(jt!==5)return!1;var t=Ga,a=Ju;Ju=0;var i=Pe(Ta),o=U.T,u=F.p;try{F.p=32>i?32:i,U.T=null,i=ed,ed=null;var f=Ga,v=Ta;if(jt=0,vi=Ga=null,Ta=0,(Le&6)!==0)throw Error(r(331));var S=Le;if(Le|=4,$g(f.current),Pg(f,f.current,v,i),Le=S,Nr(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ea,f)}catch{}return!0}finally{F.p=u,U.T=o,op(t,a)}}function up(t,a,i){a=Mn(i,a),a=ku(t.stateNode,a,2),t=Pa(t,a,2),t!==null&&(at(t,2),la(t))}function Ze(t,a,i){if(t.tag===3)up(t,t,i);else for(;a!==null;){if(a.tag===3){up(a,t,i);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))){t=Mn(i,t),i=dg(2),o=Pa(a,i,2),o!==null&&(fg(i,o,a,t),at(o,2),la(o));break}}a=a.return}}function ld(t,a,i){var o=t.pingCache;if(o===null){o=t.pingCache=new DS;var u=new Set;o.set(a,u)}else u=o.get(a),u===void 0&&(u=new Set,o.set(a,u));u.has(i)||(Ku=!0,u.add(i),t=OS.bind(null,t,a,i),a.then(t,t))}function OS(t,a,i){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Ke===t&&(De&i)===i&&(ht===4||ht===3&&(De&62914560)===De&&300>Ie()-Vs?(Le&2)===0&&yi(t,0):Qu|=i,pi===De&&(pi=0)),la(t)}function dp(t,a){a===0&&(a=be()),t=xl(t,a),t!==null&&(at(t,a),la(t))}function BS(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),dp(t,i)}function LS(t,a){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(a),dp(t,i)}function US(t,a){return Me(t,a)}var eo=null,xi=null,id=!1,to=!1,rd=!1,Ka=0;function la(t){t!==xi&&t.next===null&&(xi===null?eo=xi=t:xi=xi.next=t),to=!0,id||(id=!0,IS())}function Nr(t,a){if(!rd&&to){rd=!0;do for(var i=!1,o=eo;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var v=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=u&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,gp(o,f))}else f=De,f=pt(o,o===Ke?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||X(o,f)||(i=!0,gp(o,f));o=o.next}while(i);rd=!1}}function qS(){fp()}function fp(){to=id=!1;var t=0;Ka!==0&&KS()&&(t=Ka);for(var a=Ie(),i=null,o=eo;o!==null;){var u=o.next,f=hp(o,a);f===0?(o.next=null,i===null?eo=u:i.next=u,u===null&&(xi=i)):(i=o,(t!==0||(f&3)!==0)&&(to=!0)),o=u}jt!==0&&jt!==5||Nr(t),Ka!==0&&(Ka=0)}function hp(t,a){for(var i=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Et(f),S=1<<v,C=u[v];C===-1?((S&i)===0||(S&o)!==0)&&(u[v]=ne(S,a)):C<=a&&(t.expiredLanes|=S),f&=~S}if(a=Ke,i=De,i=pt(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===a&&(He===2||He===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ue(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||X(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(o!==null&&Ue(o),Pe(i)){case 2:case 8:i=Pn;break;case 32:i=fn;break;case 268435456:i=Hn;break;default:i=fn}return o=mp.bind(null,t),i=Me(i,o),t.callbackPriority=a,t.callbackNode=i,a}return o!==null&&o!==null&&Ue(o),t.callbackPriority=2,t.callbackNode=null,2}function mp(t,a){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Js()&&t.callbackNode!==i)return null;var o=De;return o=pt(t,t===Ke?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Xg(t,o,a),hp(t,Ie()),t.callbackNode!=null&&t.callbackNode===i?mp.bind(null,t):null)}function gp(t,a){if(Js())return null;Xg(t,a,!0)}function IS(){WS(function(){(Le&6)!==0?Me(Aa,qS):fp()})}function sd(){if(Ka===0){var t=ii;t===0&&(t=ja,ja<<=1,(ja&261888)===0&&(ja=256)),Ka=t}return Ka}function pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cs(""+t)}function vp(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function PS(t,a,i,o,u){if(a==="submit"&&i&&i.stateNode===u){var f=pp((u[Ht]||null).action),v=o.submitter;v&&(a=(a=v[Ht]||null)?pp(a.formAction):v.getAttribute("formAction"),a!==null&&(f=a,v=null));var S=new hs("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ka!==0){var C=v?vp(u,v):new FormData(u);Mu(i,{pending:!0,data:C,method:u.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=v?vp(u,v):new FormData(u),Mu(i,{pending:!0,data:C,method:u.method,action:f},f,C))},currentTarget:u}]})}}for(var od=0;od<$c.length;od++){var cd=$c[od],HS=cd.toLowerCase(),ZS=cd[0].toUpperCase()+cd.slice(1);Zn(HS,"on"+ZS)}Zn(Gh,"onAnimationEnd"),Zn(Xh,"onAnimationIteration"),Zn(Kh,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(iS,"onTransitionRun"),Zn(rS,"onTransitionStart"),Zn(sS,"onTransitionCancel"),Zn(Qh,"onTransitionEnd"),Yl("onMouseEnter",["mouseout","mouseover"]),Yl("onMouseLeave",["mouseout","mouseover"]),Yl("onPointerEnter",["pointerout","pointerover"]),Yl("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function yp(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],u=o.event;o=o.listeners;e:{var f=void 0;if(a)for(var v=o.length-1;0<=v;v--){var S=o[v],C=S.instance,O=S.currentTarget;if(S=S.listener,C!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=O;try{f(u)}catch(V){ps(V)}u.currentTarget=null,f=C}else for(v=0;v<o.length;v++){if(S=o[v],C=S.instance,O=S.currentTarget,S=S.listener,C!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=O;try{f(u)}catch(V){ps(V)}u.currentTarget=null,f=C}}}}function Ae(t,a){var i=a[Pl];i===void 0&&(i=a[Pl]=new Set);var o=t+"__bubble";i.has(o)||(bp(a,t,2,!1),i.add(o))}function ud(t,a,i){var o=0;a&&(o|=4),bp(i,t,o,a)}var no="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[no]){t[no]=!0,fh.forEach(function(i){i!=="selectionchange"&&($S.has(i)||ud(i,!1,t),ud(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[no]||(a[no]=!0,ud("selectionchange",!1,a))}}function bp(t,a,i,o){switch(Gp(a)){case 2:var u=y1;break;case 8:u=b1;break;default:u=Nd}i=u.bind(null,a,i,t),u=void 0,!jc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(a,i,{capture:!0,passive:u}):t.addEventListener(a,i,!0):u!==void 0?t.addEventListener(a,i,{passive:u}):t.addEventListener(a,i,!1)}function fd(t,a,i,o,u){var f=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===u)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;S!==null;){if(v=Hl(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=f=v;continue e}S=S.parentNode}}o=o.return}Eh(function(){var O=f,V=Ac(i),Q=[];e:{var I=Wh.get(t);if(I!==void 0){var Z=hs,se=t;switch(t){case"keypress":if(ds(i)===0)break e;case"keydown":case"keyup":Z=Lx;break;case"focusin":se="focus",Z=Oc;break;case"focusout":se="blur",Z=Oc;break;case"beforeblur":case"afterblur":Z=Oc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ix;break;case Gh:case Xh:case Kh:Z=Cx;break;case Qh:Z=Hx;break;case"scroll":case"scrollend":Z=_x;break;case"wheel":Z=$x;break;case"copy":case"cut":case"paste":Z=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ah;break;case"toggle":case"beforetoggle":Z=Fx}var ge=(a&4)!==0,Ge=!ge&&(t==="scroll"||t==="scrollend"),k=ge?I!==null?I+"Capture":null:I;ge=[];for(var z=O,R;z!==null;){var G=z;if(R=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||R===null||k===null||(G=Xi(z,k),G!=null&&ge.push(Cr(z,G,R))),Ge)break;z=z.return}0<ge.length&&(I=new Z(I,se,null,i,V),Q.push({event:I,listeners:ge}))}}if((a&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",I&&i!==Cc&&(se=i.relatedTarget||i.fromElement)&&(Hl(se)||se[oa]))break e;if((Z||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,Z?(se=i.relatedTarget||i.toElement,Z=O,se=se?Hl(se):null,se!==null&&(Ge=c(se),ge=se.tag,se!==Ge||ge!==5&&ge!==27&&ge!==6)&&(se=null)):(Z=null,se=O),Z!==se)){if(ge=Mh,G="onMouseLeave",k="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ah,G="onPointerLeave",k="onPointerEnter",z="pointer"),Ge=Z==null?I:Gi(Z),R=se==null?I:Gi(se),I=new ge(G,z+"leave",Z,i,V),I.target=Ge,I.relatedTarget=R,G=null,Hl(V)===O&&(ge=new ge(k,z+"enter",se,i,V),ge.target=R,ge.relatedTarget=Ge,G=ge),Ge=G,Z&&se)t:{for(ge=YS,k=Z,z=se,R=0,G=k;G;G=ge(G))R++;G=0;for(var fe=z;fe;fe=ge(fe))G++;for(;0<R-G;)k=ge(k),R--;for(;0<G-R;)z=ge(z),G--;for(;R--;){if(k===z||z!==null&&k===z.alternate){ge=k;break t}k=ge(k),z=ge(z)}ge=null}else ge=null;Z!==null&&xp(Q,I,Z,ge,!1),se!==null&&Ge!==null&&xp(Q,Ge,se,ge,!0)}}e:{if(I=O?Gi(O):window,Z=I.nodeName&&I.nodeName.toLowerCase(),Z==="select"||Z==="input"&&I.type==="file")var Oe=Lh;else if(Oh(I))if(Uh)Oe=nS;else{Oe=eS;var oe=Jx}else Z=I.nodeName,!Z||Z.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&Mc(O.elementType)&&(Oe=Lh):Oe=tS;if(Oe&&(Oe=Oe(t,O))){Bh(Q,Oe,i,V);break e}oe&&oe(t,I,O),t==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&Nc(I,"number",I.value)}switch(oe=O?Gi(O):window,t){case"focusin":(Oh(oe)||oe.contentEditable==="true")&&(Ql=oe,Pc=O,ar=null);break;case"focusout":ar=Pc=Ql=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,Fh(Q,i,V);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Fh(Q,i,V)}var Ee;if(Lc)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Kl?kh(t,i)&&(je="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(je="onCompositionStart");je&&(Dh&&i.locale!=="ko"&&(Kl||je!=="onCompositionStart"?je==="onCompositionEnd"&&Kl&&(Ee=Th()):(Ra=V,zc="value"in Ra?Ra.value:Ra.textContent,Kl=!0)),oe=ao(O,je),0<oe.length&&(je=new Ch(je,t,null,i,V),Q.push({event:je,listeners:oe}),Ee?je.data=Ee:(Ee=Rh(i),Ee!==null&&(je.data=Ee)))),(Ee=Gx?Xx(t,i):Kx(t,i))&&(je=ao(O,"onBeforeInput"),0<je.length&&(oe=new Ch("onBeforeInput","beforeinput",null,i,V),Q.push({event:oe,listeners:je}),oe.data=Ee)),PS(Q,t,O,i,V)}yp(Q,a)})}function Cr(t,a,i){return{instance:t,listener:a,currentTarget:i}}function ao(t,a){for(var i=a+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Xi(t,i),u!=null&&o.unshift(Cr(t,u,f)),u=Xi(t,a),u!=null&&o.push(Cr(t,u,f))),t.tag===3)return o;t=t.return}return[]}function YS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,a,i,o,u){for(var f=a._reactName,v=[];i!==null&&i!==o;){var S=i,C=S.alternate,O=S.stateNode;if(S=S.tag,C!==null&&C===o)break;S!==5&&S!==26&&S!==27||O===null||(C=O,u?(O=Xi(i,f),O!=null&&v.unshift(Cr(i,O,C))):u||(O=Xi(i,f),O!=null&&v.push(Cr(i,O,C)))),i=i.return}v.length!==0&&t.push({event:a,listeners:v})}var FS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(FS,`
`).replace(VS,"")}function wp(t,a){return a=Sp(a),Sp(t)===a}function Ve(t,a,i,o,u,f){switch(i){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Vl(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Vl(t,""+o);break;case"className":ss(t,"class",o);break;case"tabIndex":ss(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(t,i,o);break;case"style":wh(t,o,f);break;case"data":if(a!=="object"){ss(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=cs(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(a!=="input"&&Ve(t,a,"name",u.name,u,null),Ve(t,a,"formEncType",u.formEncType,u,null),Ve(t,a,"formMethod",u.formMethod,u,null),Ve(t,a,"formTarget",u.formTarget,u,null)):(Ve(t,a,"encType",u.encType,u,null),Ve(t,a,"method",u.method,u,null),Ve(t,a,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=cs(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=ua);break;case"onScroll":o!=null&&Ae("scroll",t);break;case"onScrollEnd":o!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=cs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),rs(t,"popover",o);break;case"xlinkActuate":ca(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ca(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ca(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ca(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ca(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ca(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ca(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ca(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ca(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Sx.get(i)||i,rs(t,i,o))}}function hd(t,a,i,o,u,f){switch(i){case"style":wh(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof o=="string"?Vl(t,o):(typeof o=="number"||typeof o=="bigint")&&Vl(t,""+o);break;case"onScroll":o!=null&&Ae("scroll",t);break;case"onScrollEnd":o!=null&&Ae("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),a=i.slice(2,u?i.length-7:void 0),f=t[Ht]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(a,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,o,u);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):rs(t,i,o)}}}function Ft(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var o=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ve(t,a,f,v,i,null)}}u&&Ve(t,a,"srcSet",i.srcSet,i,null),o&&Ve(t,a,"src",i.src,i,null);return;case"input":Ae("invalid",t);var S=f=v=u=null,C=null,O=null;for(o in i)if(i.hasOwnProperty(o)){var V=i[o];if(V!=null)switch(o){case"name":u=V;break;case"type":v=V;break;case"checked":C=V;break;case"defaultChecked":O=V;break;case"value":f=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,a));break;default:Ve(t,a,o,V,i,null)}}yh(t,f,S,C,O,v,u,!1);return;case"select":Ae("invalid",t),o=v=f=null;for(u in i)if(i.hasOwnProperty(u)&&(S=i[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:Ve(t,a,u,S,i,null)}a=f,i=v,t.multiple=!!o,a!=null?Fl(t,!!o,a,!1):i!=null&&Fl(t,!!o,i,!0);return;case"textarea":Ae("invalid",t),f=u=o=null;for(v in i)if(i.hasOwnProperty(v)&&(S=i[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ve(t,a,v,S,i,null)}xh(t,o,u,f);return;case"option":for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ve(t,a,C,o,i,null));return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Ae(Mr[o],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in i)if(i.hasOwnProperty(O)&&(o=i[O],o!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ve(t,a,O,o,i,null)}return;default:if(Mc(a)){for(V in i)i.hasOwnProperty(V)&&(o=i[V],o!==void 0&&hd(t,a,V,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&Ve(t,a,S,o,i,null))}function GS(t,a,i,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,S=null,C=null,O=null,V=null;for(Z in i){var Q=i[Z];if(i.hasOwnProperty(Z)&&Q!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(Z)||Ve(t,a,Z,null,o,Q)}}for(var I in o){var Z=o[I];if(Q=i[I],o.hasOwnProperty(I)&&(Z!=null||Q!=null))switch(I){case"type":f=Z;break;case"name":u=Z;break;case"checked":O=Z;break;case"defaultChecked":V=Z;break;case"value":v=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==Q&&Ve(t,a,I,Z,o,Q)}}Tc(t,v,S,C,O,V,f,u);return;case"select":Z=v=S=I=null;for(f in i)if(C=i[f],i.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Z=C;default:o.hasOwnProperty(f)||Ve(t,a,f,null,o,C)}for(u in o)if(f=o[u],C=i[u],o.hasOwnProperty(u)&&(f!=null||C!=null))switch(u){case"value":I=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==C&&Ve(t,a,u,f,o,C)}a=S,i=v,o=Z,I!=null?Fl(t,!!i,I,!1):!!o!=!!i&&(a!=null?Fl(t,!!i,a,!0):Fl(t,!!i,i?[]:"",!1));return;case"textarea":Z=I=null;for(S in i)if(u=i[S],i.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ve(t,a,S,null,o,u)}for(v in o)if(u=o[v],f=i[v],o.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":I=u;break;case"defaultValue":Z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Ve(t,a,v,u,o,f)}bh(t,I,Z);return;case"option":for(var se in i)I=i[se],i.hasOwnProperty(se)&&I!=null&&!o.hasOwnProperty(se)&&(se==="selected"?t.selected=!1:Ve(t,a,se,null,o,I));for(C in o)I=o[C],Z=i[C],o.hasOwnProperty(C)&&I!==Z&&(I!=null||Z!=null)&&(C==="selected"?t.selected=I&&typeof I!="function"&&typeof I!="symbol":Ve(t,a,C,I,o,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)I=i[ge],i.hasOwnProperty(ge)&&I!=null&&!o.hasOwnProperty(ge)&&Ve(t,a,ge,null,o,I);for(O in o)if(I=o[O],Z=i[O],o.hasOwnProperty(O)&&I!==Z&&(I!=null||Z!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,a));break;default:Ve(t,a,O,I,o,Z)}return;default:if(Mc(a)){for(var Ge in i)I=i[Ge],i.hasOwnProperty(Ge)&&I!==void 0&&!o.hasOwnProperty(Ge)&&hd(t,a,Ge,void 0,o,I);for(V in o)I=o[V],Z=i[V],!o.hasOwnProperty(V)||I===Z||I===void 0&&Z===void 0||hd(t,a,V,I,o,Z);return}}for(var k in i)I=i[k],i.hasOwnProperty(k)&&I!=null&&!o.hasOwnProperty(k)&&Ve(t,a,k,null,o,I);for(Q in o)I=o[Q],Z=i[Q],!o.hasOwnProperty(Q)||I===Z||I==null&&Z==null||Ve(t,a,Q,I,o,Z)}function _p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],f=u.transferSize,v=u.initiatorType,S=u.duration;if(f&&S&&_p(v)){for(v=0,S=u.responseEnd,o+=1;o<i.length;o++){var C=i[o],O=C.startTime;if(O>S)break;var V=C.transferSize,Q=C.initiatorType;V&&_p(Q)&&(C=C.responseEnd,v+=V*(C<S?1:(S-O)/(C-O)))}if(--o,a+=8*(f+v)/(u.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,gd=null;function lo(t){return t.nodeType===9?t:t.ownerDocument}function Ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function pd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vd=null;function KS(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(JS)}:Np;function JS(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function Cp(t,a){var i=a,o=0;do{var u=i.nextSibling;if(t.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(u),Ei(a);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Ar(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Ar(i);for(var f=i.firstChild;f;){var v=f.nextSibling,S=f.nodeName;f[ka]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&Ar(t.ownerDocument.body);i=u}while(i);Ei(a)}function Ap(t,a){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function yd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":yd(i),_c(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function e1(t,a,i,o){for(;t.nodeType===1;){var u=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ka])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function t1(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Dp(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function n1(t,a){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||i.readyState!=="loading")a();else{var o=function(){a(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Sd=null;function jp(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(a===0)return zn(t.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}t=t.nextSibling}return null}function zp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return t;a--}else i!=="/$"&&i!=="/&"||a++}t=t.previousSibling}return null}function kp(t,a,i){switch(a=lo(i),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ar(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);_c(t)}var kn=new Map,Rp=new Set;function io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Na=F.d;F.d={f:a1,r:l1,D:i1,C:r1,L:s1,m:o1,X:u1,S:c1,M:d1};function a1(){var t=Na.f(),a=Ks();return t||a}function l1(t){var a=Zl(t);a!==null&&a.tag===5&&a.type==="form"?Qm(a):Na.r(t)}var Si=typeof document>"u"?null:document;function Op(t,a,i){var o=Si;if(o&&typeof a=="string"&&a){var u=Tn(a);u='link[rel="'+t+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Rp.has(u)||(Rp.add(u),t={rel:t,crossOrigin:i,href:a},o.querySelector(u)===null&&(a=o.createElement("link"),Ft(a,"link",t),Bt(a),o.head.appendChild(a)))}}function i1(t){Na.D(t),Op("dns-prefetch",t,null)}function r1(t,a){Na.C(t,a),Op("preconnect",t,a)}function s1(t,a,i){Na.L(t,a,i);var o=Si;if(o&&t&&a){var u='link[rel="preload"][as="'+Tn(a)+'"]';a==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Tn(i.imageSizes)+'"]')):u+='[href="'+Tn(t)+'"]';var f=u;switch(a){case"style":f=wi(t);break;case"script":f=_i(t)}kn.has(f)||(t=y({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),kn.set(f,t),o.querySelector(u)!==null||a==="style"&&o.querySelector(Dr(f))||a==="script"&&o.querySelector(jr(f))||(a=o.createElement("link"),Ft(a,"link",t),Bt(a),o.head.appendChild(a)))}}function o1(t,a){Na.m(t,a);var i=Si;if(i&&t){var o=a&&typeof a.as=="string"?a.as:"script",u='link[rel="modulepreload"][as="'+Tn(o)+'"][href="'+Tn(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_i(t)}if(!kn.has(f)&&(t=y({rel:"modulepreload",href:t},a),kn.set(f,t),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(jr(f)))return}o=i.createElement("link"),Ft(o,"link",t),Bt(o),i.head.appendChild(o)}}}function c1(t,a,i){Na.S(t,a,i);var o=Si;if(o&&t){var u=$l(o).hoistableStyles,f=wi(t);a=a||"default";var v=u.get(f);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(Dr(f)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":a},i),(i=kn.get(f))&&wd(t,i);var C=v=o.createElement("link");Bt(C),Ft(C,"link",t),C._p=new Promise(function(O,V){C.onload=O,C.onerror=V}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ro(v,a,o)}v={type:"stylesheet",instance:v,count:1,state:S},u.set(f,v)}}}function u1(t,a){Na.X(t,a);var i=Si;if(i&&t){var o=$l(i).hoistableScripts,u=_i(t),f=o.get(u);f||(f=i.querySelector(jr(u)),f||(t=y({src:t,async:!0},a),(a=kn.get(u))&&_d(t,a),f=i.createElement("script"),Bt(f),Ft(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function d1(t,a){Na.M(t,a);var i=Si;if(i&&t){var o=$l(i).hoistableScripts,u=_i(t),f=o.get(u);f||(f=i.querySelector(jr(u)),f||(t=y({src:t,async:!0,type:"module"},a),(a=kn.get(u))&&_d(t,a),f=i.createElement("script"),Bt(f),Ft(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Bp(t,a,i,o){var u=(u=me.current)?io(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=wi(i.href),i=$l(u).hoistableStyles,o=i.get(a),o||(o={type:"style",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=wi(i.href);var f=$l(u).hoistableStyles,v=f.get(t);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=u.querySelector(Dr(t)))&&!f._p&&(v.instance=f,v.state.loading=5),kn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kn.set(t,i),f||f1(u,t,i,v.state))),a&&o===null)throw Error(r(528,""));return v}if(a&&o!==null)throw Error(r(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_i(i),i=$l(u).hoistableScripts,o=i.get(a),o||(o={type:"script",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function wi(t){return'href="'+Tn(t)+'"'}function Dr(t){return'link[rel="stylesheet"]['+t+"]"}function Lp(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function f1(t,a,i,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ft(a,"link",i),Bt(a),t.head.appendChild(a))}function _i(t){return'[src="'+Tn(t)+'"]'}function jr(t){return"script[async]"+t}function Up(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+Tn(i.href)+'"]');if(o)return a.instance=o,Bt(o),o;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Bt(o),Ft(o,"style",u),ro(o,i.precedence,t),a.instance=o;case"stylesheet":u=wi(i.href);var f=t.querySelector(Dr(u));if(f)return a.state.loading|=4,a.instance=f,Bt(f),f;o=Lp(i),(u=kn.get(u))&&wd(o,u),f=(t.ownerDocument||t).createElement("link"),Bt(f);var v=f;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ft(f,"link",o),a.state.loading|=4,ro(f,i.precedence,t),a.instance=f;case"script":return f=_i(i.src),(u=t.querySelector(jr(f)))?(a.instance=u,Bt(u),u):(o=i,(u=kn.get(f))&&(o=y({},i),_d(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Bt(u),Ft(u,"link",o),t.head.appendChild(u),a.instance=u);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,ro(o,i.precedence,t));return a.instance}function ro(t,a,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===a)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function wd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function _d(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var so=null;function qp(t,a,i){if(so===null){var o=new Map,u=so=new Map;u.set(i,o)}else u=so,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),u=0;u<i.length;u++){var f=i[u];if(!(f[ka]||f[dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(a)||"";v=t+v;var S=o.get(v);S?S.push(f):o.set(v,[f])}}return o}function Ip(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function h1(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function m1(t,a,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=wi(o.href),f=a.querySelector(Dr(u));if(f){a=f._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=oo.bind(t),a.then(t,t)),i.state.loading|=4,i.instance=f,Bt(f);return}f=a.ownerDocument||a,o=Lp(o),(u=kn.get(u))&&wd(o,u),f=f.createElement("link"),Bt(f);var v=f;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ft(f,"link",o),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=oo.bind(t),a.addEventListener("load",i),a.addEventListener("error",i))}}var Ed=0;function g1(t,a){return t.stylesheets&&t.count===0&&uo(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&uo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+a);0<t.imgBytes&&Ed===0&&(Ed=62500*XS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ed?50:800)+a);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var co=null;function uo(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,co=new Map,a.forEach(p1,t),co=null,oo.call(t))}function p1(t,a){if(!(a.state.loading&4)){var i=co.get(t);if(i)var o=i.get(null);else{i=new Map,co.set(t,i);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}u=a.instance,v=u.getAttribute("data-precedence"),f=i.get(v)||o,f===o&&i.set(null,u),i.set(v,u),this.count++,o=oo.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),a.state.loading|=4}}var zr={$$typeof:B,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function v1(t,a,i,o,u,f,v,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Hp(t,a,i,o,u,f,v,S,C,O,V,Q){return t=new v1(t,a,i,v,C,O,V,Q,S),a=1,f===!0&&(a|=24),f=mn(3,null,null,a),t.current=f,f.stateNode=t,a=au(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:a},su(f),t}function Zp(t){return t?(t=ei,t):ei}function $p(t,a,i,o,u,f){u=Zp(u),o.context===null?o.context=u:o.pendingContext=u,o=Ia(a),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Pa(t,o,a),i!==null&&(on(i,t,a),ur(i,t,a))}function Yp(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Td(t,a){Yp(t,a),(t=t.alternate)&&Yp(t,a)}function Fp(t){if(t.tag===13||t.tag===31){var a=xl(t,67108864);a!==null&&on(a,t,67108864),Td(t,67108864)}}function Vp(t){if(t.tag===13||t.tag===31){var a=bn();a=Dt(a);var i=xl(t,a);i!==null&&on(i,t,a),Td(t,a)}}var fo=!0;function y1(t,a,i,o){var u=U.T;U.T=null;var f=F.p;try{F.p=2,Nd(t,a,i,o)}finally{F.p=f,U.T=u}}function b1(t,a,i,o){var u=U.T;U.T=null;var f=F.p;try{F.p=8,Nd(t,a,i,o)}finally{F.p=f,U.T=u}}function Nd(t,a,i,o){if(fo){var u=Md(o);if(u===null)fd(t,a,o,ho,i),Xp(t,o);else if(S1(u,t,a,i,o))o.stopPropagation();else if(Xp(t,o),a&4&&-1<x1.indexOf(t)){for(;u!==null;){var f=Zl(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=nt(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-Et(v);S.entanglements[1]|=C,v&=~C}la(f),(Le&6)===0&&(Gs=Ie()+500,Nr(0))}}break;case 31:case 13:S=xl(f,2),S!==null&&on(S,f,2),Ks(),Td(f,2)}if(f=Md(o),f===null&&fd(t,a,o,ho,i),f===u)break;u=f}u!==null&&o.stopPropagation()}else fd(t,a,o,null,i)}}function Md(t){return t=Ac(t),Cd(t)}var ho=null;function Cd(t){if(ho=null,t=Hl(t),t!==null){var a=c(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=d(a),t!==null)return t;t=null}else if(i===31){if(t=h(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return ho=t,null}function Gp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Aa:return 2;case Pn:return 8;case fn:case Jn:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Ad=!1,Wa=null,Ja=null,el=null,kr=new Map,Rr=new Map,tl=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(t,a){switch(t){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":kr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(a.pointerId)}}function Or(t,a,i,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},a!==null&&(a=Zl(a),a!==null&&Fp(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,u!==null&&a.indexOf(u)===-1&&a.push(u),t)}function S1(t,a,i,o,u){switch(a){case"focusin":return Wa=Or(Wa,t,a,i,o,u),!0;case"dragenter":return Ja=Or(Ja,t,a,i,o,u),!0;case"mouseover":return el=Or(el,t,a,i,o,u),!0;case"pointerover":var f=u.pointerId;return kr.set(f,Or(kr.get(f)||null,t,a,i,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Rr.set(f,Or(Rr.get(f)||null,t,a,i,o,u)),!0}return!1}function Kp(t){var a=Hl(t.target);if(a!==null){var i=c(a);if(i!==null){if(a=i.tag,a===13){if(a=d(i),a!==null){t.blockedOn=a,Wt(t.priority,function(){Vp(i)});return}}else if(a===31){if(a=h(i),a!==null){t.blockedOn=a,Wt(t.priority,function(){Vp(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=Md(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Cc=o,i.target.dispatchEvent(o),Cc=null}else return a=Zl(i),a!==null&&Fp(a),t.blockedOn=i,!1;a.shift()}return!0}function Qp(t,a,i){mo(t)&&i.delete(a)}function w1(){Ad=!1,Wa!==null&&mo(Wa)&&(Wa=null),Ja!==null&&mo(Ja)&&(Ja=null),el!==null&&mo(el)&&(el=null),kr.forEach(Qp),Rr.forEach(Qp)}function go(t,a){t.blockedOn===a&&(t.blockedOn=null,Ad||(Ad=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,w1)))}var po=null;function Wp(t){po!==t&&(po=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){po===t&&(po=null);for(var a=0;a<t.length;a+=3){var i=t[a],o=t[a+1],u=t[a+2];if(typeof o!="function"){if(Cd(o||i)===null)continue;break}var f=Zl(i);f!==null&&(t.splice(a,3),a-=3,Mu(f,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function Ei(t){function a(C){return go(C,t)}Wa!==null&&go(Wa,t),Ja!==null&&go(Ja,t),el!==null&&go(el,t),kr.forEach(a),Rr.forEach(a);for(var i=0;i<tl.length;i++){var o=tl[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<tl.length&&(i=tl[0],i.blockedOn===null);)Kp(i),i.blockedOn===null&&tl.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],v=u[Ht]||null;if(typeof f=="function")v||Wp(i);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[Ht]||null)S=v.formAction;else if(Cd(u)!==null)continue}else S=v.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),Wp(i)}}}function Jp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function a(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),u!==null&&(u(),u=null)}}}function Dd(t){this._internalRoot=t}vo.prototype.render=Dd.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var i=a.current,o=bn();$p(i,o,t,a,null,null)},vo.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;$p(t.current,2,null,t,null,null),Ks(),a[oa]=null}};function vo(t){this._internalRoot=t}vo.prototype.unstable_scheduleHydration=function(t){if(t){var a=Qt();t={blockedOn:null,target:t,priority:a};for(var i=0;i<tl.length&&a!==0&&a<tl[i].priority;i++);tl.splice(i,0,t),i===0&&Kp(t)}};var ev=n.version;if(ev!=="19.2.4")throw Error(r(527,ev,"19.2.4"));F.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(a),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var _1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{ea=yo.inject(_1),Ot=yo}catch{}}return Lr.createRoot=function(t,a){if(!s(t))throw Error(r(299));var i=!1,o="",u=sg,f=og,v=cg;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Hp(t,1,!1,null,null,i,o,null,u,f,v,Jp),t[oa]=a.current,dd(t),new Dd(a)},Lr.hydrateRoot=function(t,a,i){if(!s(t))throw Error(r(299));var o=!1,u="",f=sg,v=og,S=cg,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),a=Hp(t,1,!0,a,i??null,o,u,C,f,v,S,Jp),a.context=Zp(null),i=a.current,o=bn(),o=Dt(o),u=Ia(o),u.callback=null,Pa(i,u,o),i=o,a.current.lanes=i,at(a,i),la(a),t[oa]=a.current,dd(t),new vo(a)},Lr.version="19.2.4",Lr}var uv;function k1(){if(uv)return kd.exports;uv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),kd.exports=z1(),kd.exports}var R1=k1(),il=Qy();const O1=Xy(il),ic=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hi(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function If(e){return"nodeType"in e}function cn(e){var n,l;return e?Hi(e)?e:If(e)&&(n=(l=e.ownerDocument)==null?void 0:l.defaultView)!=null?n:window:window}function Pf(e){const{Document:n}=cn(e);return e instanceof n}function es(e){return Hi(e)?!1:e instanceof cn(e).HTMLElement}function Wy(e){return e instanceof cn(e).SVGElement}function Zi(e){return e?Hi(e)?e.document:If(e)?Pf(e)?e:es(e)||Wy(e)?e.ownerDocument:document:document:document}const cl=ic?w.useLayoutEffect:w.useEffect;function Hf(e){const n=w.useRef(e);return cl(()=>{n.current=e}),w.useCallback(function(){for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return n.current==null?void 0:n.current(...r)},[])}function B1(){const e=w.useRef(null),n=w.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),l=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,l]}function $r(e,n){n===void 0&&(n=[e]);const l=w.useRef(e);return cl(()=>{l.current!==e&&(l.current=e)},n),l}function ts(e,n){const l=w.useRef();return w.useMemo(()=>{const r=e(l.current);return l.current=r,r},[...n])}function Po(e){const n=Hf(e),l=w.useRef(null),r=w.useCallback(s=>{s!==l.current&&n?.(s,l.current),l.current=s},[]);return[l,r]}function vf(e){const n=w.useRef();return w.useEffect(()=>{n.current=e},[e]),n.current}let Ld={};function rc(e,n){return w.useMemo(()=>{if(n)return n;const l=Ld[e]==null?0:Ld[e]+1;return Ld[e]=l,e+"-"+l},[e,n])}function Jy(e){return function(n){for(var l=arguments.length,r=new Array(l>1?l-1:0),s=1;s<l;s++)r[s-1]=arguments[s];return r.reduce((c,d)=>{const h=Object.entries(d);for(const[g,m]of h){const b=c[g];b!=null&&(c[g]=b+e*m)}return c},{...n})}}const Ri=Jy(1),Yr=Jy(-1);function L1(e){return"clientX"in e&&"clientY"in e}function e0(e){if(!e)return!1;const{KeyboardEvent:n}=cn(e.target);return n&&e instanceof n}function U1(e){if(!e)return!1;const{TouchEvent:n}=cn(e.target);return n&&e instanceof n}function yf(e){if(U1(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:l}=e.touches[0];return{x:n,y:l}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:l}=e.changedTouches[0];return{x:n,y:l}}}return L1(e)?{x:e.clientX,y:e.clientY}:null}const Ho=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:l}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(l?Math.round(l):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:l}=e;return"scaleX("+n+") scaleY("+l+")"}},Transform:{toString(e){if(e)return[Ho.Translate.toString(e),Ho.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:l,easing:r}=e;return n+" "+l+"ms "+r}}}),dv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function q1(e){return e.matches(dv)?e:e.querySelector(dv)}const I1={display:"none"};function P1(e){let{id:n,value:l}=e;return qt.createElement("div",{id:n,style:I1},l)}function H1(e){let{id:n,announcement:l,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return qt.createElement("div",{id:n,style:s,role:"status","aria-live":r,"aria-atomic":!0},l)}function Z1(){const[e,n]=w.useState("");return{announce:w.useCallback(r=>{r!=null&&n(r)},[]),announcement:e}}const t0=w.createContext(null);function $1(e){const n=w.useContext(t0);w.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function Y1(){const[e]=w.useState(()=>new Set),n=w.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[w.useCallback(r=>{let{type:s,event:c}=r;e.forEach(d=>{var h;return(h=d[s])==null?void 0:h.call(d,c)})},[e]),n]}const F1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V1={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:l}=e;return l?"Draggable item "+n.id+" was moved over droppable area "+l.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:l}=e;return l?"Draggable item "+n.id+" was dropped over droppable area "+l.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function G1(e){let{announcements:n=V1,container:l,hiddenTextDescribedById:r,screenReaderInstructions:s=F1}=e;const{announce:c,announcement:d}=Z1(),h=rc("DndLiveRegion"),[g,m]=w.useState(!1);if(w.useEffect(()=>{m(!0)},[]),$1(w.useMemo(()=>({onDragStart(y){let{active:x}=y;c(n.onDragStart({active:x}))},onDragMove(y){let{active:x,over:_}=y;n.onDragMove&&c(n.onDragMove({active:x,over:_}))},onDragOver(y){let{active:x,over:_}=y;c(n.onDragOver({active:x,over:_}))},onDragEnd(y){let{active:x,over:_}=y;c(n.onDragEnd({active:x,over:_}))},onDragCancel(y){let{active:x,over:_}=y;c(n.onDragCancel({active:x,over:_}))}}),[c,n])),!g)return null;const b=qt.createElement(qt.Fragment,null,qt.createElement(P1,{id:r,value:s.draggable}),qt.createElement(H1,{id:h,announcement:d}));return l?il.createPortal(b,l):b}var kt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(kt||(kt={}));function Zo(){}function fv(e,n){return w.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function X1(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return w.useMemo(()=>[...n].filter(r=>r!=null),[...n])}const Kn=Object.freeze({x:0,y:0});function n0(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function a0(e,n){let{data:{value:l}}=e,{data:{value:r}}=n;return l-r}function K1(e,n){let{data:{value:l}}=e,{data:{value:r}}=n;return r-l}function hv(e){let{left:n,top:l,height:r,width:s}=e;return[{x:n,y:l},{x:n+s,y:l},{x:n,y:l+r},{x:n+s,y:l+r}]}function l0(e,n){if(!e||e.length===0)return null;const[l]=e;return l[n]}function mv(e,n,l){return n===void 0&&(n=e.left),l===void 0&&(l=e.top),{x:n+e.width*.5,y:l+e.height*.5}}const Q1=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:r}=e;const s=mv(n,n.left,n.top),c=[];for(const d of r){const{id:h}=d,g=l.get(h);if(g){const m=n0(mv(g),s);c.push({id:h,data:{droppableContainer:d,value:m}})}}return c.sort(a0)},W1=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:r}=e;const s=hv(n),c=[];for(const d of r){const{id:h}=d,g=l.get(h);if(g){const m=hv(g),b=s.reduce((x,_,D)=>x+n0(m[D],_),0),y=Number((b/4).toFixed(4));c.push({id:h,data:{droppableContainer:d,value:y}})}}return c.sort(a0)};function J1(e,n){const l=Math.max(n.top,e.top),r=Math.max(n.left,e.left),s=Math.min(n.left+n.width,e.left+e.width),c=Math.min(n.top+n.height,e.top+e.height),d=s-r,h=c-l;if(r<s&&l<c){const g=n.width*n.height,m=e.width*e.height,b=d*h,y=b/(g+m-b);return Number(y.toFixed(4))}return 0}const ew=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:r}=e;const s=[];for(const c of r){const{id:d}=c,h=l.get(d);if(h){const g=J1(h,n);g>0&&s.push({id:d,data:{droppableContainer:c,value:g}})}}return s.sort(K1)};function tw(e,n,l){return{...e,scaleX:n&&l?n.width/l.width:1,scaleY:n&&l?n.height/l.height:1}}function i0(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Kn}function nw(e){return function(l){for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];return s.reduce((d,h)=>({...d,top:d.top+e*h.y,bottom:d.bottom+e*h.y,left:d.left+e*h.x,right:d.right+e*h.x}),{...l})}}const aw=nw(1);function lw(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function iw(e,n,l){const r=lw(n);if(!r)return e;const{scaleX:s,scaleY:c,x:d,y:h}=r,g=e.left-d-(1-s)*parseFloat(l),m=e.top-h-(1-c)*parseFloat(l.slice(l.indexOf(" ")+1)),b=s?e.width/s:e.width,y=c?e.height/c:e.height;return{width:b,height:y,top:m,right:g+b,bottom:m+y,left:g}}const rw={ignoreTransform:!1};function ns(e,n){n===void 0&&(n=rw);let l=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:b}=cn(e).getComputedStyle(e);m&&(l=iw(l,m,b))}const{top:r,left:s,width:c,height:d,bottom:h,right:g}=l;return{top:r,left:s,width:c,height:d,bottom:h,right:g}}function gv(e){return ns(e,{ignoreTransform:!0})}function sw(e){const n=e.innerWidth,l=e.innerHeight;return{top:0,left:0,right:n,bottom:l,width:n,height:l}}function ow(e,n){return n===void 0&&(n=cn(e).getComputedStyle(e)),n.position==="fixed"}function cw(e,n){n===void 0&&(n=cn(e).getComputedStyle(e));const l=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const c=n[s];return typeof c=="string"?l.test(c):!1})}function sc(e,n){const l=[];function r(s){if(n!=null&&l.length>=n||!s)return l;if(Pf(s)&&s.scrollingElement!=null&&!l.includes(s.scrollingElement))return l.push(s.scrollingElement),l;if(!es(s)||Wy(s)||l.includes(s))return l;const c=cn(e).getComputedStyle(s);return s!==e&&cw(s,c)&&l.push(s),ow(s,c)?l:r(s.parentNode)}return e?r(e):l}function r0(e){const[n]=sc(e,1);return n??null}function Ud(e){return!ic||!e?null:Hi(e)?e:If(e)?Pf(e)||e===Zi(e).scrollingElement?window:es(e)?e:null:null}function s0(e){return Hi(e)?e.scrollX:e.scrollLeft}function o0(e){return Hi(e)?e.scrollY:e.scrollTop}function bf(e){return{x:s0(e),y:o0(e)}}var Ut;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ut||(Ut={}));function c0(e){return!ic||!e?!1:e===document.scrollingElement}function u0(e){const n={x:0,y:0},l=c0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-l.width,y:e.scrollHeight-l.height},s=e.scrollTop<=n.y,c=e.scrollLeft<=n.x,d=e.scrollTop>=r.y,h=e.scrollLeft>=r.x;return{isTop:s,isLeft:c,isBottom:d,isRight:h,maxScroll:r,minScroll:n}}const uw={x:.2,y:.2};function dw(e,n,l,r,s){let{top:c,left:d,right:h,bottom:g}=l;r===void 0&&(r=10),s===void 0&&(s=uw);const{isTop:m,isBottom:b,isLeft:y,isRight:x}=u0(e),_={x:0,y:0},D={x:0,y:0},E={height:n.height*s.y,width:n.width*s.x};return!m&&c<=n.top+E.height?(_.y=Ut.Backward,D.y=r*Math.abs((n.top+E.height-c)/E.height)):!b&&g>=n.bottom-E.height&&(_.y=Ut.Forward,D.y=r*Math.abs((n.bottom-E.height-g)/E.height)),!x&&h>=n.right-E.width?(_.x=Ut.Forward,D.x=r*Math.abs((n.right-E.width-h)/E.width)):!y&&d<=n.left+E.width&&(_.x=Ut.Backward,D.x=r*Math.abs((n.left+E.width-d)/E.width)),{direction:_,speed:D}}function fw(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:n,left:l,right:r,bottom:s}=e.getBoundingClientRect();return{top:n,left:l,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function d0(e){return e.reduce((n,l)=>Ri(n,bf(l)),Kn)}function hw(e){return e.reduce((n,l)=>n+s0(l),0)}function mw(e){return e.reduce((n,l)=>n+o0(l),0)}function gw(e,n){if(n===void 0&&(n=ns),!e)return;const{top:l,left:r,bottom:s,right:c}=n(e);r0(e)&&(s<=0||c<=0||l>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const pw=[["x",["left","right"],hw],["y",["top","bottom"],mw]];class Zf{constructor(n,l){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=sc(l),s=d0(r);this.rect={...n},this.width=n.width,this.height=n.height;for(const[c,d,h]of pw)for(const g of d)Object.defineProperty(this,g,{get:()=>{const m=h(r),b=s[c]-m;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ir{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(l=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...l)})},this.target=n}add(n,l,r){var s;(s=this.target)==null||s.addEventListener(n,l,r),this.listeners.push([n,l,r])}}function vw(e){const{EventTarget:n}=cn(e);return e instanceof n?e:Zi(e)}function qd(e,n){const l=Math.abs(e.x),r=Math.abs(e.y);return typeof n=="number"?Math.sqrt(l**2+r**2)>n:"x"in n&&"y"in n?l>n.x&&r>n.y:"x"in n?l>n.x:"y"in n?r>n.y:!1}var On;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(On||(On={}));function pv(e){e.preventDefault()}function yw(e){e.stopPropagation()}var ke;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ke||(ke={}));const f0={start:[ke.Space,ke.Enter],cancel:[ke.Esc],end:[ke.Space,ke.Enter,ke.Tab]},bw=(e,n)=>{let{currentCoordinates:l}=n;switch(e.code){case ke.Right:return{...l,x:l.x+25};case ke.Left:return{...l,x:l.x-25};case ke.Down:return{...l,y:l.y+25};case ke.Up:return{...l,y:l.y-25}}};class $f{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:l}}=n;this.props=n,this.listeners=new Ir(Zi(l)),this.windowListeners=new Ir(cn(l)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:l}=this.props,r=n.node.current;r&&gw(r),l(Kn)}handleKeyDown(n){if(e0(n)){const{active:l,context:r,options:s}=this.props,{keyboardCodes:c=f0,coordinateGetter:d=bw,scrollBehavior:h="smooth"}=s,{code:g}=n;if(c.end.includes(g)){this.handleEnd(n);return}if(c.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:m}=r.current,b=m?{x:m.left,y:m.top}:Kn;this.referenceCoordinates||(this.referenceCoordinates=b);const y=d(n,{active:l,context:r.current,currentCoordinates:b});if(y){const x=Yr(y,b),_={x:0,y:0},{scrollableAncestors:D}=r.current;for(const E of D){const A=n.code,{isTop:N,isRight:q,isLeft:B,isBottom:P,maxScroll:L,minScroll:j}=u0(E),T=fw(E),$={x:Math.min(A===ke.Right?T.right-T.width/2:T.right,Math.max(A===ke.Right?T.left:T.left+T.width/2,y.x)),y:Math.min(A===ke.Down?T.bottom-T.height/2:T.bottom,Math.max(A===ke.Down?T.top:T.top+T.height/2,y.y))},te=A===ke.Right&&!q||A===ke.Left&&!B,ie=A===ke.Down&&!P||A===ke.Up&&!N;if(te&&$.x!==y.x){const ue=E.scrollLeft+x.x,de=A===ke.Right&&ue<=L.x||A===ke.Left&&ue>=j.x;if(de&&!x.y){E.scrollTo({left:ue,behavior:h});return}de?_.x=E.scrollLeft-ue:_.x=A===ke.Right?E.scrollLeft-L.x:E.scrollLeft-j.x,_.x&&E.scrollBy({left:-_.x,behavior:h});break}else if(ie&&$.y!==y.y){const ue=E.scrollTop+x.y,de=A===ke.Down&&ue<=L.y||A===ke.Up&&ue>=j.y;if(de&&!x.x){E.scrollTo({top:ue,behavior:h});return}de?_.y=E.scrollTop-ue:_.y=A===ke.Down?E.scrollTop-L.y:E.scrollTop-j.y,_.y&&E.scrollBy({top:-_.y,behavior:h});break}}this.handleMove(n,Ri(Yr(y,this.referenceCoordinates),_))}}}handleMove(n,l){const{onMove:r}=this.props;n.preventDefault(),r(l)}handleEnd(n){const{onEnd:l}=this.props;n.preventDefault(),this.detach(),l()}handleCancel(n){const{onCancel:l}=this.props;n.preventDefault(),this.detach(),l()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$f.activators=[{eventName:"onKeyDown",handler:(e,n,l)=>{let{keyboardCodes:r=f0,onActivation:s}=n,{active:c}=l;const{code:d}=e.nativeEvent;if(r.start.includes(d)){const h=c.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function vv(e){return!!(e&&"distance"in e)}function yv(e){return!!(e&&"delay"in e)}class Yf{constructor(n,l,r){var s;r===void 0&&(r=vw(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=l;const{event:c}=n,{target:d}=c;this.props=n,this.events=l,this.document=Zi(d),this.documentListeners=new Ir(this.document),this.listeners=new Ir(r),this.windowListeners=new Ir(cn(d)),this.initialCoordinates=(s=yf(c))!=null?s:Kn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:l,bypassActivationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,pv),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,pv),this.documentListeners.add(On.Keydown,this.handleKeydown),l){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(yv(l)){this.timeoutId=setTimeout(this.handleStart,l.delay),this.handlePending(l);return}if(vv(l)){this.handlePending(l);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,l){const{active:r,onPending:s}=this.props;s(r,n,this.initialCoordinates,l)}handleStart(){const{initialCoordinates:n}=this,{onStart:l}=this.props;n&&(this.activated=!0,this.documentListeners.add(On.Click,yw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),l(n))}handleMove(n){var l;const{activated:r,initialCoordinates:s,props:c}=this,{onMove:d,options:{activationConstraint:h}}=c;if(!s)return;const g=(l=yf(n))!=null?l:Kn,m=Yr(s,g);if(!r&&h){if(vv(h)){if(h.tolerance!=null&&qd(m,h.tolerance))return this.handleCancel();if(qd(m,h.distance))return this.handleStart()}if(yv(h)&&qd(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}n.cancelable&&n.preventDefault(),d(g)}handleEnd(){const{onAbort:n,onEnd:l}=this.props;this.detach(),this.activated||n(this.props.active),l()}handleCancel(){const{onAbort:n,onCancel:l}=this.props;this.detach(),this.activated||n(this.props.active),l()}handleKeydown(n){n.code===ke.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const xw={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ff extends Yf{constructor(n){const{event:l}=n,r=Zi(l.target);super(n,xw,r)}}Ff.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:r}=n;return!l.isPrimary||l.button!==0?!1:(r?.({event:l}),!0)}}];const Sw={move:{name:"mousemove"},end:{name:"mouseup"}};var xf;(function(e){e[e.RightClick=2]="RightClick"})(xf||(xf={}));class ww extends Yf{constructor(n){super(n,Sw,Zi(n.event.target))}}ww.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:r}=n;return l.button===xf.RightClick?!1:(r?.({event:l}),!0)}}];const Id={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class _w extends Yf{constructor(n){super(n,Id)}static setup(){return window.addEventListener(Id.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Id.move.name,n)};function n(){}}}_w.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:r}=n;const{touches:s}=l;return s.length>1?!1:(r?.({event:l}),!0)}}];var Pr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Pr||(Pr={}));var $o;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})($o||($o={}));function Ew(e){let{acceleration:n,activator:l=Pr.Pointer,canScroll:r,draggingRect:s,enabled:c,interval:d=5,order:h=$o.TreeOrder,pointerCoordinates:g,scrollableAncestors:m,scrollableAncestorRects:b,delta:y,threshold:x}=e;const _=Nw({delta:y,disabled:!c}),[D,E]=B1(),A=w.useRef({x:0,y:0}),N=w.useRef({x:0,y:0}),q=w.useMemo(()=>{switch(l){case Pr.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Pr.DraggableRect:return s}},[l,s,g]),B=w.useRef(null),P=w.useCallback(()=>{const j=B.current;if(!j)return;const T=A.current.x*N.current.x,$=A.current.y*N.current.y;j.scrollBy(T,$)},[]),L=w.useMemo(()=>h===$o.TreeOrder?[...m].reverse():m,[h,m]);w.useEffect(()=>{if(!c||!m.length||!q){E();return}for(const j of L){if(r?.(j)===!1)continue;const T=m.indexOf(j),$=b[T];if(!$)continue;const{direction:te,speed:ie}=dw(j,$,q,n,x);for(const ue of["x","y"])_[ue][te[ue]]||(ie[ue]=0,te[ue]=0);if(ie.x>0||ie.y>0){E(),B.current=j,D(P,d),A.current=ie,N.current=te;return}}A.current={x:0,y:0},N.current={x:0,y:0},E()},[n,P,r,E,c,d,JSON.stringify(q),JSON.stringify(_),D,m,L,b,JSON.stringify(x)])}const Tw={x:{[Ut.Backward]:!1,[Ut.Forward]:!1},y:{[Ut.Backward]:!1,[Ut.Forward]:!1}};function Nw(e){let{delta:n,disabled:l}=e;const r=vf(n);return ts(s=>{if(l||!r||!s)return Tw;const c={x:Math.sign(n.x-r.x),y:Math.sign(n.y-r.y)};return{x:{[Ut.Backward]:s.x[Ut.Backward]||c.x===-1,[Ut.Forward]:s.x[Ut.Forward]||c.x===1},y:{[Ut.Backward]:s.y[Ut.Backward]||c.y===-1,[Ut.Forward]:s.y[Ut.Forward]||c.y===1}}},[l,n,r])}function Mw(e,n){const l=n!=null?e.get(n):void 0,r=l?l.node.current:null;return ts(s=>{var c;return n==null?null:(c=r??s)!=null?c:null},[r,n])}function Cw(e,n){return w.useMemo(()=>e.reduce((l,r)=>{const{sensor:s}=r,c=s.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,r)}));return[...l,...c]},[]),[e,n])}var Fr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fr||(Fr={}));var Sf;(function(e){e.Optimized="optimized"})(Sf||(Sf={}));const bv=new Map;function Aw(e,n){let{dragging:l,dependencies:r,config:s}=n;const[c,d]=w.useState(null),{frequency:h,measure:g,strategy:m}=s,b=w.useRef(e),y=A(),x=$r(y),_=w.useCallback(function(N){N===void 0&&(N=[]),!x.current&&d(q=>q===null?N:q.concat(N.filter(B=>!q.includes(B))))},[x]),D=w.useRef(null),E=ts(N=>{if(y&&!l)return bv;if(!N||N===bv||b.current!==e||c!=null){const q=new Map;for(let B of e){if(!B)continue;if(c&&c.length>0&&!c.includes(B.id)&&B.rect.current){q.set(B.id,B.rect.current);continue}const P=B.node.current,L=P?new Zf(g(P),P):null;B.rect.current=L,L&&q.set(B.id,L)}return q}return N},[e,c,l,y,g]);return w.useEffect(()=>{b.current=e},[e]),w.useEffect(()=>{y||_()},[l,y]),w.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),w.useEffect(()=>{y||typeof h!="number"||D.current!==null||(D.current=setTimeout(()=>{_(),D.current=null},h))},[h,y,_,...r]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:c!=null};function A(){switch(m){case Fr.Always:return!1;case Fr.BeforeDragging:return l;default:return!l}}}function h0(e,n){return ts(l=>e?l||(typeof n=="function"?n(e):e):null,[n,e])}function Dw(e,n){return h0(e,n)}function jw(e){let{callback:n,disabled:l}=e;const r=Hf(n),s=w.useMemo(()=>{if(l||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(r)},[r,l]);return w.useEffect(()=>()=>s?.disconnect(),[s]),s}function oc(e){let{callback:n,disabled:l}=e;const r=Hf(n),s=w.useMemo(()=>{if(l||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(r)},[l]);return w.useEffect(()=>()=>s?.disconnect(),[s]),s}function zw(e){return new Zf(ns(e),e)}function xv(e,n,l){n===void 0&&(n=zw);const[r,s]=w.useState(null);function c(){s(g=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=g??l)!=null?m:null}const b=n(e);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const d=jw({callback(g){if(e)for(const m of g){const{type:b,target:y}=m;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){c();break}}}}),h=oc({callback:c});return cl(()=>{c(),e?(h?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),d?.disconnect())},[e]),r}function kw(e){const n=h0(e);return i0(e,n)}const Sv=[];function Rw(e){const n=w.useRef(e),l=ts(r=>e?r&&r!==Sv&&e&&n.current&&e.parentNode===n.current.parentNode?r:sc(e):Sv,[e]);return w.useEffect(()=>{n.current=e},[e]),l}function Ow(e){const[n,l]=w.useState(null),r=w.useRef(e),s=w.useCallback(c=>{const d=Ud(c.target);d&&l(h=>h?(h.set(d,bf(d)),new Map(h)):null)},[]);return w.useEffect(()=>{const c=r.current;if(e!==c){d(c);const h=e.map(g=>{const m=Ud(g);return m?(m.addEventListener("scroll",s,{passive:!0}),[m,bf(m)]):null}).filter(g=>g!=null);l(h.length?new Map(h):null),r.current=e}return()=>{d(e),d(c)};function d(h){h.forEach(g=>{const m=Ud(g);m?.removeEventListener("scroll",s)})}},[s,e]),w.useMemo(()=>e.length?n?Array.from(n.values()).reduce((c,d)=>Ri(c,d),Kn):d0(e):Kn,[e,n])}function wv(e,n){n===void 0&&(n=[]);const l=w.useRef(null);return w.useEffect(()=>{l.current=null},n),w.useEffect(()=>{const r=e!==Kn;r&&!l.current&&(l.current=e),!r&&l.current&&(l.current=null)},[e]),l.current?Yr(e,l.current):Kn}function Bw(e){w.useEffect(()=>{if(!ic)return;const n=e.map(l=>{let{sensor:r}=l;return r.setup==null?void 0:r.setup()});return()=>{for(const l of n)l?.()}},e.map(n=>{let{sensor:l}=n;return l}))}function Lw(e,n){return w.useMemo(()=>e.reduce((l,r)=>{let{eventName:s,handler:c}=r;return l[s]=d=>{c(d,n)},l},{}),[e,n])}function m0(e){return w.useMemo(()=>e?sw(e):null,[e])}const _v=[];function Uw(e,n){n===void 0&&(n=ns);const[l]=e,r=m0(l?cn(l):null),[s,c]=w.useState(_v);function d(){c(()=>e.length?e.map(g=>c0(g)?r:new Zf(n(g),g)):_v)}const h=oc({callback:d});return cl(()=>{h?.disconnect(),d(),e.forEach(g=>h?.observe(g))},[e]),s}function qw(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return es(n)?n:e}function Iw(e){let{measure:n}=e;const[l,r]=w.useState(null),s=w.useCallback(m=>{for(const{target:b}of m)if(es(b)){r(y=>{const x=n(b);return y?{...y,width:x.width,height:x.height}:x});break}},[n]),c=oc({callback:s}),d=w.useCallback(m=>{const b=qw(m);c?.disconnect(),b&&c?.observe(b),r(b?n(b):null)},[n,c]),[h,g]=Po(d);return w.useMemo(()=>({nodeRef:h,rect:l,setRef:g}),[l,h,g])}const Pw=[{sensor:Ff,options:{}},{sensor:$f,options:{}}],Hw={current:{}},Ro={draggable:{measure:gv},droppable:{measure:gv,strategy:Fr.WhileDragging,frequency:Sf.Optimized},dragOverlay:{measure:ns}};class Hr extends Map{get(n){var l;return n!=null&&(l=super.get(n))!=null?l:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:l}=n;return!l})}getNodeFor(n){var l,r;return(l=(r=this.get(n))==null?void 0:r.node.current)!=null?l:void 0}}const Zw={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ro,measureDroppableContainers:Zo,windowRect:null,measuringScheduled:!1},$w={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zo,draggableNodes:new Map,over:null,measureDroppableContainers:Zo},cc=w.createContext($w),Yw=w.createContext(Zw);function Fw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hr}}}function Vw(e,n){switch(n.type){case kt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case kt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case kt.DragEnd:case kt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kt.RegisterDroppable:{const{element:l}=n,{id:r}=l,s=new Hr(e.droppable.containers);return s.set(r,l),{...e,droppable:{...e.droppable,containers:s}}}case kt.SetDroppableDisabled:{const{id:l,key:r,disabled:s}=n,c=e.droppable.containers.get(l);if(!c||r!==c.key)return e;const d=new Hr(e.droppable.containers);return d.set(l,{...c,disabled:s}),{...e,droppable:{...e.droppable,containers:d}}}case kt.UnregisterDroppable:{const{id:l,key:r}=n,s=e.droppable.containers.get(l);if(!s||r!==s.key)return e;const c=new Hr(e.droppable.containers);return c.delete(l),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function Gw(e){let{disabled:n}=e;const{active:l,activatorEvent:r,draggableNodes:s}=w.useContext(cc),c=vf(r),d=vf(l?.id);return w.useEffect(()=>{if(!n&&!r&&c&&d!=null){if(!e0(c)||document.activeElement===c.target)return;const h=s.get(d);if(!h)return;const{activatorNode:g,node:m}=h;if(!g.current&&!m.current)return;requestAnimationFrame(()=>{for(const b of[g.current,m.current]){if(!b)continue;const y=q1(b);if(y){y.focus();break}}})}},[r,n,s,d,c]),null}function Xw(e,n){let{transform:l,...r}=n;return e!=null&&e.length?e.reduce((s,c)=>c({transform:s,...r}),l):l}function Kw(e){return w.useMemo(()=>({draggable:{...Ro.draggable,...e?.draggable},droppable:{...Ro.droppable,...e?.droppable},dragOverlay:{...Ro.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Qw(e){let{activeNode:n,measure:l,initialRect:r,config:s=!0}=e;const c=w.useRef(!1),{x:d,y:h}=typeof s=="boolean"?{x:s,y:s}:s;cl(()=>{if(!d&&!h||!n){c.current=!1;return}if(c.current||!r)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const b=l(m),y=i0(b,r);if(d||(y.x=0),h||(y.y=0),c.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const x=r0(m);x&&x.scrollBy({top:y.y,left:y.x})}},[n,d,h,r,l])}const g0=w.createContext({...Kn,scaleX:1,scaleY:1});var ll;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ll||(ll={}));const Ww=w.memo(function(n){var l,r,s,c;let{id:d,accessibility:h,autoScroll:g=!0,children:m,sensors:b=Pw,collisionDetection:y=ew,measuring:x,modifiers:_,...D}=n;const E=w.useReducer(Vw,void 0,Fw),[A,N]=E,[q,B]=Y1(),[P,L]=w.useState(ll.Uninitialized),j=P===ll.Initialized,{draggable:{active:T,nodes:$,translate:te},droppable:{containers:ie}}=A,ue=T!=null?$.get(T):null,de=w.useRef({initial:null,translated:null}),ce=w.useMemo(()=>{var ct;return T!=null?{id:T,data:(ct=ue?.data)!=null?ct:Hw,rect:de}:null},[T,ue]),ye=w.useRef(null),[Se,U]=w.useState(null),[F,W]=w.useState(null),Y=$r(D,Object.values(D)),re=rc("DndDescribedBy",d),M=w.useMemo(()=>ie.getEnabled(),[ie]),H=Kw(x),{droppableRects:ee,measureDroppableContainers:ae,measuringScheduled:pe}=Aw(M,{dragging:j,dependencies:[te.x,te.y],config:H.droppable}),me=Mw($,T),Ne=w.useMemo(()=>F?yf(F):null,[F]),ot=za(),Ye=Dw(me,H.draggable.measure);Qw({activeNode:T!=null?$.get(T):null,config:ot.layoutShiftCompensation,initialRect:Ye,measure:H.draggable.measure});const Xe=xv(me,H.draggable.measure,Ye),_n=xv(me?me.parentElement:null),Pt=w.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Wn=ie.getNodeFor((l=Pt.current.over)==null?void 0:l.id),wt=Iw({measure:H.dragOverlay.measure}),Rt=(r=wt.nodeRef.current)!=null?r:me,Xt=j?(s=wt.rect)!=null?s:Xe:null,qn=!!(wt.nodeRef.current&&wt.rect),J=kw(qn?null:Xe),le=m0(Rt?cn(Rt):null),Me=Rw(j?Wn??me:null),Ue=Uw(Me),_t=Xw(_,{transform:{x:te.x-J.x,y:te.y-J.y,scaleX:1,scaleY:1},activatorEvent:F,active:ce,activeNodeRect:Xe,containerNodeRect:_n,draggingNodeRect:Xt,over:Pt.current.over,overlayNodeRect:wt.rect,scrollableAncestors:Me,scrollableAncestorRects:Ue,windowRect:le}),dn=Ne?Ri(Ne,te):null,Ie=Ow(Me),In=wv(Ie),Aa=wv(Ie,[Xe]),Pn=Ri(_t,In),fn=Xt?aw(Xt,_t):null,Jn=ce&&fn?y({active:ce,collisionRect:fn,droppableRects:ee,droppableContainers:M,pointerCoordinates:dn}):null,Hn=l0(Jn,"id"),[tn,Il]=w.useState(null),ea=qn?_t:Ri(_t,Aa),Ot=tw(ea,(c=tn?.rect)!=null?c:null,Xe),Kt=w.useRef(null),Et=w.useCallback((ct,nt)=>{let{sensor:pt,options:X}=nt;if(ye.current==null)return;const ne=$.get(ye.current);if(!ne)return;const be=ct.nativeEvent,Te=new pt({active:ye.current,activeNode:ne,event:be,options:X,context:Pt,onAbort(We){if(!$.get(We))return;const{onDragAbort:qe}=Y.current,vt={id:We};qe?.(vt),q({type:"onDragAbort",event:vt})},onPending(We,lt,qe,vt){if(!$.get(We))return;const{onDragPending:Pe}=Y.current,Qt={id:We,constraint:lt,initialCoordinates:qe,offset:vt};Pe?.(Qt),q({type:"onDragPending",event:Qt})},onStart(We){const lt=ye.current;if(lt==null)return;const qe=$.get(lt);if(!qe)return;const{onDragStart:vt}=Y.current,Dt={activatorEvent:be,active:{id:lt,data:qe.data,rect:de}};il.unstable_batchedUpdates(()=>{vt?.(Dt),L(ll.Initializing),N({type:kt.DragStart,initialCoordinates:We,active:lt}),q({type:"onDragStart",event:Dt}),U(Kt.current),W(be)})},onMove(We){N({type:kt.DragMove,coordinates:We})},onEnd:at(kt.DragEnd),onCancel:at(kt.DragCancel)});Kt.current=Te;function at(We){return async function(){const{active:qe,collisions:vt,over:Dt,scrollAdjustedTranslate:Pe}=Pt.current;let Qt=null;if(qe&&Pe){const{cancelDrop:Wt}=Y.current;Qt={activatorEvent:be,active:qe,collisions:vt,delta:Pe,over:Dt},We===kt.DragEnd&&typeof Wt=="function"&&await Promise.resolve(Wt(Qt))&&(We=kt.DragCancel)}ye.current=null,il.unstable_batchedUpdates(()=>{N({type:We}),L(ll.Uninitialized),Il(null),U(null),W(null),Kt.current=null;const Wt=We===kt.DragEnd?"onDragEnd":"onDragCancel";if(Qt){const ve=Y.current[Wt];ve?.(Qt),q({type:Wt,event:Qt})}})}}},[$]),Yi=w.useCallback((ct,nt)=>(pt,X)=>{const ne=pt.nativeEvent,be=$.get(X);if(ye.current!==null||!be||ne.dndKit||ne.defaultPrevented)return;const Te={active:be};ct(pt,nt.options,Te)===!0&&(ne.dndKit={capturedBy:nt.sensor},ye.current=X,Et(pt,nt))},[$,Et]),Da=Cw(b,Yi);Bw(b),cl(()=>{Xe&&P===ll.Initializing&&L(ll.Initialized)},[Xe,P]),w.useEffect(()=>{const{onDragMove:ct}=Y.current,{active:nt,activatorEvent:pt,collisions:X,over:ne}=Pt.current;if(!nt||!pt)return;const be={active:nt,activatorEvent:pt,collisions:X,delta:{x:Pn.x,y:Pn.y},over:ne};il.unstable_batchedUpdates(()=>{ct?.(be),q({type:"onDragMove",event:be})})},[Pn.x,Pn.y]),w.useEffect(()=>{const{active:ct,activatorEvent:nt,collisions:pt,droppableContainers:X,scrollAdjustedTranslate:ne}=Pt.current;if(!ct||ye.current==null||!nt||!ne)return;const{onDragOver:be}=Y.current,Te=X.get(Hn),at=Te&&Te.rect.current?{id:Te.id,rect:Te.rect.current,data:Te.data,disabled:Te.disabled}:null,We={active:ct,activatorEvent:nt,collisions:pt,delta:{x:ne.x,y:ne.y},over:at};il.unstable_batchedUpdates(()=>{Il(at),be?.(We),q({type:"onDragOver",event:We})})},[Hn]),cl(()=>{Pt.current={activatorEvent:F,active:ce,activeNode:me,collisionRect:fn,collisions:Jn,droppableRects:ee,draggableNodes:$,draggingNode:Rt,draggingNodeRect:Xt,droppableContainers:ie,over:tn,scrollableAncestors:Me,scrollAdjustedTranslate:Pn},de.current={initial:Xt,translated:fn}},[ce,me,Jn,fn,$,Rt,Xt,ee,ie,tn,Me,Pn]),Ew({...ot,delta:te,draggingRect:fn,pointerCoordinates:dn,scrollableAncestors:Me,scrollableAncestorRects:Ue});const Fi=w.useMemo(()=>({active:ce,activeNode:me,activeNodeRect:Xe,activatorEvent:F,collisions:Jn,containerNodeRect:_n,dragOverlay:wt,draggableNodes:$,droppableContainers:ie,droppableRects:ee,over:tn,measureDroppableContainers:ae,scrollableAncestors:Me,scrollableAncestorRects:Ue,measuringConfiguration:H,measuringScheduled:pe,windowRect:le}),[ce,me,Xe,F,Jn,_n,wt,$,ie,ee,tn,ae,Me,Ue,H,pe,le]),ja=w.useMemo(()=>({activatorEvent:F,activators:Da,active:ce,activeNodeRect:Xe,ariaDescribedById:{draggable:re},dispatch:N,draggableNodes:$,over:tn,measureDroppableContainers:ae}),[F,Da,ce,Xe,N,re,$,tn,ae]);return qt.createElement(t0.Provider,{value:B},qt.createElement(cc.Provider,{value:ja},qt.createElement(Yw.Provider,{value:Fi},qt.createElement(g0.Provider,{value:Ot},m)),qt.createElement(Gw,{disabled:h?.restoreFocus===!1})),qt.createElement(G1,{...h,hiddenTextDescribedById:re}));function za(){const ct=Se?.autoScrollEnabled===!1,nt=typeof g=="object"?g.enabled===!1:g===!1,pt=j&&!ct&&!nt;return typeof g=="object"?{...g,enabled:pt}:{enabled:pt}}}),Jw=w.createContext(null),Ev="button",e_="Draggable";function p0(e){let{id:n,data:l,disabled:r=!1,attributes:s}=e;const c=rc(e_),{activators:d,activatorEvent:h,active:g,activeNodeRect:m,ariaDescribedById:b,draggableNodes:y,over:x}=w.useContext(cc),{role:_=Ev,roleDescription:D="draggable",tabIndex:E=0}=s??{},A=g?.id===n,N=w.useContext(A?g0:Jw),[q,B]=Po(),[P,L]=Po(),j=Lw(d,n),T=$r(l);cl(()=>(y.set(n,{id:n,key:c,node:q,activatorNode:P,data:T}),()=>{const te=y.get(n);te&&te.key===c&&y.delete(n)}),[y,n]);const $=w.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":r,"aria-pressed":A&&_===Ev?!0:void 0,"aria-roledescription":D,"aria-describedby":b.draggable}),[r,_,E,A,D,b.draggable]);return{active:g,activatorEvent:h,activeNodeRect:m,attributes:$,isDragging:A,listeners:r?void 0:j,node:q,over:x,setNodeRef:B,setActivatorNodeRef:L,transform:N}}const t_="Droppable",n_={timeout:25};function v0(e){let{data:n,disabled:l=!1,id:r,resizeObserverConfig:s}=e;const c=rc(t_),{active:d,dispatch:h,over:g,measureDroppableContainers:m}=w.useContext(cc),b=w.useRef({disabled:l}),y=w.useRef(!1),x=w.useRef(null),_=w.useRef(null),{disabled:D,updateMeasurementsFor:E,timeout:A}={...n_,...s},N=$r(E??r),q=w.useCallback(()=>{if(!y.current){y.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),_.current=null},A)},[A]),B=oc({callback:q,disabled:D||!d}),P=w.useCallback(($,te)=>{B&&(te&&(B.unobserve(te),y.current=!1),$&&B.observe($))},[B]),[L,j]=Po(P),T=$r(n);return w.useEffect(()=>{!B||!L.current||(B.disconnect(),y.current=!1,B.observe(L.current))},[L,B]),w.useEffect(()=>(h({type:kt.RegisterDroppable,element:{id:r,key:c,disabled:l,node:L,rect:x,data:T}}),()=>h({type:kt.UnregisterDroppable,key:c,id:r})),[r]),w.useEffect(()=>{l!==b.current.disabled&&(h({type:kt.SetDroppableDisabled,id:r,key:c,disabled:l}),b.current.disabled=l)},[r,c,l,h]),{active:d,rect:x,isOver:g?.id===r,node:L,over:g,setNodeRef:j}}function Yo(e){if(!e)return!1;const n=e.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const a_=[ke.Down,ke.Right,ke.Up,ke.Left],l_=(e,n)=>{let{context:{active:l,collisionRect:r,droppableRects:s,droppableContainers:c,over:d,scrollableAncestors:h}}=n;if(a_.includes(e.code)){if(e.preventDefault(),!l||!r)return;const g=[];c.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const x=s.get(y.id);if(x)switch(e.code){case ke.Down:r.top<x.top&&g.push(y);break;case ke.Up:r.top>x.top&&g.push(y);break;case ke.Left:r.left>x.left&&g.push(y);break;case ke.Right:r.left<x.left&&g.push(y);break}});const m=W1({collisionRect:r,droppableRects:s,droppableContainers:g});let b=l0(m,"id");if(b===d?.id&&m.length>1&&(b=m[1].id),b!=null){const y=c.get(l.id),x=c.get(b),_=x?s.get(x.id):null,D=x?.node.current;if(D&&_&&y&&x){const A=sc(D).some((j,T)=>h[T]!==j),N=y0(y,x),q=i_(y,x),B=A||!N?{x:0,y:0}:{x:q?r.width-_.width:0,y:q?r.height-_.height:0},P={x:_.left,y:_.top};return B.x&&B.y?P:Yr(P,B)}}}};function y0(e,n){return!Yo(e)||!Yo(n)?!1:e.data.current.sortable.containerId===n.data.current.sortable.containerId}function i_(e,n){return!Yo(e)||!Yo(n)||!y0(e,n)?!1:e.data.current.sortable.index<n.data.current.sortable.index}const Tv=e=>Symbol.iterator in e,Nv=e=>"entries"in e,Mv=(e,n)=>{const l=e instanceof Map?e:new Map(e.entries()),r=n instanceof Map?n:new Map(n.entries());if(l.size!==r.size)return!1;for(const[s,c]of l)if(!r.has(s)||!Object.is(c,r.get(s)))return!1;return!0},r_=(e,n)=>{const l=e[Symbol.iterator](),r=n[Symbol.iterator]();let s=l.next(),c=r.next();for(;!s.done&&!c.done;){if(!Object.is(s.value,c.value))return!1;s=l.next(),c=r.next()}return!!s.done&&!!c.done};function s_(e,n){return Object.is(e,n)?!0:typeof e!="object"||e===null||typeof n!="object"||n===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(n)?!1:Tv(e)&&Tv(n)?Nv(e)&&Nv(n)?Mv(e,n):r_(e,n):Mv({entries:()=>Object.entries(e)},{entries:()=>Object.entries(n)})}function o_(e){const n=qt.useRef(void 0);return l=>{const r=e(l);return s_(n.current,r)?n.current:n.current=r}}const c_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),Cv=e=>{const n=u_(e);return n.charAt(0).toUpperCase()+n.slice(1)},b0=(...e)=>e.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),d_=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var f_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h_=w.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:s="",children:c,iconNode:d,...h},g)=>w.createElement("svg",{ref:g,...f_,width:n,height:n,stroke:e,strokeWidth:r?Number(l)*24/Number(n):l,className:b0("lucide",s),...!c&&!d_(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,b])=>w.createElement(m,b)),...Array.isArray(c)?c:[c]]));const It=(e,n)=>{const l=w.forwardRef(({className:r,...s},c)=>w.createElement(h_,{ref:c,iconNode:n,className:b0(`lucide-${c_(Cv(e))}`,`lucide-${e}`,r),...s}));return l.displayName=Cv(e),l};const m_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],g_=It("copy",m_);const p_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],v_=It("external-link",p_);const y_=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],b_=It("git-branch",y_);const x_=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],S_=It("grip-vertical",x_);const w_=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],__=It("hammer",w_);const E_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Vf=It("link-2",E_);const T_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x0=It("lock",T_);const N_=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],M_=It("pin",N_);const C_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A_=It("plus",C_);const D_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],j_=It("search",D_);const z_=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],k_=It("sliders-horizontal",z_);const R_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],S0=It("sparkles",R_);const O_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],B_=It("trash-2",O_);const L_=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Gf=It("tree-pine",L_);const U_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q_=It("triangle-alert",U_);const I_=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],P_=It("undo-2",I_);const H_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z_=It("upload",H_);const $_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y_=It("x",$_),ul=["helmet","chestplate","leggings","boots","ring","bracelet","necklace","weapon"],Je=["helmet","chestplate","leggings","boots","ring1","ring2","bracelet","necklace","weapon"],sa=e=>e==="ring1"||e==="ring2"?"ring":e,Fo=e=>{switch(e){case"ring1":return"Ring 1";case"ring2":return"Ring 2";default:return e.charAt(0).toUpperCase()+e.slice(1)}};function Xf(e){return e==="weapon"?"Weapon":e.charAt(0).toUpperCase()+e.slice(1)}const w0={spear:"Warrior",dagger:"Assassin",wand:"Mage",bow:"Archer",relik:"Shaman"};function Vo(e){return w0[e]??null}function F_(e,n){return e in w0?"weapon":ul.includes(e)?e:n==="weapon"?"weapon":e==="ring"?"ring":null}function _0(e,n){return!n||!e.classReq?!0:e.classReq===n}function V_(e,n){return e.level<=n}const G_=["hp","hpBonus","hprRaw","hprPct","mr","ms","ls","sdPct","sdRaw","mdPct","mdRaw","poison","spd","atkTier","averageDps","strReq","dexReq","intReq","defReq","agiReq","str","dex","int","def","agi","eDef","tDef","wDef","fDef","aDef","eDamPct","tDamPct","wDamPct","fDamPct","aDamPct","damPct","rDamPct","nDamPct","slots","lvl"];function _e(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const n=Number(e);if(Number.isFinite(n))return n}return 0}function Sn(e){return typeof e=="string"?e:""}function X_(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function K_(e,n){const l=Sn(e).trim();if(!l)return Vo(n);switch(l.toLowerCase()){case"warrior":return"Warrior";case"assassin":return"Assassin";case"mage":return"Mage";case"archer":return"Archer";case"shaman":return"Shaman";default:return Vo(n)}}function Q_(e){return{hp:_e(e.hp),hpBonus:_e(e.hpBonus),hprRaw:_e(e.hprRaw),hprPct:_e(e.hprPct),mr:_e(e.mr),ms:_e(e.ms),ls:_e(e.ls),sdPct:_e(e.sdPct),sdRaw:_e(e.sdRaw),mdPct:_e(e.mdPct),mdRaw:_e(e.mdRaw),poison:_e(e.poison),spd:_e(e.spd),atkTier:_e(e.atkTier),baseDps:_e(e.averageDps),reqStr:_e(e.strReq),reqDex:_e(e.dexReq),reqInt:_e(e.intReq),reqDef:_e(e.defReq),reqAgi:_e(e.agiReq),spStr:_e(e.str),spDex:_e(e.dex),spInt:_e(e.int),spDef:_e(e.def),spAgi:_e(e.agi),eDef:_e(e.eDef),tDef:_e(e.tDef),wDef:_e(e.wDef),fDef:_e(e.fDef),aDef:_e(e.aDef),eDamPct:_e(e.eDamPct),tDamPct:_e(e.tDamPct),wDamPct:_e(e.wDamPct),fDamPct:_e(e.fDamPct),aDamPct:_e(e.aDamPct),damPct:_e(e.damPct),rDamPct:_e(e.rDamPct),nDamPct:_e(e.nDamPct)}}function W_(e){const n={};for(const l of G_)n[l]=_e(e[l]);return n.reqTotal=n.strReq+n.dexReq+n.intReq+n.defReq+n.agiReq,n.skillPointTotal=n.str+n.dex+n.int+n.def+n.agi,n.offenseScore=n.averageDps+n.sdPct*1.4+n.mdPct*1.15+n.sdRaw*.12+n.mdRaw*.12+(n.damPct+n.rDamPct+n.nDamPct)*.8+(n.eDamPct+n.tDamPct+n.wDamPct+n.fDamPct+n.aDamPct)*.5+n.atkTier*7+n.poison*.03,n.ehpProxy=n.hp+n.hpBonus+(n.eDef+n.tDef+n.wDef+n.fDef+n.aDef)*.45+n.hprRaw*1.2+n.hprPct*2.5,n.utilityScore=n.spd*1.8+n.mr*8+n.ms*7+n.ls*6,n}function J_(e){if(typeof e.remapID<"u")return null;const n=Sn(e.type).toLowerCase(),l=Sn(e.category).toLowerCase(),r=F_(n,l);if(!r)return null;const s=Sn(e.displayName)||Sn(e.name),c=Sn(e.tier)||"Normal",d=_e(e.lvl),h=X_(e.majorIds),g=Q_(e),m=W_(e),b={baseDps:g.baseDps,offense:m.offenseScore,ehpProxy:m.ehpProxy,utility:m.utilityScore,skillPointTotal:m.skillPointTotal,reqTotal:m.reqTotal},y=[s,Sn(e.name),Sn(e.lore),n,c,l,Sn(e.classReq),...h];return{id:_e(e.id),name:Sn(e.name),displayName:s,category:r,type:n,sourceCategory:l,tier:c,level:d,classReq:K_(e.classReq,n),majorIds:h,powderSlots:_e(e.slots),atkSpd:Sn(e.atkSpd),restricted:Sn(e.restrict)!=="",deprecated:Sn(e.restrict).toUpperCase()==="DEPRECATED",numeric:g,numericIndex:m,searchText:y.filter(Boolean).join(" ").toLowerCase(),majorIdsText:h.join(" ").toLowerCase(),roughScoreFields:b,legacyRaw:e}}function eE(e,n,l){if(!Number.isFinite(l))return;const r=e[n];if(!r){e[n]={min:l,max:l};return}r.min=Math.min(r.min,l),r.max=Math.max(r.max,l)}function tE(e){const n=e.items.map(J_).filter(y=>y!==null);n.sort((y,x)=>y.displayName.localeCompare(x.displayName));const l=new Map,r=new Map,s=new Map,c=new Map(ul.map(y=>[y,[]])),d=new Set,h=new Set,g=new Set,m=new Set,b={};for(const y of n){l.set(y.id,y),r.set(y.displayName.toLowerCase(),y.id),s.has(y.type)||s.set(y.type,[]),s.get(y.type).push(y.id),c.get(y.category).push(y.id),d.add(y.tier),h.add(y.type),y.classReq&&g.add(y.classReq);for(const x of y.majorIds)x&&m.add(x);for(const[x,_]of Object.entries(y.numericIndex))eE(b,x,_)}return{version:String(e.version??"unknown"),items:n,itemsById:l,itemIdByName:r,itemsByType:s,itemsByCategory:c,facetsMeta:{categories:[...ul],types:[...h].sort(),tiers:[...d].sort(),classReqs:[...g].sort(),majorIds:[...m].sort(),numericRanges:b}}}class nE{snapshotPromise=null;async getCatalog(){return this.snapshotPromise||(this.snapshotPromise=this.loadCatalog()),this.snapshotPromise}async getItemById(n){return(await this.getCatalog()).itemsById.get(n)}async loadCatalog(){const n=await this.fetchCompressPayload();return tE(n)}async fetchCompressPayload(){const n=["./compress.json","../compress.json","compress.json","/workbench/compress.json","/compress.json"];let l=null;const r=[];for(const s of n)try{const c=await fetch(s,{cache:"force-cache"});if(!c.ok)throw new Error(`Failed to fetch ${s}: ${c.status}`);const d=await c.json();if(!d?.items||!Array.isArray(d.items))throw new Error(`Invalid compress payload from ${s}`);return d}catch(c){l=c,r.push(c instanceof Error?c.message:`Failed to fetch ${s}`)}throw l instanceof Error?new Error(`Unable to load compress.json. Tried: ${n.join(", ")}. Last error: ${l.message}`):new Error(`Unable to load compress.json. Tried: ${n.join(", ")}. Failures: ${r.join(" | ")}`)}}const aE=new nE;function K(e,n,l){function r(h,g){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:g,constr:d,traits:new Set},enumerable:!1}),h._zod.traits.has(e))return;h._zod.traits.add(e),n(h,g);const m=d.prototype,b=Object.keys(m);for(let y=0;y<b.length;y++){const x=b[y];x in h||(h[x]=m[x].bind(h))}}const s=l?.Parent??Object;class c extends s{}Object.defineProperty(c,"name",{value:e});function d(h){var g;const m=l?.Parent?new c:this;r(m,h),(g=m._zod).deferred??(g.deferred=[]);for(const b of m._zod.deferred)b();return m}return Object.defineProperty(d,"init",{value:r}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>l?.Parent&&h instanceof l.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class Oi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class E0 extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const T0={};function dl(e){return T0}function N0(e){const n=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>n.indexOf(+r)===-1).map(([r,s])=>s)}function wf(e,n){return typeof n=="bigint"?n.toString():n}function Kf(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Qf(e){return e==null}function Wf(e){const n=e.startsWith("^")?1:0,l=e.endsWith("$")?e.length-1:e.length;return e.slice(n,l)}function lE(e,n){const l=(e.toString().split(".")[1]||"").length,r=n.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const g=r.match(/\d?e-(\d?)/);g?.[1]&&(s=Number.parseInt(g[1]))}const c=l>s?l:s,d=Number.parseInt(e.toFixed(c).replace(".","")),h=Number.parseInt(n.toFixed(c).replace(".",""));return d%h/10**c}const Av=Symbol("evaluating");function $e(e,n,l){let r;Object.defineProperty(e,n,{get(){if(r!==Av)return r===void 0&&(r=Av,r=l()),r},set(s){Object.defineProperty(e,n,{value:s})},configurable:!0})}function Ul(e,n,l){Object.defineProperty(e,n,{value:l,writable:!0,enumerable:!0,configurable:!0})}function ml(...e){const n={};for(const l of e){const r=Object.getOwnPropertyDescriptors(l);Object.assign(n,r)}return Object.defineProperties({},n)}function Dv(e){return JSON.stringify(e)}function iE(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const M0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Go(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rE=Kf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ii(e){if(Go(e)===!1)return!1;const n=e.constructor;if(n===void 0||typeof n!="function")return!0;const l=n.prototype;return!(Go(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function C0(e){return Ii(e)?{...e}:Array.isArray(e)?[...e]:e}const sE=new Set(["string","number","symbol"]);function uc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gl(e,n,l){const r=new e._zod.constr(n??e._zod.def);return(!n||l?.parent)&&(r._zod.parent=e),r}function he(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function oE(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const cE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function uE(e,n){const l=e._zod.def,r=l.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const c=ml(e._zod.def,{get shape(){const d={};for(const h in n){if(!(h in l.shape))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(d[h]=l.shape[h])}return Ul(this,"shape",d),d},checks:[]});return gl(e,c)}function dE(e,n){const l=e._zod.def,r=l.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const c=ml(e._zod.def,{get shape(){const d={...e._zod.def.shape};for(const h in n){if(!(h in l.shape))throw new Error(`Unrecognized key: "${h}"`);n[h]&&delete d[h]}return Ul(this,"shape",d),d},checks:[]});return gl(e,c)}function fE(e,n){if(!Ii(n))throw new Error("Invalid input to extend: expected a plain object");const l=e._zod.def.checks;if(l&&l.length>0){const c=e._zod.def.shape;for(const d in n)if(Object.getOwnPropertyDescriptor(c,d)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=ml(e._zod.def,{get shape(){const c={...e._zod.def.shape,...n};return Ul(this,"shape",c),c}});return gl(e,s)}function hE(e,n){if(!Ii(n))throw new Error("Invalid input to safeExtend: expected a plain object");const l=ml(e._zod.def,{get shape(){const r={...e._zod.def.shape,...n};return Ul(this,"shape",r),r}});return gl(e,l)}function mE(e,n){const l=ml(e._zod.def,{get shape(){const r={...e._zod.def.shape,...n._zod.def.shape};return Ul(this,"shape",r),r},get catchall(){return n._zod.def.catchall},checks:[]});return gl(e,l)}function gE(e,n,l){const s=n._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const d=ml(n._zod.def,{get shape(){const h=n._zod.def.shape,g={...h};if(l)for(const m in l){if(!(m in h))throw new Error(`Unrecognized key: "${m}"`);l[m]&&(g[m]=e?new e({type:"optional",innerType:h[m]}):h[m])}else for(const m in h)g[m]=e?new e({type:"optional",innerType:h[m]}):h[m];return Ul(this,"shape",g),g},checks:[]});return gl(n,d)}function pE(e,n,l){const r=ml(n._zod.def,{get shape(){const s=n._zod.def.shape,c={...s};if(l)for(const d in l){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);l[d]&&(c[d]=new e({type:"nonoptional",innerType:s[d]}))}else for(const d in s)c[d]=new e({type:"nonoptional",innerType:s[d]});return Ul(this,"shape",c),c}});return gl(n,r)}function ji(e,n=0){if(e.aborted===!0)return!0;for(let l=n;l<e.issues.length;l++)if(e.issues[l]?.continue!==!0)return!0;return!1}function zi(e,n){return n.map(l=>{var r;return(r=l).path??(r.path=[]),l.path.unshift(e),l})}function bo(e){return typeof e=="string"?e:e?.message}function fl(e,n,l){const r={...e,path:e.path??[]};if(!e.message){const s=bo(e.inst?._zod.def?.error?.(e))??bo(n?.error?.(e))??bo(l.customError?.(e))??bo(l.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,n?.reportInput||delete r.input,r}function Jf(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vr(...e){const[n,l,r]=e;return typeof n=="string"?{message:n,code:"custom",input:l,inst:r}:{...n}}const A0=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,wf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},D0=K("$ZodError",A0),j0=K("$ZodError",A0,{Parent:Error});function vE(e,n=l=>l.message){const l={},r=[];for(const s of e.issues)s.path.length>0?(l[s.path[0]]=l[s.path[0]]||[],l[s.path[0]].push(n(s))):r.push(n(s));return{formErrors:r,fieldErrors:l}}function yE(e,n=l=>l.message){const l={_errors:[]},r=s=>{for(const c of s.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(d=>r({issues:d}));else if(c.code==="invalid_key")r({issues:c.issues});else if(c.code==="invalid_element")r({issues:c.issues});else if(c.path.length===0)l._errors.push(n(c));else{let d=l,h=0;for(;h<c.path.length;){const g=c.path[h];h===c.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(n(c))):d[g]=d[g]||{_errors:[]},d=d[g],h++}}};return r(e),l}const eh=e=>(n,l,r,s)=>{const c=r?Object.assign(r,{async:!1}):{async:!1},d=n._zod.run({value:l,issues:[]},c);if(d instanceof Promise)throw new Oi;if(d.issues.length){const h=new(s?.Err??e)(d.issues.map(g=>fl(g,c,dl())));throw M0(h,s?.callee),h}return d.value},th=e=>async(n,l,r,s)=>{const c=r?Object.assign(r,{async:!0}):{async:!0};let d=n._zod.run({value:l,issues:[]},c);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new(s?.Err??e)(d.issues.map(g=>fl(g,c,dl())));throw M0(h,s?.callee),h}return d.value},dc=e=>(n,l,r)=>{const s=r?{...r,async:!1}:{async:!1},c=n._zod.run({value:l,issues:[]},s);if(c instanceof Promise)throw new Oi;return c.issues.length?{success:!1,error:new(e??D0)(c.issues.map(d=>fl(d,s,dl())))}:{success:!0,data:c.value}},bE=dc(j0),fc=e=>async(n,l,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let c=n._zod.run({value:l,issues:[]},s);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(d=>fl(d,s,dl())))}:{success:!0,data:c.value}},xE=fc(j0),SE=e=>(n,l,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eh(e)(n,l,s)},wE=e=>(n,l,r)=>eh(e)(n,l,r),_E=e=>async(n,l,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return th(e)(n,l,s)},EE=e=>async(n,l,r)=>th(e)(n,l,r),TE=e=>(n,l,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dc(e)(n,l,s)},NE=e=>(n,l,r)=>dc(e)(n,l,r),ME=e=>async(n,l,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fc(e)(n,l,s)},CE=e=>async(n,l,r)=>fc(e)(n,l,r),AE=/^[cC][^\s-]{8,}$/,DE=/^[0-9a-z]+$/,jE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,zE=/^[0-9a-vA-V]{20}$/,kE=/^[A-Za-z0-9]{27}$/,RE=/^[a-zA-Z0-9_-]{21}$/,OE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,BE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,LE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,UE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qE(){return new RegExp(UE,"u")}const IE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,HE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ZE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$E=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,z0=/^[A-Za-z0-9_-]*$/,YE=/^\+[1-9]\d{6,14}$/,k0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FE=new RegExp(`^${k0}$`);function R0(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VE(e){return new RegExp(`^${R0(e)}$`)}function GE(e){const n=R0({precision:e.precision}),l=["Z"];e.local&&l.push(""),e.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${n}(?:${l.join("|")})`;return new RegExp(`^${k0}T(?:${r})$`)}const XE=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},KE=/^-?\d+$/,O0=/^-?\d+(?:\.\d+)?$/,QE=/^(?:true|false)$/i,WE=/^[^A-Z]*$/,JE=/^[^a-z]*$/,un=K("$ZodCheck",(e,n)=>{var l;e._zod??(e._zod={}),e._zod.def=n,(l=e._zod).onattach??(l.onattach=[])}),B0={number:"number",bigint:"bigint",object:"date"},L0=K("$ZodCheckLessThan",(e,n)=>{un.init(e,n);const l=B0[typeof n.value];e._zod.onattach.push(r=>{const s=r._zod.bag,c=(n.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<c&&(n.inclusive?s.maximum=n.value:s.exclusiveMaximum=n.value)}),e._zod.check=r=>{(n.inclusive?r.value<=n.value:r.value<n.value)||r.issues.push({origin:l,code:"too_big",maximum:typeof n.value=="object"?n.value.getTime():n.value,input:r.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),U0=K("$ZodCheckGreaterThan",(e,n)=>{un.init(e,n);const l=B0[typeof n.value];e._zod.onattach.push(r=>{const s=r._zod.bag,c=(n.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>c&&(n.inclusive?s.minimum=n.value:s.exclusiveMinimum=n.value)}),e._zod.check=r=>{(n.inclusive?r.value>=n.value:r.value>n.value)||r.issues.push({origin:l,code:"too_small",minimum:typeof n.value=="object"?n.value.getTime():n.value,input:r.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),eT=K("$ZodCheckMultipleOf",(e,n)=>{un.init(e,n),e._zod.onattach.push(l=>{var r;(r=l._zod.bag).multipleOf??(r.multipleOf=n.value)}),e._zod.check=l=>{if(typeof l.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%n.value===BigInt(0):lE(l.value,n.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:n.value,input:l.value,inst:e,continue:!n.abort})}}),tT=K("$ZodCheckNumberFormat",(e,n)=>{un.init(e,n),n.format=n.format||"float64";const l=n.format?.includes("int"),r=l?"int":"number",[s,c]=cE[n.format];e._zod.onattach.push(d=>{const h=d._zod.bag;h.format=n.format,h.minimum=s,h.maximum=c,l&&(h.pattern=KE)}),e._zod.check=d=>{const h=d.value;if(l){if(!Number.isInteger(h)){d.issues.push({expected:r,format:n.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?d.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!n.abort}):d.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!n.abort});return}}h<s&&d.issues.push({origin:"number",input:h,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!n.abort}),h>c&&d.issues.push({origin:"number",input:h,code:"too_big",maximum:c,inclusive:!0,inst:e,continue:!n.abort})}}),nT=K("$ZodCheckMaxLength",(e,n)=>{var l;un.init(e,n),(l=e._zod.def).when??(l.when=r=>{const s=r.value;return!Qf(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<s&&(r._zod.bag.maximum=n.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=n.maximum)return;const d=Jf(s);r.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:s,inst:e,continue:!n.abort})}}),aT=K("$ZodCheckMinLength",(e,n)=>{var l;un.init(e,n),(l=e._zod.def).when??(l.when=r=>{const s=r.value;return!Qf(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>s&&(r._zod.bag.minimum=n.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=n.minimum)return;const d=Jf(s);r.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:s,inst:e,continue:!n.abort})}}),lT=K("$ZodCheckLengthEquals",(e,n)=>{var l;un.init(e,n),(l=e._zod.def).when??(l.when=r=>{const s=r.value;return!Qf(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=n.length,s.maximum=n.length,s.length=n.length}),e._zod.check=r=>{const s=r.value,c=s.length;if(c===n.length)return;const d=Jf(s),h=c>n.length;r.issues.push({origin:d,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!n.abort})}}),hc=K("$ZodCheckStringFormat",(e,n)=>{var l,r;un.init(e,n),e._zod.onattach.push(s=>{const c=s._zod.bag;c.format=n.format,n.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(n.pattern))}),n.pattern?(l=e._zod).check??(l.check=s=>{n.pattern.lastIndex=0,!n.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:n.format,input:s.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(r=e._zod).check??(r.check=()=>{})}),iT=K("$ZodCheckRegex",(e,n)=>{hc.init(e,n),e._zod.check=l=>{n.pattern.lastIndex=0,!n.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),rT=K("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=WE),hc.init(e,n)}),sT=K("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=JE),hc.init(e,n)}),oT=K("$ZodCheckIncludes",(e,n)=>{un.init(e,n);const l=uc(n.includes),r=new RegExp(typeof n.position=="number"?`^.{${n.position}}${l}`:l);n.pattern=r,e._zod.onattach.push(s=>{const c=s._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=s=>{s.value.includes(n.includes,n.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:s.value,inst:e,continue:!n.abort})}}),cT=K("$ZodCheckStartsWith",(e,n)=>{un.init(e,n);const l=new RegExp(`^${uc(n.prefix)}.*`);n.pattern??(n.pattern=l),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(l)}),e._zod.check=r=>{r.value.startsWith(n.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:r.value,inst:e,continue:!n.abort})}}),uT=K("$ZodCheckEndsWith",(e,n)=>{un.init(e,n);const l=new RegExp(`.*${uc(n.suffix)}$`);n.pattern??(n.pattern=l),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(l)}),e._zod.check=r=>{r.value.endsWith(n.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:r.value,inst:e,continue:!n.abort})}}),dT=K("$ZodCheckOverwrite",(e,n)=>{un.init(e,n),e._zod.check=l=>{l.value=n.tx(l.value)}});class fT{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const r=n.split(`
`).filter(d=>d),s=Math.min(...r.map(d=>d.length-d.trimStart().length)),c=r.map(d=>d.slice(s)).map(d=>" ".repeat(this.indent*2)+d);for(const d of c)this.content.push(d)}compile(){const n=Function,l=this?.args,s=[...(this?.content??[""]).map(c=>`  ${c}`)];return new n(...l,s.join(`
`))}}const hT={major:4,minor:3,patch:6},mt=K("$ZodType",(e,n)=>{var l;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=hT;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const c of s._zod.onattach)c(e);if(r.length===0)(l=e._zod).deferred??(l.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(d,h,g)=>{let m=ji(d),b;for(const y of h){if(y._zod.def.when){if(!y._zod.def.when(d))continue}else if(m)continue;const x=d.issues.length,_=y._zod.check(d);if(_ instanceof Promise&&g?.async===!1)throw new Oi;if(b||_ instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await _,d.issues.length!==x&&(m||(m=ji(d,x)))});else{if(d.issues.length===x)continue;m||(m=ji(d,x))}}return b?b.then(()=>d):d},c=(d,h,g)=>{if(ji(d))return d.aborted=!0,d;const m=s(h,r,g);if(m instanceof Promise){if(g.async===!1)throw new Oi;return m.then(b=>e._zod.parse(b,g))}return e._zod.parse(m,g)};e._zod.run=(d,h)=>{if(h.skipChecks)return e._zod.parse(d,h);if(h.direction==="backward"){const m=e._zod.parse({value:d.value,issues:[]},{...h,skipChecks:!0});return m instanceof Promise?m.then(b=>c(b,d,h)):c(m,d,h)}const g=e._zod.parse(d,h);if(g instanceof Promise){if(h.async===!1)throw new Oi;return g.then(m=>s(m,r,h))}return s(g,r,h)}}$e(e,"~standard",()=>({validate:s=>{try{const c=bE(e,s);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return xE(e,s).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}))}),nh=K("$ZodString",(e,n)=>{mt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??XE(e._zod.bag),e._zod.parse=(l,r)=>{if(n.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:e}),l}}),st=K("$ZodStringFormat",(e,n)=>{hc.init(e,n),nh.init(e,n)}),mT=K("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=BE),st.init(e,n)}),gT=K("$ZodUUID",(e,n)=>{if(n.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(r===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=jv(r))}else n.pattern??(n.pattern=jv());st.init(e,n)}),pT=K("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=LE),st.init(e,n)}),vT=K("$ZodURL",(e,n)=>{st.init(e,n),e._zod.check=l=>{try{const r=l.value.trim(),s=new URL(r);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(s.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:l.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:l.value,inst:e,continue:!n.abort})),n.normalize?l.value=s.href:l.value=r;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:e,continue:!n.abort})}}}),yT=K("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=qE()),st.init(e,n)}),bT=K("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=RE),st.init(e,n)}),xT=K("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=AE),st.init(e,n)}),ST=K("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=DE),st.init(e,n)}),wT=K("$ZodULID",(e,n)=>{n.pattern??(n.pattern=jE),st.init(e,n)}),_T=K("$ZodXID",(e,n)=>{n.pattern??(n.pattern=zE),st.init(e,n)}),ET=K("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=kE),st.init(e,n)}),TT=K("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=GE(n)),st.init(e,n)}),NT=K("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=FE),st.init(e,n)}),MT=K("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=VE(n)),st.init(e,n)}),CT=K("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=OE),st.init(e,n)}),AT=K("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=IE),st.init(e,n),e._zod.bag.format="ipv4"}),DT=K("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=PE),st.init(e,n),e._zod.bag.format="ipv6",e._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:e,continue:!n.abort})}}}),jT=K("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=HE),st.init(e,n)}),zT=K("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=ZE),st.init(e,n),e._zod.check=l=>{const r=l.value.split("/");try{if(r.length!==2)throw new Error;const[s,c]=r;if(!c)throw new Error;const d=Number(c);if(`${d}`!==c)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${s}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:e,continue:!n.abort})}}});function q0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const kT=K("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=$E),st.init(e,n),e._zod.bag.contentEncoding="base64",e._zod.check=l=>{q0(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:e,continue:!n.abort})}});function RT(e){if(!z0.test(e))return!1;const n=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),l=n.padEnd(Math.ceil(n.length/4)*4,"=");return q0(l)}const OT=K("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=z0),st.init(e,n),e._zod.bag.contentEncoding="base64url",e._zod.check=l=>{RT(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:e,continue:!n.abort})}}),BT=K("$ZodE164",(e,n)=>{n.pattern??(n.pattern=YE),st.init(e,n)});function LT(e,n=null){try{const l=e.split(".");if(l.length!==3)return!1;const[r]=l;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||n&&(!("alg"in s)||s.alg!==n))}catch{return!1}}const UT=K("$ZodJWT",(e,n)=>{st.init(e,n),e._zod.check=l=>{LT(l.value,n.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:e,continue:!n.abort})}}),I0=K("$ZodNumber",(e,n)=>{mt.init(e,n),e._zod.pattern=e._zod.bag.pattern??O0,e._zod.parse=(l,r)=>{if(n.coerce)try{l.value=Number(l.value)}catch{}const s=l.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return l;const c=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...c?{received:c}:{}}),l}}),qT=K("$ZodNumberFormat",(e,n)=>{tT.init(e,n),I0.init(e,n)}),IT=K("$ZodBoolean",(e,n)=>{mt.init(e,n),e._zod.pattern=QE,e._zod.parse=(l,r)=>{if(n.coerce)try{l.value=!!l.value}catch{}const s=l.value;return typeof s=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),l}}),PT=K("$ZodUnknown",(e,n)=>{mt.init(e,n),e._zod.parse=l=>l}),HT=K("$ZodNever",(e,n)=>{mt.init(e,n),e._zod.parse=(l,r)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:e}),l)});function zv(e,n,l){e.issues.length&&n.issues.push(...zi(l,e.issues)),n.value[l]=e.value}const ZT=K("$ZodArray",(e,n)=>{mt.init(e,n),e._zod.parse=(l,r)=>{const s=l.value;if(!Array.isArray(s))return l.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),l;l.value=Array(s.length);const c=[];for(let d=0;d<s.length;d++){const h=s[d],g=n.element._zod.run({value:h,issues:[]},r);g instanceof Promise?c.push(g.then(m=>zv(m,l,d))):zv(g,l,d)}return c.length?Promise.all(c).then(()=>l):l}});function Xo(e,n,l,r,s){if(e.issues.length){if(s&&!(l in r))return;n.issues.push(...zi(l,e.issues))}e.value===void 0?l in r&&(n.value[l]=void 0):n.value[l]=e.value}function P0(e){const n=Object.keys(e.shape);for(const r of n)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const l=oE(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(l)}}function H0(e,n,l,r,s,c){const d=[],h=s.keySet,g=s.catchall._zod,m=g.def.type,b=g.optout==="optional";for(const y in n){if(h.has(y))continue;if(m==="never"){d.push(y);continue}const x=g.run({value:n[y],issues:[]},r);x instanceof Promise?e.push(x.then(_=>Xo(_,l,y,n,b))):Xo(x,l,y,n,b)}return d.length&&l.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:c}),e.length?Promise.all(e).then(()=>l):l}const $T=K("$ZodObject",(e,n)=>{if(mt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const h=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...h};return Object.defineProperty(n,"shape",{value:g}),g}})}const r=Kf(()=>P0(n));$e(e._zod,"propValues",()=>{const h=n.shape,g={};for(const m in h){const b=h[m]._zod;if(b.values){g[m]??(g[m]=new Set);for(const y of b.values)g[m].add(y)}}return g});const s=Go,c=n.catchall;let d;e._zod.parse=(h,g)=>{d??(d=r.value);const m=h.value;if(!s(m))return h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h;h.value={};const b=[],y=d.shape;for(const x of d.keys){const _=y[x],D=_._zod.optout==="optional",E=_._zod.run({value:m[x],issues:[]},g);E instanceof Promise?b.push(E.then(A=>Xo(A,h,x,m,D))):Xo(E,h,x,m,D)}return c?H0(b,m,h,g,r.value,e):b.length?Promise.all(b).then(()=>h):h}}),YT=K("$ZodObjectJIT",(e,n)=>{$T.init(e,n);const l=e._zod.parse,r=Kf(()=>P0(n)),s=x=>{const _=new fT(["shape","payload","ctx"]),D=r.value,E=B=>{const P=Dv(B);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};_.write("const input = payload.value;");const A=Object.create(null);let N=0;for(const B of D.keys)A[B]=`key_${N++}`;_.write("const newResult = {};");for(const B of D.keys){const P=A[B],L=Dv(B),T=x[B]?._zod?.optout==="optional";_.write(`const ${P} = ${E(B)};`),T?_.write(`
        if (${P}.issues.length) {
          if (${L} in input) {
            payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${L}, ...iss.path] : [${L}]
            })));
          }
        }
        
        if (${P}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${P}.value;
        }
        
      `):_.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        if (${P}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${P}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const q=_.compile();return(B,P)=>q(x,B,P)};let c;const d=Go,h=!T0.jitless,m=h&&rE.value,b=n.catchall;let y;e._zod.parse=(x,_)=>{y??(y=r.value);const D=x.value;return d(D)?h&&m&&_?.async===!1&&_.jitless!==!0?(c||(c=s(n.shape)),x=c(x,_),b?H0([],D,x,_,y,e):x):l(x,_):(x.issues.push({expected:"object",code:"invalid_type",input:D,inst:e}),x)}});function kv(e,n,l,r){for(const c of e)if(c.issues.length===0)return n.value=c.value,n;const s=e.filter(c=>!ji(c));return s.length===1?(n.value=s[0].value,s[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:l,errors:e.map(c=>c.issues.map(d=>fl(d,r,dl())))}),n)}const FT=K("$ZodUnion",(e,n)=>{mt.init(e,n),$e(e._zod,"optin",()=>n.options.some(s=>s._zod.optin==="optional")?"optional":void 0),$e(e._zod,"optout",()=>n.options.some(s=>s._zod.optout==="optional")?"optional":void 0),$e(e._zod,"values",()=>{if(n.options.every(s=>s._zod.values))return new Set(n.options.flatMap(s=>Array.from(s._zod.values)))}),$e(e._zod,"pattern",()=>{if(n.options.every(s=>s._zod.pattern)){const s=n.options.map(c=>c._zod.pattern);return new RegExp(`^(${s.map(c=>Wf(c.source)).join("|")})$`)}});const l=n.options.length===1,r=n.options[0]._zod.run;e._zod.parse=(s,c)=>{if(l)return r(s,c);let d=!1;const h=[];for(const g of n.options){const m=g._zod.run({value:s.value,issues:[]},c);if(m instanceof Promise)h.push(m),d=!0;else{if(m.issues.length===0)return m;h.push(m)}}return d?Promise.all(h).then(g=>kv(g,s,e,c)):kv(h,s,e,c)}}),VT=K("$ZodIntersection",(e,n)=>{mt.init(e,n),e._zod.parse=(l,r)=>{const s=l.value,c=n.left._zod.run({value:s,issues:[]},r),d=n.right._zod.run({value:s,issues:[]},r);return c instanceof Promise||d instanceof Promise?Promise.all([c,d]).then(([g,m])=>Rv(l,g,m)):Rv(l,c,d)}});function _f(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Ii(e)&&Ii(n)){const l=Object.keys(n),r=Object.keys(e).filter(c=>l.indexOf(c)!==-1),s={...e,...n};for(const c of r){const d=_f(e[c],n[c]);if(!d.valid)return{valid:!1,mergeErrorPath:[c,...d.mergeErrorPath]};s[c]=d.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let r=0;r<e.length;r++){const s=e[r],c=n[r],d=_f(s,c);if(!d.valid)return{valid:!1,mergeErrorPath:[r,...d.mergeErrorPath]};l.push(d.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Rv(e,n,l){const r=new Map;let s;for(const h of n.issues)if(h.code==="unrecognized_keys"){s??(s=h);for(const g of h.keys)r.has(g)||r.set(g,{}),r.get(g).l=!0}else e.issues.push(h);for(const h of l.issues)if(h.code==="unrecognized_keys")for(const g of h.keys)r.has(g)||r.set(g,{}),r.get(g).r=!0;else e.issues.push(h);const c=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(c.length&&s&&e.issues.push({...s,keys:c}),ji(e))return e;const d=_f(n.value,l.value);if(!d.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return e.value=d.data,e}const GT=K("$ZodRecord",(e,n)=>{mt.init(e,n),e._zod.parse=(l,r)=>{const s=l.value;if(!Ii(s))return l.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),l;const c=[],d=n.keyType._zod.values;if(d){l.value={};const h=new Set;for(const m of d)if(typeof m=="string"||typeof m=="number"||typeof m=="symbol"){h.add(typeof m=="number"?m.toString():m);const b=n.valueType._zod.run({value:s[m],issues:[]},r);b instanceof Promise?c.push(b.then(y=>{y.issues.length&&l.issues.push(...zi(m,y.issues)),l.value[m]=y.value})):(b.issues.length&&l.issues.push(...zi(m,b.issues)),l.value[m]=b.value)}let g;for(const m in s)h.has(m)||(g=g??[],g.push(m));g&&g.length>0&&l.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:g})}else{l.value={};for(const h of Reflect.ownKeys(s)){if(h==="__proto__")continue;let g=n.keyType._zod.run({value:h,issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof h=="string"&&O0.test(h)&&g.issues.length){const y=n.keyType._zod.run({value:Number(h),issues:[]},r);if(y instanceof Promise)throw new Error("Async schemas not supported in object keys currently");y.issues.length===0&&(g=y)}if(g.issues.length){n.mode==="loose"?l.value[h]=s[h]:l.issues.push({code:"invalid_key",origin:"record",issues:g.issues.map(y=>fl(y,r,dl())),input:h,path:[h],inst:e});continue}const b=n.valueType._zod.run({value:s[h],issues:[]},r);b instanceof Promise?c.push(b.then(y=>{y.issues.length&&l.issues.push(...zi(h,y.issues)),l.value[g.value]=y.value})):(b.issues.length&&l.issues.push(...zi(h,b.issues)),l.value[g.value]=b.value)}}return c.length?Promise.all(c).then(()=>l):l}}),XT=K("$ZodEnum",(e,n)=>{mt.init(e,n);const l=N0(n.entries),r=new Set(l);e._zod.values=r,e._zod.pattern=new RegExp(`^(${l.filter(s=>sE.has(typeof s)).map(s=>typeof s=="string"?uc(s):s.toString()).join("|")})$`),e._zod.parse=(s,c)=>{const d=s.value;return r.has(d)||s.issues.push({code:"invalid_value",values:l,input:d,inst:e}),s}}),KT=K("$ZodTransform",(e,n)=>{mt.init(e,n),e._zod.parse=(l,r)=>{if(r.direction==="backward")throw new E0(e.constructor.name);const s=n.transform(l.value,l);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(d=>(l.value=d,l));if(s instanceof Promise)throw new Oi;return l.value=s,l}});function Ov(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const Z0=K("$ZodOptional",(e,n)=>{mt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",$e(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),$e(e._zod,"pattern",()=>{const l=n.innerType._zod.pattern;return l?new RegExp(`^(${Wf(l.source)})?$`):void 0}),e._zod.parse=(l,r)=>{if(n.innerType._zod.optin==="optional"){const s=n.innerType._zod.run(l,r);return s instanceof Promise?s.then(c=>Ov(c,l.value)):Ov(s,l.value)}return l.value===void 0?l:n.innerType._zod.run(l,r)}}),QT=K("$ZodExactOptional",(e,n)=>{Z0.init(e,n),$e(e._zod,"values",()=>n.innerType._zod.values),$e(e._zod,"pattern",()=>n.innerType._zod.pattern),e._zod.parse=(l,r)=>n.innerType._zod.run(l,r)}),WT=K("$ZodNullable",(e,n)=>{mt.init(e,n),$e(e._zod,"optin",()=>n.innerType._zod.optin),$e(e._zod,"optout",()=>n.innerType._zod.optout),$e(e._zod,"pattern",()=>{const l=n.innerType._zod.pattern;return l?new RegExp(`^(${Wf(l.source)}|null)$`):void 0}),$e(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(l,r)=>l.value===null?l:n.innerType._zod.run(l,r)}),JT=K("$ZodDefault",(e,n)=>{mt.init(e,n),e._zod.optin="optional",$e(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,r)=>{if(r.direction==="backward")return n.innerType._zod.run(l,r);if(l.value===void 0)return l.value=n.defaultValue,l;const s=n.innerType._zod.run(l,r);return s instanceof Promise?s.then(c=>Bv(c,n)):Bv(s,n)}});function Bv(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const e2=K("$ZodPrefault",(e,n)=>{mt.init(e,n),e._zod.optin="optional",$e(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,r)=>(r.direction==="backward"||l.value===void 0&&(l.value=n.defaultValue),n.innerType._zod.run(l,r))}),t2=K("$ZodNonOptional",(e,n)=>{mt.init(e,n),$e(e._zod,"values",()=>{const l=n.innerType._zod.values;return l?new Set([...l].filter(r=>r!==void 0)):void 0}),e._zod.parse=(l,r)=>{const s=n.innerType._zod.run(l,r);return s instanceof Promise?s.then(c=>Lv(c,e)):Lv(s,e)}});function Lv(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const n2=K("$ZodCatch",(e,n)=>{mt.init(e,n),$e(e._zod,"optin",()=>n.innerType._zod.optin),$e(e._zod,"optout",()=>n.innerType._zod.optout),$e(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,r)=>{if(r.direction==="backward")return n.innerType._zod.run(l,r);const s=n.innerType._zod.run(l,r);return s instanceof Promise?s.then(c=>(l.value=c.value,c.issues.length&&(l.value=n.catchValue({...l,error:{issues:c.issues.map(d=>fl(d,r,dl()))},input:l.value}),l.issues=[]),l)):(l.value=s.value,s.issues.length&&(l.value=n.catchValue({...l,error:{issues:s.issues.map(c=>fl(c,r,dl()))},input:l.value}),l.issues=[]),l)}}),a2=K("$ZodPipe",(e,n)=>{mt.init(e,n),$e(e._zod,"values",()=>n.in._zod.values),$e(e._zod,"optin",()=>n.in._zod.optin),$e(e._zod,"optout",()=>n.out._zod.optout),$e(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(l,r)=>{if(r.direction==="backward"){const c=n.out._zod.run(l,r);return c instanceof Promise?c.then(d=>xo(d,n.in,r)):xo(c,n.in,r)}const s=n.in._zod.run(l,r);return s instanceof Promise?s.then(c=>xo(c,n.out,r)):xo(s,n.out,r)}});function xo(e,n,l){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},l)}const l2=K("$ZodReadonly",(e,n)=>{mt.init(e,n),$e(e._zod,"propValues",()=>n.innerType._zod.propValues),$e(e._zod,"values",()=>n.innerType._zod.values),$e(e._zod,"optin",()=>n.innerType?._zod?.optin),$e(e._zod,"optout",()=>n.innerType?._zod?.optout),e._zod.parse=(l,r)=>{if(r.direction==="backward")return n.innerType._zod.run(l,r);const s=n.innerType._zod.run(l,r);return s instanceof Promise?s.then(Uv):Uv(s)}});function Uv(e){return e.value=Object.freeze(e.value),e}const i2=K("$ZodCustom",(e,n)=>{un.init(e,n),mt.init(e,n),e._zod.parse=(l,r)=>l,e._zod.check=l=>{const r=l.value,s=n.fn(r);if(s instanceof Promise)return s.then(c=>qv(c,l,r,e));qv(s,l,r,e)}});function qv(e,n,l,r){if(!e){const s={code:"custom",input:l,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),n.issues.push(Vr(s))}}var Iv;class r2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...l){const r=l[0];return this._map.set(n,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,n),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const l=this._map.get(n);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(n),this}get(n){const l=n._zod.parent;if(l){const r={...this.get(l)??{}};delete r.id;const s={...r,...this._map.get(n)};return Object.keys(s).length?s:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function s2(){return new r2}(Iv=globalThis).__zod_globalRegistry??(Iv.__zod_globalRegistry=s2());const qr=globalThis.__zod_globalRegistry;function o2(e,n){return new e({type:"string",...he(n)})}function c2(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...he(n)})}function Pv(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...he(n)})}function u2(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...he(n)})}function d2(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...he(n)})}function f2(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...he(n)})}function h2(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...he(n)})}function m2(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...he(n)})}function g2(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...he(n)})}function p2(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...he(n)})}function v2(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...he(n)})}function y2(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...he(n)})}function b2(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...he(n)})}function x2(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...he(n)})}function S2(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...he(n)})}function w2(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...he(n)})}function _2(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...he(n)})}function E2(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...he(n)})}function T2(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...he(n)})}function N2(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...he(n)})}function M2(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...he(n)})}function C2(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...he(n)})}function A2(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...he(n)})}function D2(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...he(n)})}function j2(e,n){return new e({type:"string",format:"date",check:"string_format",...he(n)})}function z2(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...he(n)})}function k2(e,n){return new e({type:"string",format:"duration",check:"string_format",...he(n)})}function R2(e,n){return new e({type:"number",checks:[],...he(n)})}function O2(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...he(n)})}function B2(e,n){return new e({type:"boolean",...he(n)})}function L2(e){return new e({type:"unknown"})}function U2(e,n){return new e({type:"never",...he(n)})}function Hv(e,n){return new L0({check:"less_than",...he(n),value:e,inclusive:!1})}function Pd(e,n){return new L0({check:"less_than",...he(n),value:e,inclusive:!0})}function Zv(e,n){return new U0({check:"greater_than",...he(n),value:e,inclusive:!1})}function Hd(e,n){return new U0({check:"greater_than",...he(n),value:e,inclusive:!0})}function $v(e,n){return new eT({check:"multiple_of",...he(n),value:e})}function $0(e,n){return new nT({check:"max_length",...he(n),maximum:e})}function Ko(e,n){return new aT({check:"min_length",...he(n),minimum:e})}function Y0(e,n){return new lT({check:"length_equals",...he(n),length:e})}function q2(e,n){return new iT({check:"string_format",format:"regex",...he(n),pattern:e})}function I2(e){return new rT({check:"string_format",format:"lowercase",...he(e)})}function P2(e){return new sT({check:"string_format",format:"uppercase",...he(e)})}function H2(e,n){return new oT({check:"string_format",format:"includes",...he(n),includes:e})}function Z2(e,n){return new cT({check:"string_format",format:"starts_with",...he(n),prefix:e})}function $2(e,n){return new uT({check:"string_format",format:"ends_with",...he(n),suffix:e})}function $i(e){return new dT({check:"overwrite",tx:e})}function Y2(e){return $i(n=>n.normalize(e))}function F2(){return $i(e=>e.trim())}function V2(){return $i(e=>e.toLowerCase())}function G2(){return $i(e=>e.toUpperCase())}function X2(){return $i(e=>iE(e))}function K2(e,n,l){return new e({type:"array",element:n,...he(l)})}function Q2(e,n,l){return new e({type:"custom",check:"custom",fn:n,...he(l)})}function W2(e){const n=J2(l=>(l.addIssue=r=>{if(typeof r=="string")l.issues.push(Vr(r,l.value,n._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=l.value),s.inst??(s.inst=n),s.continue??(s.continue=!n._zod.def.abort),l.issues.push(Vr(s))}},e(l.value,l)));return n}function J2(e,n){const l=new un({check:"custom",...he(n)});return l._zod.check=e,l}function F0(e){let n=e?.target??"draft-2020-12";return n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??qr,target:n,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function At(e,n,l={path:[],schemaPath:[]}){var r;const s=e._zod.def,c=n.seen.get(e);if(c)return c.count++,l.schemaPath.includes(e)&&(c.cycle=l.path),c.schema;const d={schema:{},count:1,cycle:void 0,path:l.path};n.seen.set(e,d);const h=e._zod.toJSONSchema?.();if(h)d.schema=h;else{const b={...l,schemaPath:[...l.schemaPath,e],path:l.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(n,d.schema,b);else{const x=d.schema,_=n.processors[s.type];if(!_)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);_(e,n,x,b)}const y=e._zod.parent;y&&(d.ref||(d.ref=y),At(y,n,b),n.seen.get(y).isParent=!0)}const g=n.metadataRegistry.get(e);return g&&Object.assign(d.schema,g),n.io==="input"&&en(e)&&(delete d.schema.examples,delete d.schema.default),n.io==="input"&&d.schema._prefault&&((r=d.schema).default??(r.default=d.schema._prefault)),delete d.schema._prefault,n.seen.get(e).schema}function V0(e,n){const l=e.seen.get(n);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const d of e.seen.entries()){const h=e.metadataRegistry.get(d[0])?.id;if(h){const g=r.get(h);if(g&&g!==d[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,d[0])}}const s=d=>{const h=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const y=e.external.registry.get(d[0])?.id,x=e.external.uri??(D=>D);if(y)return{ref:x(y)};const _=d[1].defId??d[1].schema.id??`schema${e.counter++}`;return d[1].defId=_,{defId:_,ref:`${x("__shared")}#/${h}/${_}`}}if(d[1]===l)return{ref:"#"};const m=`#/${h}/`,b=d[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:m+b}},c=d=>{if(d[1].schema.$ref)return;const h=d[1],{ref:g,defId:m}=s(d);h.def={...h.schema},m&&(h.defId=m);const b=h.schema;for(const y in b)delete b[y];b.$ref=g};if(e.cycles==="throw")for(const d of e.seen.entries()){const h=d[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of e.seen.entries()){const h=d[1];if(n===d[0]){c(d);continue}if(e.external){const m=e.external.registry.get(d[0])?.id;if(n!==d[0]&&m){c(d);continue}}if(e.metadataRegistry.get(d[0])?.id){c(d);continue}if(h.cycle){c(d);continue}if(h.count>1&&e.reused==="ref"){c(d);continue}}}function G0(e,n){const l=e.seen.get(n);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=d=>{const h=e.seen.get(d);if(h.ref===null)return;const g=h.def??h.schema,m={...g},b=h.ref;if(h.ref=null,b){r(b);const x=e.seen.get(b),_=x.schema;if(_.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(_)):Object.assign(g,_),Object.assign(g,m),d._zod.parent===b)for(const E in g)E==="$ref"||E==="allOf"||E in m||delete g[E];if(_.$ref&&x.def)for(const E in g)E==="$ref"||E==="allOf"||E in x.def&&JSON.stringify(g[E])===JSON.stringify(x.def[E])&&delete g[E]}const y=d._zod.parent;if(y&&y!==b){r(y);const x=e.seen.get(y);if(x?.schema.$ref&&(g.$ref=x.schema.$ref,x.def))for(const _ in g)_==="$ref"||_==="allOf"||_ in x.def&&JSON.stringify(g[_])===JSON.stringify(x.def[_])&&delete g[_]}e.override({zodSchema:d,jsonSchema:g,path:h.path??[]})};for(const d of[...e.seen.entries()].reverse())r(d[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const d=e.external.registry.get(n)?.id;if(!d)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(d)}Object.assign(s,l.def??l.schema);const c=e.external?.defs??{};for(const d of e.seen.entries()){const h=d[1];h.def&&h.defId&&(c[h.defId]=h.def)}e.external||Object.keys(c).length>0&&(e.target==="draft-2020-12"?s.$defs=c:s.definitions=c);try{const d=JSON.parse(JSON.stringify(s));return Object.defineProperty(d,"~standard",{value:{...n["~standard"],jsonSchema:{input:Qo(n,"input",e.processors),output:Qo(n,"output",e.processors)}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function en(e,n){const l=n??{seen:new Set};if(l.seen.has(e))return!1;l.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return en(r.element,l);if(r.type==="set")return en(r.valueType,l);if(r.type==="lazy")return en(r.getter(),l);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return en(r.innerType,l);if(r.type==="intersection")return en(r.left,l)||en(r.right,l);if(r.type==="record"||r.type==="map")return en(r.keyType,l)||en(r.valueType,l);if(r.type==="pipe")return en(r.in,l)||en(r.out,l);if(r.type==="object"){for(const s in r.shape)if(en(r.shape[s],l))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(en(s,l))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(en(s,l))return!0;return!!(r.rest&&en(r.rest,l))}return!1}const eN=(e,n={})=>l=>{const r=F0({...l,processors:n});return At(e,r),V0(r,e),G0(r,e)},Qo=(e,n,l={})=>r=>{const{libraryOptions:s,target:c}=r??{},d=F0({...s??{},target:c,io:n,processors:l});return At(e,d),V0(d,e),G0(d,e)},tN={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},nN=(e,n,l,r)=>{const s=l;s.type="string";const{minimum:c,maximum:d,format:h,patterns:g,contentEncoding:m}=e._zod.bag;if(typeof c=="number"&&(s.minLength=c),typeof d=="number"&&(s.maxLength=d),h&&(s.format=tN[h]??h,s.format===""&&delete s.format,h==="time"&&delete s.format),m&&(s.contentEncoding=m),g&&g.size>0){const b=[...g];b.length===1?s.pattern=b[0].source:b.length>1&&(s.allOf=[...b.map(y=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}},aN=(e,n,l,r)=>{const s=l,{minimum:c,maximum:d,format:h,multipleOf:g,exclusiveMaximum:m,exclusiveMinimum:b}=e._zod.bag;typeof h=="string"&&h.includes("int")?s.type="integer":s.type="number",typeof b=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(s.minimum=b,s.exclusiveMinimum=!0):s.exclusiveMinimum=b),typeof c=="number"&&(s.minimum=c,typeof b=="number"&&n.target!=="draft-04"&&(b>=c?delete s.minimum:delete s.exclusiveMinimum)),typeof m=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(s.maximum=m,s.exclusiveMaximum=!0):s.exclusiveMaximum=m),typeof d=="number"&&(s.maximum=d,typeof m=="number"&&n.target!=="draft-04"&&(m<=d?delete s.maximum:delete s.exclusiveMaximum)),typeof g=="number"&&(s.multipleOf=g)},lN=(e,n,l,r)=>{l.type="boolean"},iN=(e,n,l,r)=>{l.not={}},rN=(e,n,l,r)=>{},sN=(e,n,l,r)=>{const s=e._zod.def,c=N0(s.entries);c.every(d=>typeof d=="number")&&(l.type="number"),c.every(d=>typeof d=="string")&&(l.type="string"),l.enum=c},oN=(e,n,l,r)=>{if(n.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},cN=(e,n,l,r)=>{if(n.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},uN=(e,n,l,r)=>{const s=l,c=e._zod.def,{minimum:d,maximum:h}=e._zod.bag;typeof d=="number"&&(s.minItems=d),typeof h=="number"&&(s.maxItems=h),s.type="array",s.items=At(c.element,n,{...r,path:[...r.path,"items"]})},dN=(e,n,l,r)=>{const s=l,c=e._zod.def;s.type="object",s.properties={};const d=c.shape;for(const m in d)s.properties[m]=At(d[m],n,{...r,path:[...r.path,"properties",m]});const h=new Set(Object.keys(d)),g=new Set([...h].filter(m=>{const b=c.shape[m]._zod;return n.io==="input"?b.optin===void 0:b.optout===void 0}));g.size>0&&(s.required=Array.from(g)),c.catchall?._zod.def.type==="never"?s.additionalProperties=!1:c.catchall?c.catchall&&(s.additionalProperties=At(c.catchall,n,{...r,path:[...r.path,"additionalProperties"]})):n.io==="output"&&(s.additionalProperties=!1)},fN=(e,n,l,r)=>{const s=e._zod.def,c=s.inclusive===!1,d=s.options.map((h,g)=>At(h,n,{...r,path:[...r.path,c?"oneOf":"anyOf",g]}));c?l.oneOf=d:l.anyOf=d},hN=(e,n,l,r)=>{const s=e._zod.def,c=At(s.left,n,{...r,path:[...r.path,"allOf",0]}),d=At(s.right,n,{...r,path:[...r.path,"allOf",1]}),h=m=>"allOf"in m&&Object.keys(m).length===1,g=[...h(c)?c.allOf:[c],...h(d)?d.allOf:[d]];l.allOf=g},mN=(e,n,l,r)=>{const s=l,c=e._zod.def;s.type="object";const d=c.keyType,g=d._zod.bag?.patterns;if(c.mode==="loose"&&g&&g.size>0){const b=At(c.valueType,n,{...r,path:[...r.path,"patternProperties","*"]});s.patternProperties={};for(const y of g)s.patternProperties[y.source]=b}else(n.target==="draft-07"||n.target==="draft-2020-12")&&(s.propertyNames=At(c.keyType,n,{...r,path:[...r.path,"propertyNames"]})),s.additionalProperties=At(c.valueType,n,{...r,path:[...r.path,"additionalProperties"]});const m=d._zod.values;if(m){const b=[...m].filter(y=>typeof y=="string"||typeof y=="number");b.length>0&&(s.required=b)}},gN=(e,n,l,r)=>{const s=e._zod.def,c=At(s.innerType,n,r),d=n.seen.get(e);n.target==="openapi-3.0"?(d.ref=s.innerType,l.nullable=!0):l.anyOf=[c,{type:"null"}]},pN=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType},vN=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType,l.default=JSON.parse(JSON.stringify(s.defaultValue))},yN=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType,n.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},bN=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType;let d;try{d=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=d},xN=(e,n,l,r)=>{const s=e._zod.def,c=n.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;At(c,n,r);const d=n.seen.get(e);d.ref=c},SN=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType,l.readOnly=!0},X0=(e,n,l,r)=>{const s=e._zod.def;At(s.innerType,n,r);const c=n.seen.get(e);c.ref=s.innerType},wN=K("ZodISODateTime",(e,n)=>{TT.init(e,n),ut.init(e,n)});function _N(e){return D2(wN,e)}const EN=K("ZodISODate",(e,n)=>{NT.init(e,n),ut.init(e,n)});function TN(e){return j2(EN,e)}const NN=K("ZodISOTime",(e,n)=>{MT.init(e,n),ut.init(e,n)});function MN(e){return z2(NN,e)}const CN=K("ZodISODuration",(e,n)=>{CT.init(e,n),ut.init(e,n)});function AN(e){return k2(CN,e)}const DN=(e,n)=>{D0.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:l=>yE(e,l)},flatten:{value:l=>vE(e,l)},addIssue:{value:l=>{e.issues.push(l),e.message=JSON.stringify(e.issues,wf,2)}},addIssues:{value:l=>{e.issues.push(...l),e.message=JSON.stringify(e.issues,wf,2)}},isEmpty:{get(){return e.issues.length===0}}})},Un=K("ZodError",DN,{Parent:Error}),jN=eh(Un),zN=th(Un),kN=dc(Un),RN=fc(Un),ON=SE(Un),BN=wE(Un),LN=_E(Un),UN=EE(Un),qN=TE(Un),IN=NE(Un),PN=ME(Un),HN=CE(Un),gt=K("ZodType",(e,n)=>(mt.init(e,n),Object.assign(e["~standard"],{jsonSchema:{input:Qo(e,"input"),output:Qo(e,"output")}}),e.toJSONSchema=eN(e,{}),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...l)=>e.clone(ml(n,{checks:[...n.checks??[],...l.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(l,r)=>gl(e,l,r),e.brand=()=>e,e.register=((l,r)=>(l.add(e,r),e)),e.parse=(l,r)=>jN(e,l,r,{callee:e.parse}),e.safeParse=(l,r)=>kN(e,l,r),e.parseAsync=async(l,r)=>zN(e,l,r,{callee:e.parseAsync}),e.safeParseAsync=async(l,r)=>RN(e,l,r),e.spa=e.safeParseAsync,e.encode=(l,r)=>ON(e,l,r),e.decode=(l,r)=>BN(e,l,r),e.encodeAsync=async(l,r)=>LN(e,l,r),e.decodeAsync=async(l,r)=>UN(e,l,r),e.safeEncode=(l,r)=>qN(e,l,r),e.safeDecode=(l,r)=>IN(e,l,r),e.safeEncodeAsync=async(l,r)=>PN(e,l,r),e.safeDecodeAsync=async(l,r)=>HN(e,l,r),e.refine=(l,r)=>e.check(OM(l,r)),e.superRefine=l=>e.check(BM(l)),e.overwrite=l=>e.check($i(l)),e.optional=()=>Gv(e),e.exactOptional=()=>wM(e),e.nullable=()=>Xv(e),e.nullish=()=>Gv(Xv(e)),e.nonoptional=l=>CM(e,l),e.array=()=>Ln(e),e.or=l=>gM([e,l]),e.and=l=>vM(e,l),e.transform=l=>Kv(e,xM(l)),e.default=l=>TM(e,l),e.prefault=l=>MM(e,l),e.catch=l=>DM(e,l),e.pipe=l=>Kv(e,l),e.readonly=()=>kM(e),e.describe=l=>{const r=e.clone();return qr.add(r,{description:l}),r},Object.defineProperty(e,"description",{get(){return qr.get(e)?.description},configurable:!0}),e.meta=(...l)=>{if(l.length===0)return qr.get(e);const r=e.clone();return qr.add(r,l[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=l=>l(e),e)),K0=K("_ZodString",(e,n)=>{nh.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(r,s,c)=>nN(e,r,s);const l=e._zod.bag;e.format=l.format??null,e.minLength=l.minimum??null,e.maxLength=l.maximum??null,e.regex=(...r)=>e.check(q2(...r)),e.includes=(...r)=>e.check(H2(...r)),e.startsWith=(...r)=>e.check(Z2(...r)),e.endsWith=(...r)=>e.check($2(...r)),e.min=(...r)=>e.check(Ko(...r)),e.max=(...r)=>e.check($0(...r)),e.length=(...r)=>e.check(Y0(...r)),e.nonempty=(...r)=>e.check(Ko(1,...r)),e.lowercase=r=>e.check(I2(r)),e.uppercase=r=>e.check(P2(r)),e.trim=()=>e.check(F2()),e.normalize=(...r)=>e.check(Y2(...r)),e.toLowerCase=()=>e.check(V2()),e.toUpperCase=()=>e.check(G2()),e.slugify=()=>e.check(X2())}),ZN=K("ZodString",(e,n)=>{nh.init(e,n),K0.init(e,n),e.email=l=>e.check(c2($N,l)),e.url=l=>e.check(m2(YN,l)),e.jwt=l=>e.check(A2(rM,l)),e.emoji=l=>e.check(g2(FN,l)),e.guid=l=>e.check(Pv(Yv,l)),e.uuid=l=>e.check(u2(So,l)),e.uuidv4=l=>e.check(d2(So,l)),e.uuidv6=l=>e.check(f2(So,l)),e.uuidv7=l=>e.check(h2(So,l)),e.nanoid=l=>e.check(p2(VN,l)),e.guid=l=>e.check(Pv(Yv,l)),e.cuid=l=>e.check(v2(GN,l)),e.cuid2=l=>e.check(y2(XN,l)),e.ulid=l=>e.check(b2(KN,l)),e.base64=l=>e.check(N2(aM,l)),e.base64url=l=>e.check(M2(lM,l)),e.xid=l=>e.check(x2(QN,l)),e.ksuid=l=>e.check(S2(WN,l)),e.ipv4=l=>e.check(w2(JN,l)),e.ipv6=l=>e.check(_2(eM,l)),e.cidrv4=l=>e.check(E2(tM,l)),e.cidrv6=l=>e.check(T2(nM,l)),e.e164=l=>e.check(C2(iM,l)),e.datetime=l=>e.check(_N(l)),e.date=l=>e.check(TN(l)),e.time=l=>e.check(MN(l)),e.duration=l=>e.check(AN(l))});function Bn(e){return o2(ZN,e)}const ut=K("ZodStringFormat",(e,n)=>{st.init(e,n),K0.init(e,n)}),$N=K("ZodEmail",(e,n)=>{pT.init(e,n),ut.init(e,n)}),Yv=K("ZodGUID",(e,n)=>{mT.init(e,n),ut.init(e,n)}),So=K("ZodUUID",(e,n)=>{gT.init(e,n),ut.init(e,n)}),YN=K("ZodURL",(e,n)=>{vT.init(e,n),ut.init(e,n)}),FN=K("ZodEmoji",(e,n)=>{yT.init(e,n),ut.init(e,n)}),VN=K("ZodNanoID",(e,n)=>{bT.init(e,n),ut.init(e,n)}),GN=K("ZodCUID",(e,n)=>{xT.init(e,n),ut.init(e,n)}),XN=K("ZodCUID2",(e,n)=>{ST.init(e,n),ut.init(e,n)}),KN=K("ZodULID",(e,n)=>{wT.init(e,n),ut.init(e,n)}),QN=K("ZodXID",(e,n)=>{_T.init(e,n),ut.init(e,n)}),WN=K("ZodKSUID",(e,n)=>{ET.init(e,n),ut.init(e,n)}),JN=K("ZodIPv4",(e,n)=>{AT.init(e,n),ut.init(e,n)}),eM=K("ZodIPv6",(e,n)=>{DT.init(e,n),ut.init(e,n)}),tM=K("ZodCIDRv4",(e,n)=>{jT.init(e,n),ut.init(e,n)}),nM=K("ZodCIDRv6",(e,n)=>{zT.init(e,n),ut.init(e,n)}),aM=K("ZodBase64",(e,n)=>{kT.init(e,n),ut.init(e,n)}),lM=K("ZodBase64URL",(e,n)=>{OT.init(e,n),ut.init(e,n)}),iM=K("ZodE164",(e,n)=>{BT.init(e,n),ut.init(e,n)}),rM=K("ZodJWT",(e,n)=>{UT.init(e,n),ut.init(e,n)}),Q0=K("ZodNumber",(e,n)=>{I0.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(r,s,c)=>aN(e,r,s),e.gt=(r,s)=>e.check(Zv(r,s)),e.gte=(r,s)=>e.check(Hd(r,s)),e.min=(r,s)=>e.check(Hd(r,s)),e.lt=(r,s)=>e.check(Hv(r,s)),e.lte=(r,s)=>e.check(Pd(r,s)),e.max=(r,s)=>e.check(Pd(r,s)),e.int=r=>e.check(Fv(r)),e.safe=r=>e.check(Fv(r)),e.positive=r=>e.check(Zv(0,r)),e.nonnegative=r=>e.check(Hd(0,r)),e.negative=r=>e.check(Hv(0,r)),e.nonpositive=r=>e.check(Pd(0,r)),e.multipleOf=(r,s)=>e.check($v(r,s)),e.step=(r,s)=>e.check($v(r,s)),e.finite=()=>e;const l=e._zod.bag;e.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),e.isFinite=!0,e.format=l.format??null});function Vn(e){return R2(Q0,e)}const sM=K("ZodNumberFormat",(e,n)=>{qT.init(e,n),Q0.init(e,n)});function Fv(e){return O2(sM,e)}const oM=K("ZodBoolean",(e,n)=>{IT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>lN(e,l,r)});function Oo(e){return B2(oM,e)}const cM=K("ZodUnknown",(e,n)=>{PT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>rN()});function Vv(){return L2(cM)}const uM=K("ZodNever",(e,n)=>{HT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>iN(e,l,r)});function dM(e){return U2(uM,e)}const fM=K("ZodArray",(e,n)=>{ZT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>uN(e,l,r,s),e.element=n.element,e.min=(l,r)=>e.check(Ko(l,r)),e.nonempty=l=>e.check(Ko(1,l)),e.max=(l,r)=>e.check($0(l,r)),e.length=(l,r)=>e.check(Y0(l,r)),e.unwrap=()=>e.element});function Ln(e,n){return K2(fM,e,n)}const hM=K("ZodObject",(e,n)=>{YT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>dN(e,l,r,s),$e(e,"shape",()=>n.shape),e.keyof=()=>Zr(Object.keys(e._zod.def.shape)),e.catchall=l=>e.clone({...e._zod.def,catchall:l}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Vv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Vv()}),e.strict=()=>e.clone({...e._zod.def,catchall:dM()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=l=>fE(e,l),e.safeExtend=l=>hE(e,l),e.merge=l=>mE(e,l),e.pick=l=>uE(e,l),e.omit=l=>dE(e,l),e.partial=(...l)=>gE(W0,e,l[0]),e.required=(...l)=>pE(J0,e,l[0])});function Gr(e,n){const l={type:"object",shape:e??{},...he(n)};return new hM(l)}const mM=K("ZodUnion",(e,n)=>{FT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>fN(e,l,r,s),e.options=n.options});function gM(e,n){return new mM({type:"union",options:e,...he(n)})}const pM=K("ZodIntersection",(e,n)=>{VT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>hN(e,l,r,s)});function vM(e,n){return new pM({type:"intersection",left:e,right:n})}const yM=K("ZodRecord",(e,n)=>{GT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>mN(e,l,r,s),e.keyType=n.keyType,e.valueType=n.valueType});function Bo(e,n,l){return new yM({type:"record",keyType:e,valueType:n,...he(l)})}const Ef=K("ZodEnum",(e,n)=>{XT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(r,s,c)=>sN(e,r,s),e.enum=n.entries,e.options=Object.values(n.entries);const l=new Set(Object.keys(n.entries));e.extract=(r,s)=>{const c={};for(const d of r)if(l.has(d))c[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Ef({...n,checks:[],...he(s),entries:c})},e.exclude=(r,s)=>{const c={...n.entries};for(const d of r)if(l.has(d))delete c[d];else throw new Error(`Key ${d} not found in enum`);return new Ef({...n,checks:[],...he(s),entries:c})}});function Zr(e,n){const l=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ef({type:"enum",entries:l,...he(n)})}const bM=K("ZodTransform",(e,n)=>{KT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>cN(e,l),e._zod.parse=(l,r)=>{if(r.direction==="backward")throw new E0(e.constructor.name);l.addIssue=c=>{if(typeof c=="string")l.issues.push(Vr(c,l.value,n));else{const d=c;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=l.value),d.inst??(d.inst=e),l.issues.push(Vr(d))}};const s=n.transform(l.value,l);return s instanceof Promise?s.then(c=>(l.value=c,l)):(l.value=s,l)}});function xM(e){return new bM({type:"transform",transform:e})}const W0=K("ZodOptional",(e,n)=>{Z0.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>X0(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function Gv(e){return new W0({type:"optional",innerType:e})}const SM=K("ZodExactOptional",(e,n)=>{QT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>X0(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function wM(e){return new SM({type:"optional",innerType:e})}const _M=K("ZodNullable",(e,n)=>{WT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>gN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function Xv(e){return new _M({type:"nullable",innerType:e})}const EM=K("ZodDefault",(e,n)=>{JT.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>vN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function TM(e,n){return new EM({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():C0(n)}})}const NM=K("ZodPrefault",(e,n)=>{e2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>yN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function MM(e,n){return new NM({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():C0(n)}})}const J0=K("ZodNonOptional",(e,n)=>{t2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>pN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function CM(e,n){return new J0({type:"nonoptional",innerType:e,...he(n)})}const AM=K("ZodCatch",(e,n)=>{n2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>bN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function DM(e,n){return new AM({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const jM=K("ZodPipe",(e,n)=>{a2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>xN(e,l,r,s),e.in=n.in,e.out=n.out});function Kv(e,n){return new jM({type:"pipe",in:e,out:n})}const zM=K("ZodReadonly",(e,n)=>{l2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>SN(e,l,r,s),e.unwrap=()=>e._zod.def.innerType});function kM(e){return new zM({type:"readonly",innerType:e})}const RM=K("ZodCustom",(e,n)=>{i2.init(e,n),gt.init(e,n),e._zod.processJSONSchema=(l,r,s)=>oN(e,l)});function OM(e,n={}){return Q2(RM,e,n)}function BM(e){return W2(e)}const LM=["relevance","level","baseDps","ehpProxy","offenseScore","skillPointTotal"],UM=["list","grid"],Gn={text:"",categories:[],types:[],tiers:[],classReqs:[],majorIds:[],numericRanges:{},onlyWearableAtLevel:106,onlyClassCompatible:!1,excludeRestricted:!0,sort:"relevance",sortDescending:!0,viewMode:"list"},qM=Gr({min:Vn().finite().optional(),max:Vn().finite().optional()}),IM=Gr({text:Bn().catch(Gn.text),categories:Ln(Bn()).catch([]),types:Ln(Bn()).catch([]),tiers:Ln(Bn()).catch([]),classReqs:Ln(Zr(["Warrior","Assassin","Mage","Archer","Shaman"])).catch([]),majorIds:Ln(Bn()).catch([]),numericRanges:Bo(Bn(),qM).catch({}),onlyWearableAtLevel:Vn().int().min(1).max(106).nullable().catch(106),onlyClassCompatible:Oo().catch(!1),excludeRestricted:Oo().catch(!0),sort:Zr(LM).catch("relevance"),sortDescending:Oo().catch(!0),viewMode:Zr(UM).catch("list")});function eb(e){const n=IM.parse(e);return{text:n.text,categories:n.categories,types:n.types,tiers:n.tiers,classReqs:n.classReqs,majorIds:n.majorIds,numericRanges:n.numericRanges,onlyWearableAtLevel:n.onlyWearableAtLevel,onlyClassCompatible:n.onlyClassCompatible,excludeRestricted:n.excludeRestricted,sort:n.sort,sortDescending:n.sortDescending,viewMode:n.viewMode}}function PM(e,n){return eb({...e,...n,numericRanges:{...e.numericRanges,...n.numericRanges??{}}})}const HM="ENTRIES",tb="KEYS",nb="VALUES",Vt="";class Zd{constructor(n,l){const r=n._tree,s=Array.from(r.keys());this.set=n,this._type=l,this._path=s.length>0?[{node:r,keys:s}]:[]}next(){const n=this.dive();return this.backtrack(),n}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:n,keys:l}=Ti(this._path);if(Ti(l)===Vt)return{done:!1,value:this.result()};const r=n.get(Ti(l));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const n=Ti(this._path).keys;n.pop(),!(n.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:n})=>Ti(n)).filter(n=>n!==Vt).join("")}value(){return Ti(this._path).node.get(Vt)}result(){switch(this._type){case nb:return this.value();case tb:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const Ti=e=>e[e.length-1],ZM=(e,n,l)=>{const r=new Map;if(n===void 0)return r;const s=n.length+1,c=s+l,d=new Uint8Array(c*s).fill(l+1);for(let h=0;h<s;++h)d[h]=h;for(let h=1;h<c;++h)d[h*s]=h;return ab(e,n,l,r,d,1,s,""),r},ab=(e,n,l,r,s,c,d,h)=>{const g=c*d;e:for(const m of e.keys())if(m===Vt){const b=s[g-1];b<=l&&r.set(h,[e.get(m),b])}else{let b=c;for(let y=0;y<m.length;++y,++b){const x=m[y],_=d*b,D=_-d;let E=s[_];const A=Math.max(0,b-l-1),N=Math.min(d-1,b+l);for(let q=A;q<N;++q){const B=x!==n[q],P=s[D+q]+ +B,L=s[D+q+1]+1,j=s[_+q]+1,T=s[_+q+1]=Math.min(P,L,j);T<E&&(E=T)}if(E>l)continue e}ab(e.get(m),n,l,r,s,b,d,h+m)}};class rl{constructor(n=new Map,l=""){this._size=void 0,this._tree=n,this._prefix=l}atPrefix(n){if(!n.startsWith(this._prefix))throw new Error("Mismatched prefix");const[l,r]=Wo(this._tree,n.slice(this._prefix.length));if(l===void 0){const[s,c]=ah(r);for(const d of s.keys())if(d!==Vt&&d.startsWith(c)){const h=new Map;return h.set(d.slice(c.length),s.get(d)),new rl(h,n)}}return new rl(l,n)}clear(){this._size=void 0,this._tree.clear()}delete(n){return this._size=void 0,$M(this._tree,n)}entries(){return new Zd(this,HM)}forEach(n){for(const[l,r]of this)n(l,r,this)}fuzzyGet(n,l){return ZM(this._tree,n,l)}get(n){const l=Tf(this._tree,n);return l!==void 0?l.get(Vt):void 0}has(n){const l=Tf(this._tree,n);return l!==void 0&&l.has(Vt)}keys(){return new Zd(this,tb)}set(n,l){if(typeof n!="string")throw new Error("key must be a string");return this._size=void 0,$d(this._tree,n).set(Vt,l),this}get size(){if(this._size)return this._size;this._size=0;const n=this.entries();for(;!n.next().done;)this._size+=1;return this._size}update(n,l){if(typeof n!="string")throw new Error("key must be a string");this._size=void 0;const r=$d(this._tree,n);return r.set(Vt,l(r.get(Vt))),this}fetch(n,l){if(typeof n!="string")throw new Error("key must be a string");this._size=void 0;const r=$d(this._tree,n);let s=r.get(Vt);return s===void 0&&r.set(Vt,s=l()),s}values(){return new Zd(this,nb)}[Symbol.iterator](){return this.entries()}static from(n){const l=new rl;for(const[r,s]of n)l.set(r,s);return l}static fromObject(n){return rl.from(Object.entries(n))}}const Wo=(e,n,l=[])=>{if(n.length===0||e==null)return[e,l];for(const r of e.keys())if(r!==Vt&&n.startsWith(r))return l.push([e,r]),Wo(e.get(r),n.slice(r.length),l);return l.push([e,n]),Wo(void 0,"",l)},Tf=(e,n)=>{if(n.length===0||e==null)return e;for(const l of e.keys())if(l!==Vt&&n.startsWith(l))return Tf(e.get(l),n.slice(l.length))},$d=(e,n)=>{const l=n.length;e:for(let r=0;e&&r<l;){for(const c of e.keys())if(c!==Vt&&n[r]===c[0]){const d=Math.min(l-r,c.length);let h=1;for(;h<d&&n[r+h]===c[h];)++h;const g=e.get(c);if(h===c.length)e=g;else{const m=new Map;m.set(c.slice(h),g),e.set(n.slice(r,r+h),m),e.delete(c),e=m}r+=h;continue e}const s=new Map;return e.set(n.slice(r),s),s}return e},$M=(e,n)=>{const[l,r]=Wo(e,n);if(l!==void 0){if(l.delete(Vt),l.size===0)lb(r);else if(l.size===1){const[s,c]=l.entries().next().value;ib(r,s,c)}}},lb=e=>{if(e.length===0)return;const[n,l]=ah(e);if(n.delete(l),n.size===0)lb(e.slice(0,-1));else if(n.size===1){const[r,s]=n.entries().next().value;r!==Vt&&ib(e.slice(0,-1),r,s)}},ib=(e,n,l)=>{if(e.length===0)return;const[r,s]=ah(e);r.set(s+n,l),r.delete(s)},ah=e=>e[e.length-1],lh="or",rb="and",YM="and_not";class Bi{constructor(n){if(n?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');const l=n.autoVacuum==null||n.autoVacuum===!0?Vd:n.autoVacuum;this._options={...Fd,...n,autoVacuum:l,searchOptions:{...Qv,...n.searchOptions||{}},autoSuggestOptions:{...KM,...n.autoSuggestOptions||{}}},this._index=new rl,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Mf,this.addFields(this._options.fields)}add(n){const{extractField:l,stringifyField:r,tokenize:s,processTerm:c,fields:d,idField:h}=this._options,g=l(n,h);if(g==null)throw new Error(`MiniSearch: document does not have ID field "${h}"`);if(this._idToShortId.has(g))throw new Error(`MiniSearch: duplicate ID ${g}`);const m=this.addDocumentId(g);this.saveStoredFields(m,n);for(const b of d){const y=l(n,b);if(y==null)continue;const x=s(r(y,b),b),_=this._fieldIds[b],D=new Set(x).size;this.addFieldLength(m,_,this._documentCount-1,D);for(const E of x){const A=c(E,b);if(Array.isArray(A))for(const N of A)this.addTerm(_,m,N);else A&&this.addTerm(_,m,A)}}}addAll(n){for(const l of n)this.add(l)}addAllAsync(n,l={}){const{chunkSize:r=10}=l,s={chunk:[],promise:Promise.resolve()},{chunk:c,promise:d}=n.reduce(({chunk:h,promise:g},m,b)=>(h.push(m),(b+1)%r===0?{chunk:[],promise:g.then(()=>new Promise(y=>setTimeout(y,0))).then(()=>this.addAll(h))}:{chunk:h,promise:g}),s);return d.then(()=>this.addAll(c))}remove(n){const{tokenize:l,processTerm:r,extractField:s,stringifyField:c,fields:d,idField:h}=this._options,g=s(n,h);if(g==null)throw new Error(`MiniSearch: document does not have ID field "${h}"`);const m=this._idToShortId.get(g);if(m==null)throw new Error(`MiniSearch: cannot remove document with ID ${g}: it is not in the index`);for(const b of d){const y=s(n,b);if(y==null)continue;const x=l(c(y,b),b),_=this._fieldIds[b],D=new Set(x).size;this.removeFieldLength(m,_,this._documentCount,D);for(const E of x){const A=r(E,b);if(Array.isArray(A))for(const N of A)this.removeTerm(_,m,N);else A&&this.removeTerm(_,m,A)}}this._storedFields.delete(m),this._documentIds.delete(m),this._idToShortId.delete(g),this._fieldLength.delete(m),this._documentCount-=1}removeAll(n){if(n)for(const l of n)this.remove(l);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new rl,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(n){const l=this._idToShortId.get(n);if(l==null)throw new Error(`MiniSearch: cannot discard document with ID ${n}: it is not in the index`);this._idToShortId.delete(n),this._documentIds.delete(l),this._storedFields.delete(l),(this._fieldLength.get(l)||[]).forEach((r,s)=>{this.removeFieldLength(l,s,this._documentCount,r)}),this._fieldLength.delete(l),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:n,minDirtCount:l,batchSize:r,batchWait:s}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:s},{minDirtCount:l,minDirtFactor:n})}discardAll(n){const l=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const r of n)this.discard(r)}finally{this._options.autoVacuum=l}this.maybeAutoVacuum()}replace(n){const{idField:l,extractField:r}=this._options,s=r(n,l);this.discard(s),this.add(n)}vacuum(n={}){return this.conditionalVacuum(n)}conditionalVacuum(n,l){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&l,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Mf,this.performVacuuming(n,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(l)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(n),this._currentVacuum)}async performVacuuming(n,l){const r=this._dirtCount;if(this.vacuumConditionsMet(l)){const s=n.batchSize||Nf.batchSize,c=n.batchWait||Nf.batchWait;let d=1;for(const[h,g]of this._index){for(const[m,b]of g)for(const[y]of b)this._documentIds.has(y)||(b.size<=1?g.delete(m):b.delete(y));this._index.get(h).size===0&&this._index.delete(h),d%s===0&&await new Promise(m=>setTimeout(m,c)),d+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(n){if(n==null)return!0;let{minDirtCount:l,minDirtFactor:r}=n;return l=l||Vd.minDirtCount,r=r||Vd.minDirtFactor,this.dirtCount>=l&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(n){return this._idToShortId.has(n)}getStoredFields(n){const l=this._idToShortId.get(n);if(l!=null)return this._storedFields.get(l)}search(n,l={}){const{searchOptions:r}=this._options,s={...r,...l},c=this.executeQuery(n,l),d=[];for(const[h,{score:g,terms:m,match:b}]of c){const y=m.length||1,x={id:this._documentIds.get(h),score:g*y,terms:Object.keys(b),queryTerms:m,match:b};Object.assign(x,this._storedFields.get(h)),(s.filter==null||s.filter(x))&&d.push(x)}return n===Bi.wildcard&&s.boostDocument==null||d.sort(Jv),d}autoSuggest(n,l={}){l={...this._options.autoSuggestOptions,...l};const r=new Map;for(const{score:c,terms:d}of this.search(n,l)){const h=d.join(" "),g=r.get(h);g!=null?(g.score+=c,g.count+=1):r.set(h,{score:c,terms:d,count:1})}const s=[];for(const[c,{score:d,terms:h,count:g}]of r)s.push({suggestion:c,terms:h,score:d/g});return s.sort(Jv),s}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(n,l){if(l==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(n),l)}static async loadJSONAsync(n,l){if(l==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(n),l)}static getDefault(n){if(Fd.hasOwnProperty(n))return Yd(Fd,n);throw new Error(`MiniSearch: unknown option "${n}"`)}static loadJS(n,l){const{index:r,documentIds:s,fieldLength:c,storedFields:d,serializationVersion:h}=n,g=this.instantiateMiniSearch(n,l);g._documentIds=wo(s),g._fieldLength=wo(c),g._storedFields=wo(d);for(const[m,b]of g._documentIds)g._idToShortId.set(b,m);for(const[m,b]of r){const y=new Map;for(const x of Object.keys(b)){let _=b[x];h===1&&(_=_.ds),y.set(parseInt(x,10),wo(_))}g._index.set(m,y)}return g}static async loadJSAsync(n,l){const{index:r,documentIds:s,fieldLength:c,storedFields:d,serializationVersion:h}=n,g=this.instantiateMiniSearch(n,l);g._documentIds=await _o(s),g._fieldLength=await _o(c),g._storedFields=await _o(d);for(const[b,y]of g._documentIds)g._idToShortId.set(y,b);let m=0;for(const[b,y]of r){const x=new Map;for(const _ of Object.keys(y)){let D=y[_];h===1&&(D=D.ds),x.set(parseInt(_,10),await _o(D))}++m%1e3===0&&await sb(0),g._index.set(b,x)}return g}static instantiateMiniSearch(n,l){const{documentCount:r,nextId:s,fieldIds:c,averageFieldLength:d,dirtCount:h,serializationVersion:g}=n;if(g!==1&&g!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const m=new Bi(l);return m._documentCount=r,m._nextId=s,m._idToShortId=new Map,m._fieldIds=c,m._avgFieldLength=d,m._dirtCount=h||0,m._index=new rl,m}executeQuery(n,l={}){if(n===Bi.wildcard)return this.executeWildcardQuery(l);if(typeof n!="string"){const x={...l,...n,queries:void 0},_=n.queries.map(D=>this.executeQuery(D,x));return this.combineResults(_,x.combineWith)}const{tokenize:r,processTerm:s,searchOptions:c}=this._options,d={tokenize:r,processTerm:s,...c,...l},{tokenize:h,processTerm:g}=d,y=h(n).flatMap(x=>g(x)).filter(x=>!!x).map(XM(d)).map(x=>this.executeQuerySpec(x,d));return this.combineResults(y,d.combineWith)}executeQuerySpec(n,l){const r={...this._options.searchOptions,...l},s=(r.fields||this._options.fields).reduce((E,A)=>({...E,[A]:Yd(r.boost,A)||1}),{}),{boostDocument:c,weights:d,maxFuzzy:h,bm25:g}=r,{fuzzy:m,prefix:b}={...Qv.weights,...d},y=this._index.get(n.term),x=this.termResults(n.term,n.term,1,n.termBoost,y,s,c,g);let _,D;if(n.prefix&&(_=this._index.atPrefix(n.term)),n.fuzzy){const E=n.fuzzy===!0?.2:n.fuzzy,A=E<1?Math.min(h,Math.round(n.term.length*E)):E;A&&(D=this._index.fuzzyGet(n.term,A))}if(_)for(const[E,A]of _){const N=E.length-n.term.length;if(!N)continue;D?.delete(E);const q=b*E.length/(E.length+.3*N);this.termResults(n.term,E,q,n.termBoost,A,s,c,g,x)}if(D)for(const E of D.keys()){const[A,N]=D.get(E);if(!N)continue;const q=m*E.length/(E.length+N);this.termResults(n.term,E,q,n.termBoost,A,s,c,g,x)}return x}executeWildcardQuery(n){const l=new Map,r={...this._options.searchOptions,...n};for(const[s,c]of this._documentIds){const d=r.boostDocument?r.boostDocument(c,"",this._storedFields.get(s)):1;l.set(s,{score:d,terms:[],match:{}})}return l}combineResults(n,l=lh){if(n.length===0)return new Map;const r=l.toLowerCase(),s=FM[r];if(!s)throw new Error(`Invalid combination operator: ${l}`);return n.reduce(s)||new Map}toJSON(){const n=[];for(const[l,r]of this._index){const s={};for(const[c,d]of r)s[c]=Object.fromEntries(d);n.push([l,s])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:n,serializationVersion:2}}termResults(n,l,r,s,c,d,h,g,m=new Map){if(c==null)return m;for(const b of Object.keys(d)){const y=d[b],x=this._fieldIds[b],_=c.get(x);if(_==null)continue;let D=_.size;const E=this._avgFieldLength[x];for(const A of _.keys()){if(!this._documentIds.has(A)){this.removeTerm(x,A,l),D-=1;continue}const N=h?h(this._documentIds.get(A),l,this._storedFields.get(A)):1;if(!N)continue;const q=_.get(A),B=this._fieldLength.get(A)[x],P=GM(q,D,this._documentCount,B,E,g),L=r*s*y*N*P,j=m.get(A);if(j){j.score+=L,QM(j.terms,n);const T=Yd(j.match,l);T?T.push(b):j.match[l]=[b]}else m.set(A,{score:L,terms:[n],match:{[l]:[b]}})}}return m}addTerm(n,l,r){const s=this._index.fetch(r,ey);let c=s.get(n);if(c==null)c=new Map,c.set(l,1),s.set(n,c);else{const d=c.get(l);c.set(l,(d||0)+1)}}removeTerm(n,l,r){if(!this._index.has(r)){this.warnDocumentChanged(l,n,r);return}const s=this._index.fetch(r,ey),c=s.get(n);c==null||c.get(l)==null?this.warnDocumentChanged(l,n,r):c.get(l)<=1?c.size<=1?s.delete(n):c.delete(l):c.set(l,c.get(l)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(n,l,r){for(const s of Object.keys(this._fieldIds))if(this._fieldIds[s]===l){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(n)} has changed before removal: term "${r}" was not present in field "${s}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(n){const l=this._nextId;return this._idToShortId.set(n,l),this._documentIds.set(l,n),this._documentCount+=1,this._nextId+=1,l}addFields(n){for(let l=0;l<n.length;l++)this._fieldIds[n[l]]=l}addFieldLength(n,l,r,s){let c=this._fieldLength.get(n);c==null&&this._fieldLength.set(n,c=[]),c[l]=s;const h=(this._avgFieldLength[l]||0)*r+s;this._avgFieldLength[l]=h/(r+1)}removeFieldLength(n,l,r,s){if(r===1){this._avgFieldLength[l]=0;return}const c=this._avgFieldLength[l]*r-s;this._avgFieldLength[l]=c/(r-1)}saveStoredFields(n,l){const{storeFields:r,extractField:s}=this._options;if(r==null||r.length===0)return;let c=this._storedFields.get(n);c==null&&this._storedFields.set(n,c={});for(const d of r){const h=s(l,d);h!==void 0&&(c[d]=h)}}}Bi.wildcard=Symbol("*");const Yd=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)?e[n]:void 0,FM={[lh]:(e,n)=>{for(const l of n.keys()){const r=e.get(l);if(r==null)e.set(l,n.get(l));else{const{score:s,terms:c,match:d}=n.get(l);r.score=r.score+s,r.match=Object.assign(r.match,d),Wv(r.terms,c)}}return e},[rb]:(e,n)=>{const l=new Map;for(const r of n.keys()){const s=e.get(r);if(s==null)continue;const{score:c,terms:d,match:h}=n.get(r);Wv(s.terms,d),l.set(r,{score:s.score+c,terms:s.terms,match:Object.assign(s.match,h)})}return l},[YM]:(e,n)=>{for(const l of n.keys())e.delete(l);return e}},VM={k:1.2,b:.7,d:.5},GM=(e,n,l,r,s,c)=>{const{k:d,b:h,d:g}=c;return Math.log(1+(l-n+.5)/(n+.5))*(g+e*(d+1)/(e+d*(1-h+h*r/s)))},XM=e=>(n,l,r)=>{const s=typeof e.fuzzy=="function"?e.fuzzy(n,l,r):e.fuzzy||!1,c=typeof e.prefix=="function"?e.prefix(n,l,r):e.prefix===!0,d=typeof e.boostTerm=="function"?e.boostTerm(n,l,r):1;return{term:n,fuzzy:s,prefix:c,termBoost:d}},Fd={idField:"id",extractField:(e,n)=>e[n],stringifyField:(e,n)=>e.toString(),tokenize:e=>e.split(WM),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,n)=>{typeof console?.[e]=="function"&&console[e](n)},autoVacuum:!0},Qv={combineWith:lh,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:VM},KM={combineWith:rb,prefix:(e,n,l)=>n===l.length-1},Nf={batchSize:1e3,batchWait:10},Mf={minDirtFactor:.1,minDirtCount:20},Vd={...Nf,...Mf},QM=(e,n)=>{e.includes(n)||e.push(n)},Wv=(e,n)=>{for(const l of n)e.includes(l)||e.push(l)},Jv=({score:e},{score:n})=>n-e,ey=()=>new Map,wo=e=>{const n=new Map;for(const l of Object.keys(e))n.set(parseInt(l,10),e[l]);return n},_o=async e=>{const n=new Map;let l=0;for(const r of Object.keys(e))n.set(parseInt(r,10),e[r]),++l%1e3===0&&await sb(0);return n},sb=e=>new Promise(n=>setTimeout(n,e)),WM=/[\n\r\p{Z}\p{P}]+/u;function JM(e,n){switch(n){case"level":return e.level;case"powderSlots":return e.powderSlots;default:return e.numericIndex[n]??0}}function eC(e,n){return n.length===0||n.includes(e.category)}function ty(e,n){return n.length===0?!0:e?n.includes(e):!1}function tC(e,n){for(const[l,r]of Object.entries(n.numericRanges)){if(!r)continue;const s=JM(e,l);if(typeof r.min=="number"&&s<r.min||typeof r.max=="number"&&s>r.max)return!1}return!0}function nC(e,n){if(n.excludeRestricted&&(e.restricted||e.deprecated)||n.onlyWearableAtLevel!==null&&!V_(e,n.onlyWearableAtLevel))return!1;if(n.onlyClassCompatible){const l=n.classReqs[0]??null;if(!_0(e,l))return!1}return!0}function aC(e,n){return n.length===0?!0:e.majorIds.length===0?!1:n.every(l=>e.majorIds.includes(l))}function lC(e,n){return!(!eC(e,n.categories)||!ty(e.type,n.types)||!ty(e.tier,n.tiers)||n.classReqs.length>0&&(e.classReq===null||!n.classReqs.includes(e.classReq))||!aC(e,n.majorIds)||!tC(e,n)||!nC(e,n))}function ny(e,n){switch(n){case"level":return e.level;case"baseDps":return e.roughScoreFields.baseDps;case"ehpProxy":return e.roughScoreFields.ehpProxy;case"offenseScore":return e.roughScoreFields.offense;case"skillPointTotal":return e.roughScoreFields.skillPointTotal;default:return 0}}function iC(e,n,l){const r=n.trim().toLowerCase();if(!r)return 0;const s=e.displayName.toLowerCase();return s===r?l+5e3:s.startsWith(r)?l+3e3:s.includes(r)?l+1200:e.searchText.includes(r)?l+300:l}function rC(e,n,l){const r=l.sortDescending?-1:1;if(l.sort==="relevance"){if(e.relevance!==n.relevance)return(e.relevance>n.relevance?-1:1)*(l.sortDescending?1:-1)}else{const s=ny(e.item,l.sort),c=ny(n.item,l.sort);if(s!==c)return s<c?-r:r}return e.item.level!==n.item.level?e.item.level<n.item.level?1:-1:e.item.displayName.localeCompare(n.item.displayName)}function sC(){return{categories:{},types:{},tiers:{},majorIds:{}}}function Gd(e,n){n&&(e[n]=(e[n]??0)+1)}class oC{miniSearch;itemsById;allItems;constructor(n){this.allItems=n,this.itemsById=new Map(n.map(l=>[l.id,l])),this.miniSearch=new Bi({fields:["displayName","searchText","majorIdsText"],storeFields:["id"],idField:"id",searchOptions:{boost:{displayName:6,searchText:2,majorIdsText:2},prefix:!0,fuzzy:.2,combineWith:"OR"}}),this.miniSearch.addAll(n.map(l=>({id:l.id,displayName:l.displayName,searchText:l.searchText,majorIdsText:l.majorIdsText})))}search(n){const l=n.text.trim(),r=l?this.miniSearch.search(l,{prefix:!0,fuzzy:.2,boost:{displayName:8,searchText:2,majorIdsText:2}}):[],s=new Map;for(const m of r){const b=this.itemsById.get(m.id);b&&s.set(b.id,iC(b,l,Number(m.score??0)))}const c=l?[...this.allItems]:this.allItems,d=[],h=sC();for(const m of c){const b=s.get(m.id)??0;if(!(l&&b===0&&!m.searchText.includes(l.toLowerCase()))&&lC(m,n)){d.push({item:m,relevance:b}),h.categories[m.category]=(h.categories[m.category]??0)+1,Gd(h.types,m.type),Gd(h.tiers,m.tier);for(const y of m.majorIds)Gd(h.majorIds,y)}}d.sort((m,b)=>rC(m,b,n));const g=d.map(({item:m,relevance:b})=>({id:m.id,relevance:b}));return{total:g.length,rows:g,facetCounts:h}}}class cC{worker=null;fallbackEngine=null;requestId=0;pending=new Map;initialized=!1;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL(""+new URL("search-worker-BUmtuaoB.js",import.meta.url).href,import.meta.url),{type:"module"}),this.worker.onmessage=n=>{const l=n.data,r=this.pending.get(l.requestId);r&&(this.pending.delete(l.requestId),l.type==="error"?r.reject(new Error(l.message)):l.type==="ready"?r.resolve(void 0):r.resolve(l.result))},this.worker.onerror=n=>{console.error(n),this.worker?.terminate(),this.worker=null})}async init(n){if(!this.initialized){if(this.worker){await this.send({type:"init",items:n}),this.initialized=!0;return}this.fallbackEngine=new oC(n),this.initialized=!0}}async search(n){if(!this.initialized)throw new Error("SearchWorkerClient.init() must be called before search()");if(this.worker)return this.send({type:"search",state:n});if(!this.fallbackEngine)throw new Error("Fallback search engine unavailable");return this.fallbackEngine.search(n)}dispose(){this.worker?.terminate(),this.worker=null,this.fallbackEngine=null,this.pending.clear()}send(n){if(!this.worker)return Promise.reject(new Error("Search worker unavailable"));const l=++this.requestId;return new Promise((r,s)=>{this.pending.set(l,{resolve:r,reject:s}),this.worker.postMessage({...n,requestId:l})})}}function Ni(e,n,l){let r=l.initialDeps??[],s,c=!0;function d(){var h,g,m;let b;l.key&&((h=l.debug)!=null&&h.call(l))&&(b=Date.now());const y=e();if(!(y.length!==r.length||y.some((D,E)=>r[E]!==D)))return s;r=y;let _;if(l.key&&((g=l.debug)!=null&&g.call(l))&&(_=Date.now()),s=n(...y),l.key&&((m=l.debug)!=null&&m.call(l))){const D=Math.round((Date.now()-b)*100)/100,E=Math.round((Date.now()-_)*100)/100,A=E/16,N=(q,B)=>{for(q=String(q);q.length<B;)q=" "+q;return q};console.info(`%c ${N(E,5)} /${N(D,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,l?.key)}return l?.onChange&&!(c&&l.skipInitialOnChange)&&l.onChange(s),c=!1,s}return d.updateDeps=h=>{r=h},d}function ay(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const uC=(e,n)=>Math.abs(e-n)<1.01,dC=(e,n,l)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>n.apply(this,s),l)}},ly=e=>{const{offsetWidth:n,offsetHeight:l}=e;return{width:n,height:l}},fC=e=>e,hC=e=>{const n=Math.max(e.startIndex-e.overscan,0),l=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=n;s<=l;s++)r.push(s);return r},mC=(e,n)=>{const l=e.scrollElement;if(!l)return;const r=e.targetWindow;if(!r)return;const s=d=>{const{width:h,height:g}=d;n({width:Math.round(h),height:Math.round(g)})};if(s(ly(l)),!r.ResizeObserver)return()=>{};const c=new r.ResizeObserver(d=>{const h=()=>{const g=d[0];if(g?.borderBoxSize){const m=g.borderBoxSize[0];if(m){s({width:m.inlineSize,height:m.blockSize});return}}s(ly(l))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(h):h()});return c.observe(l,{box:"border-box"}),()=>{c.unobserve(l)}},iy={passive:!0},ry=typeof window>"u"?!0:"onscrollend"in window,gC=(e,n)=>{const l=e.scrollElement;if(!l)return;const r=e.targetWindow;if(!r)return;let s=0;const c=e.options.useScrollendEvent&&ry?()=>{}:dC(r,()=>{n(s,!1)},e.options.isScrollingResetDelay),d=b=>()=>{const{horizontal:y,isRtl:x}=e.options;s=y?l.scrollLeft*(x&&-1||1):l.scrollTop,c(),n(s,b)},h=d(!0),g=d(!1);l.addEventListener("scroll",h,iy);const m=e.options.useScrollendEvent&&ry;return m&&l.addEventListener("scrollend",g,iy),()=>{l.removeEventListener("scroll",h),m&&l.removeEventListener("scrollend",g)}},pC=(e,n,l)=>{if(n?.borderBoxSize){const r=n.borderBoxSize[0];if(r)return Math.round(r[l.options.horizontal?"inlineSize":"blockSize"])}return e[l.options.horizontal?"offsetWidth":"offsetHeight"]},vC=(e,{adjustments:n=0,behavior:l},r)=>{var s,c;const d=e+n;(c=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||c.call(s,{[r.options.horizontal?"left":"top"]:d,behavior:l})};class yC{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let l=null;const r=()=>l||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:l=new this.targetWindow.ResizeObserver(s=>{s.forEach(c=>{const d=()=>{this._measureElement(c.target,c)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),l=null},observe:s=>{var c;return(c=r())==null?void 0:c.observe(s,{box:"border-box"})},unobserve:s=>{var c;return(c=r())==null?void 0:c.unobserve(s)}}})(),this.range=null,this.setOptions=l=>{Object.entries(l).forEach(([r,s])=>{typeof s>"u"&&delete l[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:fC,rangeExtractor:hC,onChange:()=>{},measureElement:pC,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...l}},this.notify=l=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,l)},this.maybeNotify=Ni(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),l=>{this.notify(l)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(l=>l()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var l;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((l=this.scrollElement)==null?void 0:l.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,c)=>{this.scrollAdjustments=0,this.scrollDirection=c?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=c,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(l,r)=>{const s=new Map,c=new Map;for(let d=r-1;d>=0;d--){const h=l[d];if(s.has(h.lane))continue;const g=c.get(h.lane);if(g==null||h.end>g.end?c.set(h.lane,h):h.end<g.end&&s.set(h.lane,!0),s.size===this.options.lanes)break}return c.size===this.options.lanes?Array.from(c.values()).sort((d,h)=>d.end===h.end?d.index-h.index:d.end-h.end)[0]:void 0},this.getMeasurementOptions=Ni(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(l,r,s,c,d,h)=>(this.prevLanes!==void 0&&this.prevLanes!==h&&(this.lanesChangedFlag=!0),this.prevLanes=h,this.pendingMeasuredCacheIndexes=[],{count:l,paddingStart:r,scrollMargin:s,getItemKey:c,enabled:d,lanes:h}),{key:!1}),this.getMeasurements=Ni(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:l,paddingStart:r,scrollMargin:s,getItemKey:c,enabled:d,lanes:h},g)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>l)for(const x of this.laneAssignments.keys())x>=l&&this.laneAssignments.delete(x);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(x=>{this.itemSizeCache.set(x.key,x.size)}));const m=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===l&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,m),y=new Array(h).fill(void 0);for(let x=0;x<m;x++){const _=b[x];_&&(y[_.lane]=x)}for(let x=m;x<l;x++){const _=c(x),D=this.laneAssignments.get(x);let E,A;if(D!==void 0&&this.options.lanes>1){E=D;const P=y[E],L=P!==void 0?b[P]:void 0;A=L?L.end+this.options.gap:r+s}else{const P=this.options.lanes===1?b[x-1]:this.getFurthestMeasurement(b,x);A=P?P.end+this.options.gap:r+s,E=P?P.lane:x%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(x,E)}const N=g.get(_),q=typeof N=="number"?N:this.options.estimateSize(x),B=A+q;b[x]={index:x,start:A,size:q,end:B,key:_,lane:E},y[E]=x}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ni(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(l,r,s,c)=>this.range=l.length>0&&r>0?bC({measurements:l,outerSize:r,scrollOffset:s,lanes:c}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ni(()=>{let l=null,r=null;const s=this.calculateRange();return s&&(l=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,l,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,l,r]},(l,r,s,c,d)=>c===null||d===null?[]:l({startIndex:c,endIndex:d,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=l=>{const r=this.options.indexAttribute,s=l.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(l,r)=>{const s=this.indexFromElement(l),c=this.measurementsCache[s];if(!c)return;const d=c.key,h=this.elementsCache.get(d);h!==l&&(h&&this.observer.unobserve(h),this.observer.observe(l),this.elementsCache.set(d,l)),l.isConnected&&this.resizeItem(s,this.options.measureElement(l,r,this))},this.resizeItem=(l,r)=>{const s=this.measurementsCache[l];if(!s)return;const c=this.itemSizeCache.get(s.key)??s.size,d=r-c;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,d,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=l=>{if(!l){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(l,void 0)},this.getVirtualItems=Ni(()=>[this.getVirtualIndexes(),this.getMeasurements()],(l,r)=>{const s=[];for(let c=0,d=l.length;c<d;c++){const h=l[c],g=r[h];s.push(g)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=l=>{const r=this.getMeasurements();if(r.length!==0)return ay(r[ob(0,r.length-1,s=>ay(r[s]).start,l)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const l=this.scrollElement.document.documentElement;return this.options.horizontal?l.scrollWidth-this.scrollElement.innerWidth:l.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(l,r,s=0)=>{if(!this.scrollElement)return 0;const c=this.getSize(),d=this.getScrollOffset();r==="auto"&&(r=l>=d+c?"end":"start"),r==="center"?l+=(s-c)/2:r==="end"&&(l-=c);const h=this.getMaxScrollOffset();return Math.max(Math.min(h,l),0)},this.getOffsetForIndex=(l,r="auto")=>{l=Math.max(0,Math.min(l,this.options.count-1));const s=this.measurementsCache[l];if(!s)return;const c=this.getSize(),d=this.getScrollOffset();if(r==="auto")if(s.end>=d+c-this.options.scrollPaddingEnd)r="end";else if(s.start<=d+this.options.scrollPaddingStart)r="start";else return[d,r];if(r==="end"&&l===this.options.count-1)return[this.getMaxScrollOffset(),r];const h=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(h,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(l,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(l,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(l,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),l=Math.max(0,Math.min(l,this.options.count-1)),this.currentScrollToIndex=l;let c=0;const d=10,h=m=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(l,m);if(!b){console.warn("Failed to get offset for index:",l);return}const[y,x]=b;this._scrollToOffset(y,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==l)return;const D=this.getScrollOffset(),E=this.getOffsetForIndex(l,x);if(!E){console.warn("Failed to get offset for index:",l);return}uC(E[0],D)||g(x)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},g=m=>{this.targetWindow&&this.currentScrollToIndex===l&&(c++,c<d?this.targetWindow.requestAnimationFrame(()=>h(m)):console.warn(`Failed to scroll to index ${l} after ${d} attempts.`))};h(r)},this.scrollBy=(l,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+l,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var l;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((l=r[r.length-1])==null?void 0:l.end)??0;else{const c=Array(this.options.lanes).fill(null);let d=r.length-1;for(;d>=0&&c.some(h=>h===null);){const h=r[d];c[h.lane]===null&&(c[h.lane]=h.end),d--}s=Math.max(...c.filter(h=>h!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(l,{adjustments:r,behavior:s})=>{this.options.scrollToFn(l,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const ob=(e,n,l,r)=>{for(;e<=n;){const s=(e+n)/2|0,c=l(s);if(c<r)e=s+1;else if(c>r)n=s-1;else return s}return e>0?e-1:0};function bC({measurements:e,outerSize:n,scrollOffset:l,lanes:r}){const s=e.length-1,c=g=>e[g].start;if(e.length<=r)return{startIndex:0,endIndex:s};let d=ob(0,s,c,l),h=d;if(r===1)for(;h<s&&e[h].end<l+n;)h++;else if(r>1){const g=Array(r).fill(0);for(;h<s&&g.some(b=>b<l+n);){const b=e[h];g[b.lane]=b.end,h++}const m=Array(r).fill(l+n);for(;d>=0&&m.some(b=>b>=l);){const b=e[d];m[b.lane]=b.start,d--}d=Math.max(0,d-d%r),h=Math.min(s,h+(r-1-h%r))}return{startIndex:d,endIndex:h}}const sy=typeof document<"u"?w.useLayoutEffect:w.useEffect;function xC({useFlushSync:e=!0,...n}){const l=w.useReducer(()=>({}),{})[1],r={...n,onChange:(c,d)=>{var h;e&&d?il.flushSync(l):l(),(h=n.onChange)==null||h.call(n,c,d)}},[s]=w.useState(()=>new yC(r));return s.setOptions(r),sy(()=>s._didMount(),[]),sy(()=>s._willUpdate()),s}function SC(e){return xC({observeElementRect:mC,observeElementOffset:gC,scrollToFn:vC,...e})}function sl(e,n,{checkForDefaultPrevented:l=!0}={}){return function(s){if(e?.(s),l===!1||!s.defaultPrevented)return n?.(s)}}function oy(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function cb(...e){return n=>{let l=!1;const r=e.map(s=>{const c=oy(s,n);return!l&&typeof c=="function"&&(l=!0),c});if(l)return()=>{for(let s=0;s<r.length;s++){const c=r[s];typeof c=="function"?c():oy(e[s],null)}}}}function ql(...e){return w.useCallback(cb(...e),e)}function wC(e,n){const l=w.createContext(n),r=c=>{const{children:d,...h}=c,g=w.useMemo(()=>h,Object.values(h));return p.jsx(l.Provider,{value:g,children:d})};r.displayName=e+"Provider";function s(c){const d=w.useContext(l);if(d)return d;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,s]}function _C(e,n=[]){let l=[];function r(c,d){const h=w.createContext(d),g=l.length;l=[...l,d];const m=y=>{const{scope:x,children:_,...D}=y,E=x?.[e]?.[g]||h,A=w.useMemo(()=>D,Object.values(D));return p.jsx(E.Provider,{value:A,children:_})};m.displayName=c+"Provider";function b(y,x){const _=x?.[e]?.[g]||h,D=w.useContext(_);if(D)return D;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[m,b]}const s=()=>{const c=l.map(d=>w.createContext(d));return function(h){const g=h?.[e]||c;return w.useMemo(()=>({[`__scope${e}`]:{...h,[e]:g}}),[h,g])}};return s.scopeName=e,[r,EC(s,...n)]}function EC(...e){const n=e[0];if(e.length===1)return n;const l=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const d=r.reduce((h,{useScope:g,scopeName:m})=>{const y=g(c)[`__scope${m}`];return{...h,...y}},{});return w.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return l.scopeName=n.scopeName,l}var Xr=globalThis?.document?w.useLayoutEffect:()=>{},TC=Ky[" useId ".trim().toString()]||(()=>{}),NC=0;function Xd(e){const[n,l]=w.useState(TC());return Xr(()=>{l(r=>r??String(NC++))},[e]),e||(n?`radix-${n}`:"")}var MC=Ky[" useInsertionEffect ".trim().toString()]||Xr;function CC({prop:e,defaultProp:n,onChange:l=()=>{},caller:r}){const[s,c,d]=AC({defaultProp:n,onChange:l}),h=e!==void 0,g=h?e:s;{const b=w.useRef(e!==void 0);w.useEffect(()=>{const y=b.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=h},[h,r])}const m=w.useCallback(b=>{if(h){const y=DC(b)?b(e):b;y!==e&&d.current?.(y)}else c(b)},[h,e,c,d]);return[g,m]}function AC({defaultProp:e,onChange:n}){const[l,r]=w.useState(e),s=w.useRef(l),c=w.useRef(n);return MC(()=>{c.current=n},[n]),w.useEffect(()=>{s.current!==l&&(c.current?.(l),s.current=l)},[l,s]),[l,r,c]}function DC(e){return typeof e=="function"}function ub(e){const n=jC(e),l=w.forwardRef((r,s)=>{const{children:c,...d}=r,h=w.Children.toArray(c),g=h.find(kC);if(g){const m=g.props.children,b=h.map(y=>y===g?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return p.jsx(n,{...d,ref:s,children:w.isValidElement(m)?w.cloneElement(m,void 0,b):null})}return p.jsx(n,{...d,ref:s,children:c})});return l.displayName=`${e}.Slot`,l}function jC(e){const n=w.forwardRef((l,r)=>{const{children:s,...c}=l;if(w.isValidElement(s)){const d=OC(s),h=RC(c,s.props);return s.type!==w.Fragment&&(h.ref=r?cb(r,d):d),w.cloneElement(s,h)}return w.Children.count(s)>1?w.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var zC=Symbol("radix.slottable");function kC(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zC}function RC(e,n){const l={...n};for(const r in n){const s=e[r],c=n[r];/^on[A-Z]/.test(r)?s&&c?l[r]=(...h)=>{const g=c(...h);return s(...h),g}:s&&(l[r]=s):r==="style"?l[r]={...s,...c}:r==="className"&&(l[r]=[s,c].filter(Boolean).join(" "))}return{...e,...l}}function OC(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?e.props.ref:e.props.ref||e.ref)}var BC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ca=BC.reduce((e,n)=>{const l=ub(`Primitive.${n}`),r=w.forwardRef((s,c)=>{const{asChild:d,...h}=s,g=d?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(g,{...h,ref:c})});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function LC(e,n){e&&il.flushSync(()=>e.dispatchEvent(n))}function Kr(e){const n=w.useRef(e);return w.useEffect(()=>{n.current=e}),w.useMemo(()=>(...l)=>n.current?.(...l),[])}function UC(e,n=globalThis?.document){const l=Kr(e);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&l(s)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[l,n])}var qC="DismissableLayer",Cf="dismissableLayer.update",IC="dismissableLayer.pointerDownOutside",PC="dismissableLayer.focusOutside",cy,db=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fb=w.forwardRef((e,n)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...g}=e,m=w.useContext(db),[b,y]=w.useState(null),x=b?.ownerDocument??globalThis?.document,[,_]=w.useState({}),D=ql(n,T=>y(T)),E=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(A),q=b?E.indexOf(b):-1,B=m.layersWithOutsidePointerEventsDisabled.size>0,P=q>=N,L=$C(T=>{const $=T.target,te=[...m.branches].some(ie=>ie.contains($));!P||te||(s?.(T),d?.(T),T.defaultPrevented||h?.())},x),j=YC(T=>{const $=T.target;[...m.branches].some(ie=>ie.contains($))||(c?.(T),d?.(T),T.defaultPrevented||h?.())},x);return UC(T=>{q===m.layers.size-1&&(r?.(T),!T.defaultPrevented&&h&&(T.preventDefault(),h()))},x),w.useEffect(()=>{if(b)return l&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(cy=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(b)),m.layers.add(b),uy(),()=>{l&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=cy)}},[b,x,l,m]),w.useEffect(()=>()=>{b&&(m.layers.delete(b),m.layersWithOutsidePointerEventsDisabled.delete(b),uy())},[b,m]),w.useEffect(()=>{const T=()=>_({});return document.addEventListener(Cf,T),()=>document.removeEventListener(Cf,T)},[]),p.jsx(Ca.div,{...g,ref:D,style:{pointerEvents:B?P?"auto":"none":void 0,...e.style},onFocusCapture:sl(e.onFocusCapture,j.onFocusCapture),onBlurCapture:sl(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:sl(e.onPointerDownCapture,L.onPointerDownCapture)})});fb.displayName=qC;var HC="DismissableLayerBranch",ZC=w.forwardRef((e,n)=>{const l=w.useContext(db),r=w.useRef(null),s=ql(n,r);return w.useEffect(()=>{const c=r.current;if(c)return l.branches.add(c),()=>{l.branches.delete(c)}},[l.branches]),p.jsx(Ca.div,{...e,ref:s})});ZC.displayName=HC;function $C(e,n=globalThis?.document){const l=Kr(e),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let g=function(){hb(IC,l,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=g,n.addEventListener("click",s.current,{once:!0})):g()}else n.removeEventListener("click",s.current);r.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",s.current)}},[n,l]),{onPointerDownCapture:()=>r.current=!0}}function YC(e,n=globalThis?.document){const l=Kr(e),r=w.useRef(!1);return w.useEffect(()=>{const s=c=>{c.target&&!r.current&&hb(PC,l,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,l]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uy(){const e=new CustomEvent(Cf);document.dispatchEvent(e)}function hb(e,n,l,{discrete:r}){const s=l.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:l});n&&s.addEventListener(e,n,{once:!0}),r?LC(s,c):s.dispatchEvent(c)}var Kd="focusScope.autoFocusOnMount",Qd="focusScope.autoFocusOnUnmount",dy={bubbles:!1,cancelable:!0},FC="FocusScope",mb=w.forwardRef((e,n)=>{const{loop:l=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...d}=e,[h,g]=w.useState(null),m=Kr(s),b=Kr(c),y=w.useRef(null),x=ql(n,E=>g(E)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let E=function(B){if(_.paused||!h)return;const P=B.target;h.contains(P)?y.current=P:al(y.current,{select:!0})},A=function(B){if(_.paused||!h)return;const P=B.relatedTarget;P!==null&&(h.contains(P)||al(y.current,{select:!0}))},N=function(B){if(document.activeElement===document.body)for(const L of B)L.removedNodes.length>0&&al(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",A);const q=new MutationObserver(N);return h&&q.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",A),q.disconnect()}}},[r,h,_.paused]),w.useEffect(()=>{if(h){hy.add(_);const E=document.activeElement;if(!h.contains(E)){const N=new CustomEvent(Kd,dy);h.addEventListener(Kd,m),h.dispatchEvent(N),N.defaultPrevented||(VC(WC(gb(h)),{select:!0}),document.activeElement===E&&al(h))}return()=>{h.removeEventListener(Kd,m),setTimeout(()=>{const N=new CustomEvent(Qd,dy);h.addEventListener(Qd,b),h.dispatchEvent(N),N.defaultPrevented||al(E??document.body,{select:!0}),h.removeEventListener(Qd,b),hy.remove(_)},0)}}},[h,m,b,_]);const D=w.useCallback(E=>{if(!l&&!r||_.paused)return;const A=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,N=document.activeElement;if(A&&N){const q=E.currentTarget,[B,P]=GC(q);B&&P?!E.shiftKey&&N===P?(E.preventDefault(),l&&al(B,{select:!0})):E.shiftKey&&N===B&&(E.preventDefault(),l&&al(P,{select:!0})):N===q&&E.preventDefault()}},[l,r,_.paused]);return p.jsx(Ca.div,{tabIndex:-1,...d,ref:x,onKeyDown:D})});mb.displayName=FC;function VC(e,{select:n=!1}={}){const l=document.activeElement;for(const r of e)if(al(r,{select:n}),document.activeElement!==l)return}function GC(e){const n=gb(e),l=fy(n,e),r=fy(n.reverse(),e);return[l,r]}function gb(e){const n=[],l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)n.push(l.currentNode);return n}function fy(e,n){for(const l of e)if(!XC(l,{upTo:n}))return l}function XC(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KC(e){return e instanceof HTMLInputElement&&"select"in e}function al(e,{select:n=!1}={}){if(e&&e.focus){const l=document.activeElement;e.focus({preventScroll:!0}),e!==l&&KC(e)&&n&&e.select()}}var hy=QC();function QC(){let e=[];return{add(n){const l=e[0];n!==l&&l?.pause(),e=my(e,n),e.unshift(n)},remove(n){e=my(e,n),e[0]?.resume()}}}function my(e,n){const l=[...e],r=l.indexOf(n);return r!==-1&&l.splice(r,1),l}function WC(e){return e.filter(n=>n.tagName!=="A")}var JC="Portal",pb=w.forwardRef((e,n)=>{const{container:l,...r}=e,[s,c]=w.useState(!1);Xr(()=>c(!0),[]);const d=l||s&&globalThis?.document?.body;return d?O1.createPortal(p.jsx(Ca.div,{...r,ref:n}),d):null});pb.displayName=JC;function eA(e,n){return w.useReducer((l,r)=>n[l][r]??l,e)}var mc=e=>{const{present:n,children:l}=e,r=tA(n),s=typeof l=="function"?l({present:r.isPresent}):w.Children.only(l),c=ql(r.ref,nA(s));return typeof l=="function"||r.isPresent?w.cloneElement(s,{ref:c}):null};mc.displayName="Presence";function tA(e){const[n,l]=w.useState(),r=w.useRef(null),s=w.useRef(e),c=w.useRef("none"),d=e?"mounted":"unmounted",[h,g]=eA(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Eo(r.current);c.current=h==="mounted"?m:"none"},[h]),Xr(()=>{const m=r.current,b=s.current;if(b!==e){const x=c.current,_=Eo(m);e?g("MOUNT"):_==="none"||m?.display==="none"?g("UNMOUNT"):g(b&&x!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,g]),Xr(()=>{if(n){let m;const b=n.ownerDocument.defaultView??window,y=_=>{const E=Eo(r.current).includes(CSS.escape(_.animationName));if(_.target===n&&E&&(g("ANIMATION_END"),!s.current)){const A=n.style.animationFillMode;n.style.animationFillMode="forwards",m=b.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=A)})}},x=_=>{_.target===n&&(c.current=Eo(r.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{b.clearTimeout(m),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[n,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,l(m)},[])}}function Eo(e){return e?.animationName||"none"}function nA(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?e.props.ref:e.props.ref||e.ref)}var Wd=0;function aA(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gy()),document.body.insertAdjacentElement("beforeend",e[1]??gy()),Wd++,()=>{Wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Wd--}},[])}function gy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ra=function(){return ra=Object.assign||function(n){for(var l,r=1,s=arguments.length;r<s;r++){l=arguments[r];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])}return n},ra.apply(this,arguments)};function vb(e,n){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(l[r[s]]=e[r[s]]);return l}function lA(e,n,l){if(l||arguments.length===2)for(var r=0,s=n.length,c;r<s;r++)(c||!(r in n))&&(c||(c=Array.prototype.slice.call(n,0,r)),c[r]=n[r]);return e.concat(c||Array.prototype.slice.call(n))}var Lo="right-scroll-bar-position",Uo="width-before-scroll-bar",iA="with-scroll-bars-hidden",rA="--removed-body-scroll-bar-size";function Jd(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function sA(e,n){var l=w.useState(function(){return{value:e,callback:n,facade:{get current(){return l.value},set current(r){var s=l.value;s!==r&&(l.value=r,l.callback(r,s))}}}})[0];return l.callback=n,l.facade}var oA=typeof window<"u"?w.useLayoutEffect:w.useEffect,py=new WeakMap;function cA(e,n){var l=sA(null,function(r){return e.forEach(function(s){return Jd(s,r)})});return oA(function(){var r=py.get(l);if(r){var s=new Set(r),c=new Set(e),d=l.current;s.forEach(function(h){c.has(h)||Jd(h,null)}),c.forEach(function(h){s.has(h)||Jd(h,d)})}py.set(l,e)},[e]),l}function uA(e){return e}function dA(e,n){n===void 0&&(n=uA);var l=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:e},useMedium:function(c){var d=n(c,r);return l.push(d),function(){l=l.filter(function(h){return h!==d})}},assignSyncMedium:function(c){for(r=!0;l.length;){var d=l;l=[],d.forEach(c)}l={push:function(h){return c(h)},filter:function(){return l}}},assignMedium:function(c){r=!0;var d=[];if(l.length){var h=l;l=[],h.forEach(c),d=l}var g=function(){var b=d;d=[],b.forEach(c)},m=function(){return Promise.resolve().then(g)};m(),l={push:function(b){d.push(b),m()},filter:function(b){return d=d.filter(b),l}}}};return s}function fA(e){e===void 0&&(e={});var n=dA(null);return n.options=ra({async:!0,ssr:!1},e),n}var yb=function(e){var n=e.sideCar,l=vb(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ra({},l))};yb.isSideCarExport=!0;function hA(e,n){return e.useMedium(n),yb}var bb=fA(),ef=function(){},gc=w.forwardRef(function(e,n){var l=w.useRef(null),r=w.useState({onScrollCapture:ef,onWheelCapture:ef,onTouchMoveCapture:ef}),s=r[0],c=r[1],d=e.forwardProps,h=e.children,g=e.className,m=e.removeScrollBar,b=e.enabled,y=e.shards,x=e.sideCar,_=e.noRelative,D=e.noIsolation,E=e.inert,A=e.allowPinchZoom,N=e.as,q=N===void 0?"div":N,B=e.gapMode,P=vb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=x,j=cA([l,n]),T=ra(ra({},P),s);return w.createElement(w.Fragment,null,b&&w.createElement(L,{sideCar:bb,removeScrollBar:m,shards:y,noRelative:_,noIsolation:D,inert:E,setCallbacks:c,allowPinchZoom:!!A,lockRef:l,gapMode:B}),d?w.cloneElement(w.Children.only(h),ra(ra({},T),{ref:j})):w.createElement(q,ra({},T,{className:g,ref:j}),h))});gc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gc.classNames={fullWidth:Uo,zeroRight:Lo};var mA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=mA();return n&&e.setAttribute("nonce",n),e}function pA(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function vA(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var yA=function(){var e=0,n=null;return{add:function(l){e==0&&(n=gA())&&(pA(n,l),vA(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},bA=function(){var e=yA();return function(n,l){w.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&l])}},xb=function(){var e=bA(),n=function(l){var r=l.styles,s=l.dynamic;return e(r,s),null};return n},xA={left:0,top:0,right:0,gap:0},tf=function(e){return parseInt(e||"",10)||0},SA=function(e){var n=window.getComputedStyle(document.body),l=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],s=n[e==="padding"?"paddingRight":"marginRight"];return[tf(l),tf(r),tf(s)]},wA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xA;var n=SA(e),l=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-l+n[2]-n[0])}},_A=xb(),Li="data-scroll-locked",EA=function(e,n,l,r){var s=e.left,c=e.top,d=e.right,h=e.gap;return l===void 0&&(l="margin"),`
  .`.concat(iA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Li,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),l==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),l==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lo,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Uo,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Lo," .").concat(Lo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uo," .").concat(Uo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Li,`] {
    `).concat(rA,": ").concat(h,`px;
  }
`)},vy=function(){var e=parseInt(document.body.getAttribute(Li)||"0",10);return isFinite(e)?e:0},TA=function(){w.useEffect(function(){return document.body.setAttribute(Li,(vy()+1).toString()),function(){var e=vy()-1;e<=0?document.body.removeAttribute(Li):document.body.setAttribute(Li,e.toString())}},[])},NA=function(e){var n=e.noRelative,l=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;TA();var c=w.useMemo(function(){return wA(s)},[s]);return w.createElement(_A,{styles:EA(c,!n,s,l?"":"!important")})},Af=!1;if(typeof window<"u")try{var To=Object.defineProperty({},"passive",{get:function(){return Af=!0,!0}});window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Af=!1}var Mi=Af?{passive:!1}:!1,MA=function(e){return e.tagName==="TEXTAREA"},Sb=function(e,n){if(!(e instanceof Element))return!1;var l=window.getComputedStyle(e);return l[n]!=="hidden"&&!(l.overflowY===l.overflowX&&!MA(e)&&l[n]==="visible")},CA=function(e){return Sb(e,"overflowY")},AA=function(e){return Sb(e,"overflowX")},yy=function(e,n){var l=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wb(e,r);if(s){var c=_b(e,r),d=c[1],h=c[2];if(d>h)return!0}r=r.parentNode}while(r&&r!==l.body);return!1},DA=function(e){var n=e.scrollTop,l=e.scrollHeight,r=e.clientHeight;return[n,l,r]},jA=function(e){var n=e.scrollLeft,l=e.scrollWidth,r=e.clientWidth;return[n,l,r]},wb=function(e,n){return e==="v"?CA(n):AA(n)},_b=function(e,n){return e==="v"?DA(n):jA(n)},zA=function(e,n){return e==="h"&&n==="rtl"?-1:1},kA=function(e,n,l,r,s){var c=zA(e,window.getComputedStyle(n).direction),d=c*r,h=l.target,g=n.contains(h),m=!1,b=d>0,y=0,x=0;do{if(!h)break;var _=_b(e,h),D=_[0],E=_[1],A=_[2],N=E-A-c*D;(D||N)&&wb(e,h)&&(y+=N,x+=D);var q=h.parentNode;h=q&&q.nodeType===Node.DOCUMENT_FRAGMENT_NODE?q.host:q}while(!g&&h!==document.body||g&&(n.contains(h)||n===h));return(b&&Math.abs(y)<1||!b&&Math.abs(x)<1)&&(m=!0),m},No=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},by=function(e){return[e.deltaX,e.deltaY]},xy=function(e){return e&&"current"in e?e.current:e},RA=function(e,n){return e[0]===n[0]&&e[1]===n[1]},OA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BA=0,Ci=[];function LA(e){var n=w.useRef([]),l=w.useRef([0,0]),r=w.useRef(),s=w.useState(BA++)[0],c=w.useState(xb)[0],d=w.useRef(e);w.useEffect(function(){d.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=lA([e.lockRef.current],(e.shards||[]).map(xy),!0).filter(Boolean);return E.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var h=w.useCallback(function(E,A){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!d.current.allowPinchZoom;var N=No(E),q=l.current,B="deltaX"in E?E.deltaX:q[0]-N[0],P="deltaY"in E?E.deltaY:q[1]-N[1],L,j=E.target,T=Math.abs(B)>Math.abs(P)?"h":"v";if("touches"in E&&T==="h"&&j.type==="range")return!1;var $=window.getSelection(),te=$&&$.anchorNode,ie=te?te===j||te.contains(j):!1;if(ie)return!1;var ue=yy(T,j);if(!ue)return!0;if(ue?L=T:(L=T==="v"?"h":"v",ue=yy(T,j)),!ue)return!1;if(!r.current&&"changedTouches"in E&&(B||P)&&(r.current=L),!L)return!0;var de=r.current||L;return kA(de,A,E,de==="h"?B:P)},[]),g=w.useCallback(function(E){var A=E;if(!(!Ci.length||Ci[Ci.length-1]!==c)){var N="deltaY"in A?by(A):No(A),q=n.current.filter(function(L){return L.name===A.type&&(L.target===A.target||A.target===L.shadowParent)&&RA(L.delta,N)})[0];if(q&&q.should){A.cancelable&&A.preventDefault();return}if(!q){var B=(d.current.shards||[]).map(xy).filter(Boolean).filter(function(L){return L.contains(A.target)}),P=B.length>0?h(A,B[0]):!d.current.noIsolation;P&&A.cancelable&&A.preventDefault()}}},[]),m=w.useCallback(function(E,A,N,q){var B={name:E,delta:A,target:N,should:q,shadowParent:UA(N)};n.current.push(B),setTimeout(function(){n.current=n.current.filter(function(P){return P!==B})},1)},[]),b=w.useCallback(function(E){l.current=No(E),r.current=void 0},[]),y=w.useCallback(function(E){m(E.type,by(E),E.target,h(E,e.lockRef.current))},[]),x=w.useCallback(function(E){m(E.type,No(E),E.target,h(E,e.lockRef.current))},[]);w.useEffect(function(){return Ci.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",g,Mi),document.addEventListener("touchmove",g,Mi),document.addEventListener("touchstart",b,Mi),function(){Ci=Ci.filter(function(E){return E!==c}),document.removeEventListener("wheel",g,Mi),document.removeEventListener("touchmove",g,Mi),document.removeEventListener("touchstart",b,Mi)}},[]);var _=e.removeScrollBar,D=e.inert;return w.createElement(w.Fragment,null,D?w.createElement(c,{styles:OA(s)}):null,_?w.createElement(NA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UA(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const qA=hA(bb,LA);var Eb=w.forwardRef(function(e,n){return w.createElement(gc,ra({},e,{ref:n,sideCar:qA}))});Eb.classNames=gc.classNames;var IA=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Ai=new WeakMap,Mo=new WeakMap,Co={},nf=0,Tb=function(e){return e&&(e.host||Tb(e.parentNode))},PA=function(e,n){return n.map(function(l){if(e.contains(l))return l;var r=Tb(l);return r&&e.contains(r)?r:(console.error("aria-hidden",l,"in not contained inside",e,". Doing nothing"),null)}).filter(function(l){return!!l})},HA=function(e,n,l,r){var s=PA(n,Array.isArray(e)?e:[e]);Co[l]||(Co[l]=new WeakMap);var c=Co[l],d=[],h=new Set,g=new Set(s),m=function(y){!y||h.has(y)||(h.add(y),m(y.parentNode))};s.forEach(m);var b=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(x){if(h.has(x))b(x);else try{var _=x.getAttribute(r),D=_!==null&&_!=="false",E=(Ai.get(x)||0)+1,A=(c.get(x)||0)+1;Ai.set(x,E),c.set(x,A),d.push(x),E===1&&D&&Mo.set(x,!0),A===1&&x.setAttribute(l,"true"),D||x.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return b(n),h.clear(),nf++,function(){d.forEach(function(y){var x=Ai.get(y)-1,_=c.get(y)-1;Ai.set(y,x),c.set(y,_),x||(Mo.has(y)||y.removeAttribute(r),Mo.delete(y)),_||y.removeAttribute(l)}),nf--,nf||(Ai=new WeakMap,Ai=new WeakMap,Mo=new WeakMap,Co={})}},ZA=function(e,n,l){l===void 0&&(l="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=IA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),HA(r,s,l,"aria-hidden")):function(){return null}},pc="Dialog",[Nb]=_C(pc),[$A,Qn]=Nb(pc),Mb=e=>{const{__scopeDialog:n,children:l,open:r,defaultOpen:s,onOpenChange:c,modal:d=!0}=e,h=w.useRef(null),g=w.useRef(null),[m,b]=CC({prop:r,defaultProp:s??!1,onChange:c,caller:pc});return p.jsx($A,{scope:n,triggerRef:h,contentRef:g,contentId:Xd(),titleId:Xd(),descriptionId:Xd(),open:m,onOpenChange:b,onOpenToggle:w.useCallback(()=>b(y=>!y),[b]),modal:d,children:l})};Mb.displayName=pc;var Cb="DialogTrigger",YA=w.forwardRef((e,n)=>{const{__scopeDialog:l,...r}=e,s=Qn(Cb,l),c=ql(n,s.triggerRef);return p.jsx(Ca.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sh(s.open),...r,ref:c,onClick:sl(e.onClick,s.onOpenToggle)})});YA.displayName=Cb;var ih="DialogPortal",[FA,Ab]=Nb(ih,{forceMount:void 0}),Db=e=>{const{__scopeDialog:n,forceMount:l,children:r,container:s}=e,c=Qn(ih,n);return p.jsx(FA,{scope:n,forceMount:l,children:w.Children.map(r,d=>p.jsx(mc,{present:l||c.open,children:p.jsx(pb,{asChild:!0,container:s,children:d})}))})};Db.displayName=ih;var Jo="DialogOverlay",jb=w.forwardRef((e,n)=>{const l=Ab(Jo,e.__scopeDialog),{forceMount:r=l.forceMount,...s}=e,c=Qn(Jo,e.__scopeDialog);return c.modal?p.jsx(mc,{present:r||c.open,children:p.jsx(GA,{...s,ref:n})}):null});jb.displayName=Jo;var VA=ub("DialogOverlay.RemoveScroll"),GA=w.forwardRef((e,n)=>{const{__scopeDialog:l,...r}=e,s=Qn(Jo,l);return p.jsx(Eb,{as:VA,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Ca.div,{"data-state":sh(s.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),Ol="DialogContent",zb=w.forwardRef((e,n)=>{const l=Ab(Ol,e.__scopeDialog),{forceMount:r=l.forceMount,...s}=e,c=Qn(Ol,e.__scopeDialog);return p.jsx(mc,{present:r||c.open,children:c.modal?p.jsx(XA,{...s,ref:n}):p.jsx(KA,{...s,ref:n})})});zb.displayName=Ol;var XA=w.forwardRef((e,n)=>{const l=Qn(Ol,e.__scopeDialog),r=w.useRef(null),s=ql(n,l.contentRef,r);return w.useEffect(()=>{const c=r.current;if(c)return ZA(c)},[]),p.jsx(kb,{...e,ref:s,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sl(e.onCloseAutoFocus,c=>{c.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:sl(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0;(d.button===2||h)&&c.preventDefault()}),onFocusOutside:sl(e.onFocusOutside,c=>c.preventDefault())})}),KA=w.forwardRef((e,n)=>{const l=Qn(Ol,e.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return p.jsx(kb,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(r.current||l.triggerRef.current?.focus(),c.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=c.target;l.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.current&&c.preventDefault()}})}),kb=w.forwardRef((e,n)=>{const{__scopeDialog:l,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:c,...d}=e,h=Qn(Ol,l),g=w.useRef(null),m=ql(n,g);return aA(),p.jsxs(p.Fragment,{children:[p.jsx(mb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:c,children:p.jsx(fb,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":sh(h.open),...d,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(QA,{titleId:h.titleId}),p.jsx(JA,{contentRef:g,descriptionId:h.descriptionId})]})]})}),rh="DialogTitle",Rb=w.forwardRef((e,n)=>{const{__scopeDialog:l,...r}=e,s=Qn(rh,l);return p.jsx(Ca.h2,{id:s.titleId,...r,ref:n})});Rb.displayName=rh;var Ob="DialogDescription",Bb=w.forwardRef((e,n)=>{const{__scopeDialog:l,...r}=e,s=Qn(Ob,l);return p.jsx(Ca.p,{id:s.descriptionId,...r,ref:n})});Bb.displayName=Ob;var Lb="DialogClose",Ub=w.forwardRef((e,n)=>{const{__scopeDialog:l,...r}=e,s=Qn(Lb,l);return p.jsx(Ca.button,{type:"button",...r,ref:n,onClick:sl(e.onClick,()=>s.onOpenChange(!1))})});Ub.displayName=Lb;function sh(e){return e?"open":"closed"}var qb="DialogTitleWarning",[wz,Ib]=wC(qb,{contentName:Ol,titleName:rh,docsSlug:"dialog"}),QA=({titleId:e})=>{const n=Ib(qb),l=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(l))},[l,e]),null},WA="DialogDescriptionWarning",JA=({contentRef:e,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ib(WA).contentName}}.`;return w.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");n&&s&&(document.getElementById(n)||console.warn(r))},[r,e,n]),null},eD=Mb,tD=Db,nD=jb,aD=zb,lD=Rb,iD=Bb,rD=Ub;function Pb(e){var n,l,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(l=Pb(e[n]))&&(r&&(r+=" "),r+=l)}else for(l in e)e[l]&&(r&&(r+=" "),r+=l);return r}function sD(){for(var e,n,l=0,r="",s=arguments.length;l<s;l++)(e=arguments[l])&&(n=Pb(e))&&(r&&(r+=" "),r+=n);return r}function St(...e){return sD(e)}function Re(e){return p.jsx("button",{type:e.type??"button",onClick:e.onClick,className:St("wb-button",e.className,e.disabled&&"opacity-50 cursor-not-allowed"),"data-variant":e.variant==="default"?void 0:e.variant,title:e.title,disabled:e.disabled,children:e.children})}function Ui(e){return p.jsxs("section",{className:St("wb-panel rounded-2xl",e.className),children:[(e.title||e.headerRight)&&p.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-[var(--wb-border-muted)] px-4 py-3",children:[p.jsx("div",{className:"text-sm font-semibold tracking-wide text-[var(--wb-text)]",children:e.title}),e.headerRight?p.jsx("div",{className:"flex items-center gap-2",children:e.headerRight}):null]}),p.jsx("div",{className:"min-h-0",children:e.children})]})}function xt(e){return p.jsx("label",{className:St("mb-1 block text-xs font-medium uppercase tracking-wide text-[var(--wb-muted)]",e.className),children:e.children})}function zt(e){return p.jsx("button",{type:"button",className:St("wb-chip",e.className),"data-active":e.active?"true":"false",onClick:e.onClick,title:e.title,children:e.children})}function Ao(e){const n=e.delta,l=n==null?"":n>0?"text-emerald-300":n<0?"text-rose-300":"text-slate-300";return p.jsxs("div",{className:St("wb-card p-3",e.className),children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:e.label}),p.jsx("div",{className:"mt-1 text-lg font-semibold",children:e.value}),n!=null?p.jsxs("div",{className:St("mt-1 text-xs",l),children:[n>0?"+":"",Math.round(n)]}):null]})}function qi(e){return p.jsx("div",{className:St("wb-scrollbar min-h-0 overflow-auto",e.className),children:e.children})}function Hb(e){return p.jsx(eD,{open:e.open,onOpenChange:e.onOpenChange,children:p.jsxs(tD,{children:[p.jsx(nD,{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm"}),p.jsxs(aD,{className:St("fixed left-1/2 top-1/2 z-50 w-[min(95vw,1100px)] -translate-x-1/2 -translate-y-1/2 rounded-2xl border border-[var(--wb-border)] bg-[#0d1325] shadow-2xl",e.className),children:[p.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-[var(--wb-border-muted)] px-5 py-4",children:[p.jsxs("div",{children:[p.jsx(lD,{className:"text-base font-semibold",children:e.title}),e.description?p.jsx(iD,{className:"mt-1 text-sm text-[var(--wb-muted)]",children:e.description}):null]}),p.jsx(rD,{asChild:!0,children:p.jsx("button",{className:"rounded-lg border border-[var(--wb-border)] p-2 hover:bg-white/5","aria-label":"Close",children:p.jsx(Y_,{size:16})})})]}),p.jsx("div",{className:"max-h-[70vh] overflow-auto px-5 py-4",children:e.children}),e.footer?p.jsx("div",{className:"border-t border-[var(--wb-border-muted)] px-5 py-4",children:e.footer}):null]})]})})}function Rn(e){return p.jsxs("div",{children:[p.jsx(xt,{children:e.label}),p.jsx("input",{className:"wb-input",type:"number",value:e.value??"",min:e.min,max:e.max,step:e.step??1,placeholder:e.placeholder,onChange:n=>{const l=n.target.value.trim();e.onChange(l===""?null:Number(l))}})]})}const oD={bow:"0 0",spear:"9.090909090909088% 0",wand:"18.181818181818183% 0",dagger:"27.27272727272727% 0",relik:"36.36363636363637% 0",helmet:"45.45454545454546% 0",chestplate:"54.54545454545454% 0",leggings:"63.63636363636363% 0",boots:"72.72727272727272% 0",ring:"81.81818181818181% 0",bracelet:"90.90909090909092% 0",necklace:"100% 0"};function cD(e){return e.category==="weapon"?e.type:e.category}function uD(e){const n=cD(e.item),l=oD[n],r="./media/items/new.png";return l?p.jsx("div",{className:"relative h-9 w-9 shrink-0 overflow-hidden rounded-lg border border-[var(--wb-border-muted)] bg-black/20",title:`${e.item.type} icon`,children:p.jsx("div",{"aria-hidden":!0,className:"absolute inset-[3px] rounded-[6px]",style:{backgroundImage:`url(${r})`,backgroundPosition:l,backgroundSize:"1200% 100%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}):p.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg border border-[var(--wb-border-muted)] bg-black/20 text-xs text-[var(--wb-muted)]",children:"?"})}function dD(e){switch(e){case"Mythic":return"text-violet-300";case"Fabled":return"text-rose-300";case"Legendary":return"text-cyan-300";case"Rare":return"text-fuchsia-300";case"Unique":return"text-amber-300";case"Set":return"text-emerald-300";default:return"text-slate-200"}}function fD(e){const n=[{label:"S",value:e.numeric.reqStr},{label:"D",value:e.numeric.reqDex},{label:"I",value:e.numeric.reqInt},{label:"F",value:e.numeric.reqDef},{label:"A",value:e.numeric.reqAgi}].filter(l=>l.value>0);return n.length===0?null:n.map(l=>`${l.label}${l.value}`).join(" ")}function hD(e){const n=[{label:"+S",value:e.numeric.spStr},{label:"+D",value:e.numeric.spDex},{label:"+I",value:e.numeric.spInt},{label:"+F",value:e.numeric.spDef},{label:"+A",value:e.numeric.spAgi}].filter(l=>l.value!==0);return n.length===0?null:n.map(l=>`${l.label}${l.value}`).join(" ")}function mD(e){const n=e.legacyRaw,l=[["N",typeof n.nDam=="string"?n.nDam:""],["E",typeof n.eDam=="string"?n.eDam:""],["T",typeof n.tDam=="string"?n.tDam:""],["W",typeof n.wDam=="string"?n.wDam:""],["F",typeof n.fDam=="string"?n.fDam:""],["A",typeof n.aDam=="string"?n.aDam:""]].filter(([,r])=>r&&r!=="0-0");return l.length===0?null:l.map(([r,s])=>`${r}:${s}`).join("  ")}function gD(e){const n=[];return e.numeric.baseDps>0&&n.push(`DPS ${Math.round(e.numeric.baseDps)}`),e.numeric.hp+e.numeric.hpBonus!==0&&n.push(`HP ${Math.round(e.numeric.hp+e.numeric.hpBonus)}`),e.numeric.mr!==0&&n.push(`MR ${e.numeric.mr}`),e.numeric.ms!==0&&n.push(`MS ${e.numeric.ms}`),e.numeric.spd!==0&&n.push(`WS ${e.numeric.spd}`),e.powderSlots>0&&n.push(`Powders ${e.powderSlots}`),e.atkSpd&&n.push(`AS ${e.atkSpd}`),n.slice(0,6)}function vc(e){const n=p0({id:e.dragData?`drag:${e.dragData.kind}:${e.item.id}:${e.dragData.sourceSlot??e.dragData.sourceCategory??""}`:`item:${e.item.id}`,data:e.dragData?{dragItem:e.dragData}:void 0}),l=e.dragData?{transform:Ho.Translate.toString(n.transform),opacity:n.isDragging?.45:1}:void 0,r=e.showDetails?fD(e.item):null,s=e.showDetails?hD(e.item):null,c=e.showDetails?mD(e.item):null,d=e.showDetails?gD(e.item):[];return p.jsxs("div",{ref:e.dragData?n.setNodeRef:void 0,style:l,className:St("wb-card",e.dense?"p-2":e.compact?"p-2.5":"p-3",n.isDragging&&"ring-2 ring-emerald-300/40"),onMouseEnter:()=>e.onHover?.(!0),onMouseLeave:()=>e.onHover?.(!1),children:[p.jsxs("div",{className:St("flex items-start gap-2",e.dense&&"gap-1.5"),children:[e.dragData?p.jsx("button",{type:"button",...n.listeners,...n.attributes,className:"mt-0.5 rounded-md border border-[var(--wb-border)] p-1 text-[var(--wb-muted)] hover:bg-white/5","aria-label":`Drag ${e.item.displayName}`,children:p.jsx(S_,{size:14})}):null,p.jsx(uD,{item:e.item}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[p.jsx("div",{className:St("truncate text-sm font-semibold leading-tight",dD(e.item.tier)),children:e.item.displayName}),e.badge?p.jsx("span",{className:"wb-chip",children:e.badge}):null,e.locked?p.jsxs("span",{className:"wb-chip inline-flex items-center gap-1",children:[p.jsx(x0,{size:11})," Locked"]}):null]}),p.jsxs("div",{className:St("mt-1 flex flex-wrap gap-y-1 text-[var(--wb-muted)]",e.dense?"gap-x-2 text-xs":"gap-x-3 text-xs"),children:[p.jsx("span",{children:e.item.type}),p.jsxs("span",{children:["Lv ",e.item.level]}),e.dense?null:p.jsx("span",{children:e.item.tier}),!e.dense&&e.item.classReq?p.jsx("span",{children:e.item.classReq}):null,!e.dense&&e.item.majorIds.length>0?p.jsxs("span",{children:["MID ",e.item.majorIds.length]}):null,e.dense&&e.item.majorIds.length>0?p.jsxs("span",{children:["M",e.item.majorIds.length]}):null]}),e.showDetails?p.jsxs("div",{className:St("mt-2 space-y-1",e.dense?"text-[11px]":"text-xs"),children:[(r||s)&&p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1 text-[var(--wb-muted)]",children:[r?p.jsxs("span",{className:"mr-2",children:["Req ",r]}):null,s?p.jsxs("span",{children:["SP ",s]}):null]}),d.length>0?p.jsx("div",{className:"flex flex-wrap gap-1",children:d.map(h=>p.jsx("span",{className:"wb-chip text-[11px]",children:h},h))}):null,c?p.jsx("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1 font-mono text-[11px] leading-relaxed text-[var(--wb-muted)]",children:c}):null,e.item.majorIds.length>0?p.jsxs("div",{className:"truncate text-[var(--wb-muted)]",children:["Major IDs: ",e.item.majorIds.join(", ")]}):null]}):null,e.compact?null:p.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["DPS ",Math.round(e.item.roughScoreFields.baseDps)]}),p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["EHP ",Math.round(e.item.roughScoreFields.ehpProxy)]}),p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["Off ",Math.round(e.item.roughScoreFields.offense)]}),p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["SP ",Math.round(e.item.roughScoreFields.skillPointTotal)]})]})]})]}),(e.onPin||e.onEquip||e.onRemove)&&p.jsxs("div",{className:St("mt-2 flex flex-wrap",e.dense?"gap-1":"gap-2"),children:[e.onPin?p.jsxs(Re,{className:St("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),variant:"ghost",onClick:e.onPin,children:[p.jsx(M_,{size:12,className:"mr-1 inline"}),"Pin"]}):null,e.onEquip?p.jsxs(Re,{className:St("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),onClick:e.onEquip,children:[p.jsx(A_,{size:12,className:"mr-1 inline"}),"Equip"]}):null,e.onRemove?p.jsx(Re,{className:St("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),variant:"ghost",onClick:e.onRemove,children:"Remove"}):null]})]})}const Zb="workbench-search-presets:v1",pD=["level","baseDps","ehpProxy","offenseScore","skillPointTotal","powderSlots"];function vD(){try{const e=window.localStorage.getItem(Zb);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}}function yD(e){window.localStorage.setItem(Zb,JSON.stringify(e))}function Sy(e,n){return e.includes(n)?e.filter(l=>l!==n):[...e,n]}function bD(e){const n=w.useRef(null),l=e.result?.rows??[],r=w.useDeferredValue(l),s=SC({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>e.state.viewMode==="grid"?178:208,overscan:6});return p.jsxs("div",{className:"min-h-0 flex-1",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-[var(--wb-muted)]",children:[p.jsx("span",{children:e.loading?"Searching...":e.result?`${e.result.total.toLocaleString()} results`:"Loading..."}),p.jsxs("span",{children:[e.state.sort,e.state.sortDescending?" ":" "]})]}),p.jsx("div",{ref:n,className:"wb-scrollbar h-[calc(100vh-26rem)] overflow-auto rounded-xl border border-[var(--wb-border-muted)] bg-black/10",children:p.jsx("div",{style:{height:s.getTotalSize(),position:"relative"},children:s.getVirtualItems().map(c=>{const d=r[c.index],h=e.catalog.itemsById.get(d.id);if(!h)return null;const g=e.selectedSlot!=null&&sa(e.selectedSlot)===h.category;return p.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${c.start}px)`,padding:"8px"},children:p.jsx(vc,{item:h,dragData:{kind:"search",itemId:h.id},onPin:()=>e.onPin(h.id),onEquip:()=>e.onEquip(h.id),onHover:m=>e.onHover(m?h.id:null,m?e.selectedSlot:null),badge:g?`Fits ${e.selectedSlot}`:void 0})},d.id)})})})]})}function xD(e){const[n,l]=w.useState(()=>typeof window>"u"?[]:vD()),r=w.useMemo(()=>e.catalog.facetsMeta.majorIds.slice(0,20),[e.catalog]),s=e.result?.facetCounts;w.useEffect(()=>{typeof window<"u"&&yD(n)},[n]);const c=d=>e.setState(PM(e.state,d));return p.jsx(Ui,{className:"flex min-h-0 flex-col",title:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(j_,{size:15}),"Advanced Item Search"]}),headerRight:p.jsxs(Re,{className:"px-2 py-1 text-xs",onClick:e.onOpenAutoBuilder,children:[p.jsx(S0,{size:12,className:"mr-1 inline"}),"Build Solver"]}),children:p.jsxs("div",{className:"flex min-h-0 flex-col gap-3 p-3",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Search Text"}),p.jsx("input",{className:"wb-input",placeholder:"Name, lore, major ID...",value:e.state.text,onChange:d=>c({text:d.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Sort"}),p.jsxs("select",{className:"wb-select",value:e.state.sort,onChange:d=>c({sort:d.target.value}),children:[p.jsx("option",{value:"relevance",children:"Relevance"}),p.jsx("option",{value:"level",children:"Level"}),p.jsx("option",{value:"baseDps",children:"Base DPS"}),p.jsx("option",{value:"ehpProxy",children:"EHP Proxy"}),p.jsx("option",{value:"offenseScore",children:"Offense Score"}),p.jsx("option",{value:"skillPointTotal",children:"Skill Point Total"})]})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"View"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(zt,{active:e.state.viewMode==="list",onClick:()=>c({viewMode:"list"}),children:"List"}),p.jsx(zt,{active:e.state.viewMode==="grid",onClick:()=>c({viewMode:"grid"}),children:"Grid"}),p.jsx(zt,{active:e.state.sortDescending,onClick:()=>c({sortDescending:!e.state.sortDescending}),title:"Toggle descending",children:e.state.sortDescending?"Desc":"Asc"})]})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:[p.jsx(k_,{size:13}),"Category"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:ul.map(d=>p.jsxs(zt,{active:e.state.categories.includes(d),onClick:()=>c({categories:Sy(e.state.categories,d)}),children:[Xf(d),s?.categories[d]?` (${s.categories[d]})`:""]},d))})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Wearable At Level"}),p.jsx("input",{className:"wb-input",type:"number",min:1,max:106,value:e.state.onlyWearableAtLevel??"",onChange:d=>{const h=d.target.value.trim();c({onlyWearableAtLevel:h?Number(h):null})}})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Class Filter"}),p.jsxs("select",{className:"wb-select",value:e.state.classReqs[0]??"",onChange:d=>{const h=d.target.value;c({classReqs:h?[h]:[]})},children:[p.jsx("option",{value:"",children:"Any"}),e.catalog.facetsMeta.classReqs.map(d=>p.jsx("option",{value:d,children:d},d))]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(zt,{active:e.state.onlyClassCompatible,onClick:()=>c({onlyClassCompatible:!e.state.onlyClassCompatible}),children:"Only class-compatible"}),p.jsx(zt,{active:e.state.excludeRestricted,onClick:()=>c({excludeRestricted:!e.state.excludeRestricted}),children:"Exclude restricted"})]}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:pD.map(d=>{const h=e.state.numericRanges[d]??{},g=e.catalog.facetsMeta.numericRanges[d==="powderSlots"?"slots":d];return p.jsxs("div",{className:"wb-card p-2",children:[p.jsx("div",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:d}),p.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[p.jsx("input",{className:"wb-input",type:"number",placeholder:g?String(Math.floor(g.min)):"min",value:h.min??"",onChange:m=>{const b=m.target.value.trim();c({numericRanges:{...e.state.numericRanges,[d]:{...h,min:b===""?void 0:Number(b)}}})}}),p.jsx("input",{className:"wb-input",type:"number",placeholder:g?String(Math.ceil(g.max)):"max",value:h.max??"",onChange:m=>{const b=m.target.value.trim();c({numericRanges:{...e.state.numericRanges,[d]:{...h,max:b===""?void 0:Number(b)}}})}})]})]},d)})}),p.jsxs("div",{children:[p.jsx(xt,{children:"Major IDs (quick picks)"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(d=>p.jsx(zt,{active:e.state.majorIds.includes(d),onClick:()=>c({majorIds:Sy(e.state.majorIds,d)}),title:d,children:d},d))})]}),p.jsxs("div",{className:"wb-card p-2",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Filter Presets"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>{const d=window.prompt("Preset name?")?.trim();if(!d)return;const h=[{name:d,state:e.state},...n.filter(g=>g.name.toLowerCase()!==d.toLowerCase())].slice(0,20);l(h)},children:"Save"}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.setState(Gn),children:"Reset"})]})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?p.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"No saved presets yet."}):n.map(d=>p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(zt,{onClick:()=>e.setState(d.state),children:d.name}),p.jsx("button",{className:"rounded-md border border-[var(--wb-border)] px-1.5 py-0.5 text-xs text-[var(--wb-muted)] hover:bg-white/5",onClick:()=>l(h=>h.filter(g=>g.name!==d.name)),title:`Delete ${d.name}`,children:"x"})]},d.name))})]}),p.jsx(bD,{catalog:e.catalog,result:e.result,selectedSlot:e.selectedSlot,state:e.state,loading:e.loading,onPin:e.onPin,onEquip:e.onEquip,onHover:e.onHover})]})})}const SD={slotStatus:{},warnings:{messages:[]},aggregated:{hpTotal:0,hprTotal:0,mr:0,ms:0,ls:0,speed:0,skillPoints:{str:0,dex:0,int:0,def:0,agi:0},skillReqs:{str:0,dex:0,int:0,def:0,agi:0},defenses:{e:0,t:0,w:0,f:0,a:0},offense:{baseDps:0,spellPct:0,spellRaw:0,meleePct:0,meleeRaw:0,offenseScore:0}},derived:{dpsProxy:0,ehpProxy:0,reqTotal:0,skillPointTotal:0,legacyBaseDps:0,legacyEhp:0,legacyEhpNoAgi:0,skillpointFeasible:!0,assignedSkillPointsRequired:0}};function wy(e){let n=Number.isFinite(e)?e:0;if(n<=0)return 0;n>=150&&(n=150);const l=.9908;return l/(1-l)*(1-Math.pow(l,n))/100}const wD=.867,_D=.951,ED=90;function TD(e){return Math.max(1,Math.min(106,Math.round(e||1)))*5+5}function ND(e){const n=Math.max(1,Math.min(106,Math.round(e||1)));return n>=101?200:(n-1)*2}function MD(e){switch(e){case"relik":return .6;case"bow":return .7;case"wand":return .8;case"dagger":case"spear":return 1;default:return 1}}function CD(e){const n=Math.max(5,e.totalHp),l=wy(e.defSkillPoints)*wD,r=wy(e.agiSkillPoints)*_D,c=2-MD(e.weaponType),h=(100-ED)/100*r+(1-r)*(1-l),g=1-l,m=n/Math.max(1e-9,h)/Math.max(1e-9,c),b=n/Math.max(1e-9,g)/Math.max(1e-9,c);return{withAgi:m,noAgi:b}}function AD(e){return[e.numeric.reqStr,e.numeric.reqDex,e.numeric.reqInt,e.numeric.reqDef,e.numeric.reqAgi]}function DD(e){return[e.numeric.spStr,e.numeric.spDex,e.numeric.spInt,e.numeric.spDef,e.numeric.spAgi]}function jD(e,n){return[e[0]+n[0],e[1]+n[1],e[2]+n[2],e[3]+n[3],e[4]+n[4]]}function zD(e){return e[0]+e[1]+e[2]+e[3]+e[4]}function _y(e,n){for(let l=0;l<5;l++)if(e[l]>n[l])return!1;return!0}function kD(e,n){for(const l of e)if(_y(l.assigned,n.assigned))return;for(let l=e.length-1;l>=0;l--)_y(n.assigned,e[l].assigned)&&e.splice(l,1);e.push(n)}function RD(e,n,l={}){if(e.length===0)return{feasible:!0,assignedTotal:0,assignedByStat:[0,0,0,0,0]};const r=ND(n),s=l.extraBaseSkillPoints??[0,0,0,0,0],c=e.length,d=e.map(AD),h=e.map(DD),g=1<<c,m=Array.from({length:g},()=>[0,0,0,0,0]);for(let D=1;D<g;D++){const E=D&-D,A=Math.log2(E)|0;m[D]=jD(m[D^E],h[A])}const b=new Array(g);b[0]=[{assigned:[0,0,0,0,0],assignedTotal:0}];for(let D=0;D<g;D++){const E=b[D];if(!E||E.length===0)continue;const A=m[D];for(const N of E)for(let q=0;q<c;q++){if((D&1<<q)!==0)continue;const B=[...N.assigned];let P=!0;for(let $=0;$<5;$++){const te=N.assigned[$]+A[$]+(s[$]??0),ie=d[q][$];if(ie>te&&(B[$]+=ie-te),B[$]>100){P=!1;break}}if(!P)continue;const L=zD(B);if(L>r)continue;const j=D|1<<q,T=b[j]??=[];kD(T,{assigned:B,assignedTotal:L})}}const y=b[g-1];if(!y||y.length===0)return{feasible:!1,assignedTotal:1/0,assignedByStat:null};let x=1/0,_=null;for(const D of y)D.assignedTotal<x&&(x=D.assignedTotal,_=[...D.assigned]);return{feasible:Number.isFinite(x),assignedTotal:x,assignedByStat:Number.isFinite(x)?_:null}}function oh(e,n,l,r={}){const s=[];for(const c of Je){const d=e[c];if(d==null)continue;const h=n.itemsById.get(d);h&&s.push(h)}return RD(s,l,r)}function OD(e,n){const l={};for(const r of Je){const s=e.slots[r];if(s==null)continue;const c=n.itemsById.get(s);c&&(l[r]=c)}return l}function ec(e,n,l={}){const r=OD(e,n),s=structuredClone(SD),c=s.warnings.messages;let d=null;for(const A of Je){const N=r[A];if(!N)continue;A==="weapon"&&(d=N.type),s.aggregated.hpTotal+=N.numeric.hp+N.numeric.hpBonus,s.aggregated.hprTotal+=N.numeric.hprRaw+N.numeric.hprPct,s.aggregated.mr+=N.numeric.mr,s.aggregated.ms+=N.numeric.ms,s.aggregated.ls+=N.numeric.ls,s.aggregated.speed+=N.numeric.spd,s.aggregated.skillPoints.str+=N.numeric.spStr,s.aggregated.skillPoints.dex+=N.numeric.spDex,s.aggregated.skillPoints.int+=N.numeric.spInt,s.aggregated.skillPoints.def+=N.numeric.spDef,s.aggregated.skillPoints.agi+=N.numeric.spAgi,s.aggregated.skillReqs.str=Math.max(s.aggregated.skillReqs.str,N.numeric.reqStr),s.aggregated.skillReqs.dex=Math.max(s.aggregated.skillReqs.dex,N.numeric.reqDex),s.aggregated.skillReqs.int=Math.max(s.aggregated.skillReqs.int,N.numeric.reqInt),s.aggregated.skillReqs.def=Math.max(s.aggregated.skillReqs.def,N.numeric.reqDef),s.aggregated.skillReqs.agi=Math.max(s.aggregated.skillReqs.agi,N.numeric.reqAgi),s.aggregated.defenses.e+=N.numeric.eDef,s.aggregated.defenses.t+=N.numeric.tDef,s.aggregated.defenses.w+=N.numeric.wDef,s.aggregated.defenses.f+=N.numeric.fDef,s.aggregated.defenses.a+=N.numeric.aDef,s.aggregated.offense.baseDps+=N.numeric.baseDps,s.aggregated.offense.spellPct+=N.numeric.sdPct,s.aggregated.offense.spellRaw+=N.numeric.sdRaw,s.aggregated.offense.meleePct+=N.numeric.mdPct,s.aggregated.offense.meleeRaw+=N.numeric.mdRaw,s.aggregated.offense.offenseScore+=N.roughScoreFields.offense;const q=N.classReq,B=!q||!e.characterClass||q===e.characterClass,P=N.level<=e.level,L=N.numeric.reqStr<=100&&N.numeric.reqDex<=100&&N.numeric.reqInt<=100&&N.numeric.reqDef<=100&&N.numeric.reqAgi<=100;s.slotStatus[A]={classOk:B,levelOk:P,skillReqsMet:L}}!e.characterClass&&d&&(e.characterClass=Vo(d));for(const A of Je){const N=r[A];N&&(sa(A)!==N.category&&c.push(`${A} contains incompatible item type (${N.type}).`),N.level>e.level&&c.push(`${N.displayName} requires level ${N.level}.`),e.characterClass&&N.classReq&&N.classReq!==e.characterClass&&c.push(`${N.displayName} requires ${N.classReq}.`),(N.restricted||N.deprecated)&&c.push(`${N.displayName} is restricted/deprecated.`))}const h=s.aggregated.skillReqs.str+s.aggregated.skillReqs.dex+s.aggregated.skillReqs.int+s.aggregated.skillReqs.def+s.aggregated.skillReqs.agi,g=s.aggregated.skillPoints.str+s.aggregated.skillPoints.dex+s.aggregated.skillPoints.int+s.aggregated.skillPoints.def+s.aggregated.skillPoints.agi,m=oh(e.slots,n,e.level,l.skillpointFeasibility),b=s.aggregated.offense.baseDps+s.aggregated.offense.spellPct*1.3+s.aggregated.offense.spellRaw*.12+s.aggregated.offense.meleePct*1.1+s.aggregated.offense.meleeRaw*.12+s.aggregated.speed*.8,y=s.aggregated.defenses.e+s.aggregated.defenses.t+s.aggregated.defenses.w+s.aggregated.defenses.f+s.aggregated.defenses.a,x=s.aggregated.hpTotal+y*.45+s.aggregated.hprTotal*2+Math.max(0,s.aggregated.skillPoints.def)*12+Math.max(0,s.aggregated.skillPoints.agi)*10,_=s.aggregated.offense.baseDps,D=TD(e.level)+s.aggregated.hpTotal,E=CD({totalHp:D,defSkillPoints:s.aggregated.skillPoints.def,agiSkillPoints:s.aggregated.skillPoints.agi,weaponType:d});return s.derived={dpsProxy:b,ehpProxy:x,reqTotal:h,skillPointTotal:g,legacyBaseDps:_,legacyEhp:E.withAgi,legacyEhpNoAgi:E.noAgi,skillpointFeasible:m.feasible,assignedSkillPointsRequired:Number.isFinite(m.assignedTotal)?m.assignedTotal:0},m.feasible||c.push(`Skill requirements are not satisfiable at level ${e.level} (estimated assigned SP exceeds available or equip order is invalid).`),s}function BD(e,n){return{dpsProxy:n.derived.dpsProxy-e.derived.dpsProxy,ehpProxy:n.derived.ehpProxy-e.derived.ehpProxy,legacyBaseDps:n.derived.legacyBaseDps-e.derived.legacyBaseDps,legacyEhp:n.derived.legacyEhp-e.derived.legacyEhp,hpTotal:n.aggregated.hpTotal-e.aggregated.hpTotal,speed:n.aggregated.speed-e.aggregated.speed,skillPointTotal:n.derived.skillPointTotal-e.derived.skillPointTotal}}function rt(e){return Number.isFinite(e)?Math.round(e).toLocaleString():"-"}function LD(e){const n=e.snapshot.slots.weapon;return n==null?null:e.catalog.itemsById.get(n)??null}function UD(e){const n=e.snapshot.comparePreview;if(n.itemId!=null){const r=e.catalog.itemsById.get(n.itemId);if(r){const s=n.slot?`Compare Preview  ${Fo(n.slot)}`:"Compare Preview";return{item:r,source:s}}}if(e.snapshot.selectedSlot){const r=e.snapshot.slots[e.snapshot.selectedSlot];if(r!=null){const s=e.catalog.itemsById.get(r);if(s)return{item:s,source:`Selected Slot  ${Fo(e.snapshot.selectedSlot)}`}}}const l=LD(e);return l?{item:l,source:"Equipped Weapon"}:null}function qD(e){const[n,l]=w.useState(!1),r=e.compareSummary?BD(e.summary,e.compareSummary):null,s=e.spellPreview?.melee??null,c=UD(e);return p.jsx(Ui,{className:"flex min-h-0 flex-col",title:"Live Build Summary",headerRight:p.jsxs("div",{className:"flex gap-1",children:[p.jsxs(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:e.actions.onOpenAbilityTree,children:[p.jsx(Gf,{size:12,className:"mr-1"}),"Ability Tree"]}),p.jsx(Re,{className:"px-2 py-1 text-xs",onClick:e.actions.onOpenAutoBuilder,children:"Build Solver"})]}),children:p.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[c?p.jsxs("div",{className:"wb-card p-2.5",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Focused Item"}),p.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:c.source})]}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>l(d=>!d),children:n?"Hide Stats":"Show Stats"})]}),p.jsx(vc,{item:c.item,compact:!0,dense:!0,showDetails:n})]}):p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Select or hover an item to inspect it here."}),e.abilityTreeSummary?p.jsxs("div",{className:["rounded-xl border p-3 text-xs",e.abilityTreeSummary.hasErrors?"border-amber-400/30 bg-amber-400/8 text-amber-100":"border-emerald-400/20 bg-emerald-400/8 text-emerald-100"].join(" "),children:[p.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2",children:[p.jsxs("div",{className:"font-semibold",children:["Ability Tree (",e.abilityTreeSummary.className,")"]}),p.jsx(Re,{variant:"ghost",className:"px-2 py-1 text-xs",onClick:e.actions.onOpenAbilityTree,children:"Edit"})]}),p.jsxs("div",{children:["AP ",e.abilityTreeSummary.apUsed,"/",e.abilityTreeSummary.apCap,"  ",e.abilityTreeSummary.selectedCount," abilities selected"]}),e.abilityTreeSummary.hasErrors?p.jsx("div",{className:"mt-1",children:"Tree has validation issues (dependencies/blockers/AP)."}):null]}):null,p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Melee DPS"}),p.jsxs("div",{className:"mt-1 flex items-end justify-between gap-2",children:[p.jsx("div",{className:"text-xl font-semibold text-cyan-100",children:rt(s?.dps??e.summary.derived.legacyBaseDps)}),r?.legacyBaseDps!=null?p.jsxs("div",{className:["text-xs",r.legacyBaseDps>0?"text-emerald-300":r.legacyBaseDps<0?"text-rose-300":"text-[var(--wb-muted)]"].join(" "),children:[r.legacyBaseDps>0?"+":"",Math.round(r.legacyBaseDps).toLocaleString()]}):null]}),p.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:[s?`Legacy melee DPS (${s.attackSpeedTier})  Per Attack ${rt(s.perAttackAverage)}`:"Legacy melee DPS preview unavailable (equip a weapon and valid ability tree selection)."," "," Melee % / Raw ",rt(e.summary.aggregated.offense.meleePct)," / ",rt(e.summary.aggregated.offense.meleeRaw)]})]}),e.spellPreview?p.jsxs("div",{className:"wb-card p-3",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Spells (ATree)"}),p.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[e.spellPreview.spells.length," entries"]})]}),e.spellPreview.notes.length>0?p.jsx("div",{className:"mb-2 rounded-lg border border-amber-400/20 bg-amber-400/5 p-2 text-xs text-amber-100",children:e.spellPreview.notes.join(" ")}):null,e.spellPreview.spells.length===0?p.jsx("div",{className:"rounded-lg border border-dashed border-[var(--wb-border-muted)] p-2 text-xs text-[var(--wb-muted)]",children:"No spell damage entries yet. Select active ability-tree spell nodes (roots / spell upgrades)."}):p.jsx(qi,{className:"max-h-[36vh] lg:max-h-[44vh]",children:p.jsx("div",{className:"grid gap-2 pr-1",children:e.spellPreview.spells.map(d=>p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs",children:[p.jsxs("div",{className:"font-semibold",children:[d.name,p.jsxs("span",{className:"ml-1 text-[var(--wb-muted)]",children:["(",d.displayPartName,")"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:d.isHealing?"text-emerald-200":"text-cyan-100",children:[Math.round(d.averageDisplayValue).toLocaleString()," ",d.isHealing?"heal":"avg dmg"]}),d.manaCost!=null?p.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[d.manaCost.toFixed(2)," mana"]}):null]})]}),p.jsx("div",{className:"mt-1 grid gap-1 text-xs text-[var(--wb-muted)]",children:d.parts.filter(h=>h.display).map(h=>p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx("span",{className:"truncate",children:h.name}),p.jsx("span",{className:h.type==="heal"?"text-emerald-200":"text-cyan-100",children:Math.round(h.averageTotal??0).toLocaleString()})]},h.name))})]},`${d.baseSpell}-${d.name}`))})})]}):null,p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(Ao,{label:"Base DPS",value:rt(e.summary.derived.legacyBaseDps),delta:r?.legacyBaseDps??null}),p.jsx(Ao,{label:"Effective HP",value:rt(e.summary.derived.legacyEhp),delta:r?.legacyEhp??null}),p.jsx(Ao,{label:"Req Total",value:rt(e.summary.derived.reqTotal)}),p.jsx(Ao,{label:"SP Total",value:rt(e.summary.derived.skillPointTotal),delta:r?.skillPointTotal??null})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 px-3 py-2",children:[p.jsx("span",{className:"text-[var(--wb-muted)]",children:"SP Feasibility:"})," ",p.jsx("span",{className:e.summary.derived.skillpointFeasible?"text-emerald-200":"text-rose-200",children:e.summary.derived.skillpointFeasible?"Wearable":"Invalid / Not Wearable"})]}),p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 px-3 py-2",children:[p.jsx("span",{className:"text-[var(--wb-muted)]",children:"Assigned SP Needed:"})," ",p.jsx("span",{children:rt(e.summary.derived.assignedSkillPointsRequired)})]})]}),e.compareSummary&&e.compareSlot?p.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-400/8 p-3 text-xs text-emerald-100",children:["Compare preview for ",p.jsx("b",{children:Fo(e.compareSlot)})]}):null,p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Offense"}),p.jsxs("div",{className:"mt-2 grid gap-1 text-xs",children:[p.jsxs("div",{children:["Legacy Base DPS: ",rt(e.summary.derived.legacyBaseDps)]}),p.jsxs("div",{children:["Heuristic DPS Proxy: ",rt(e.summary.derived.dpsProxy)]}),p.jsxs("div",{children:["Spell % / Raw: ",rt(e.summary.aggregated.offense.spellPct)," / ",rt(e.summary.aggregated.offense.spellRaw)]}),p.jsxs("div",{children:["Melee % / Raw: ",rt(e.summary.aggregated.offense.meleePct)," / ",rt(e.summary.aggregated.offense.meleeRaw)]})]})]}),p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Defense & Utility"}),p.jsxs("div",{className:"mt-2 grid gap-1 text-xs",children:[p.jsxs("div",{children:["Legacy EHP (AGI): ",rt(e.summary.derived.legacyEhp)]}),p.jsxs("div",{children:["Legacy EHP (No AGI): ",rt(e.summary.derived.legacyEhpNoAgi)]}),p.jsxs("div",{children:["Heuristic EHP Proxy: ",rt(e.summary.derived.ehpProxy)]}),p.jsxs("div",{children:["HP Total: ",rt(e.summary.aggregated.hpTotal)]}),p.jsxs("div",{children:["HPR Total: ",rt(e.summary.aggregated.hprTotal)]}),p.jsxs("div",{children:["MR / MS / LS: ",rt(e.summary.aggregated.mr)," / ",rt(e.summary.aggregated.ms)," / ",rt(e.summary.aggregated.ls)]}),p.jsxs("div",{children:["Walk Speed: ",rt(e.summary.aggregated.speed)]})]})]})]}),p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Workbench primary KPIs use legacy-compatible metrics (Base DPS + Effective HP). Ability tree editing is now in Workbench, but these summary metrics still exclude ability-tree effects for now. Proxy values are still used internally for search/Build Solver heuristics."}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Warnings"}),e.summary.warnings.messages.length===0?p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-emerald-200",children:"No active warnings."}):p.jsx(qi,{className:"max-h-32",children:p.jsx("div",{className:"grid gap-2",children:e.summary.warnings.messages.map((d,h)=>p.jsx("div",{className:"rounded-xl border border-amber-400/30 bg-amber-400/8 p-2 text-xs text-amber-100",children:d},`${d}-${h}`))})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.actions.onCopyLegacyLink,disabled:!e.snapshot.legacyHash,children:[p.jsx(Vf,{size:14,className:"mr-2"}),"Legacy Link"]}),p.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.actions.onOpenLegacyBuilder,children:[p.jsx(v_,{size:14,className:"mr-2"}),"Open Legacy"]})]})]})})}function Ey(e){const{isOver:n,setNodeRef:l}=v0({id:`slot:${e.slot}`,data:{droppableType:"slot",slot:e.slot}}),r=e.store.slots[e.slot],s=r!=null?e.catalog.itemsById.get(r):void 0,c=p0({id:s?`slot-item:${e.slot}:${s.id}`:`slot-empty:${e.slot}`,data:s?{dragItem:{kind:"slot",itemId:s.id,sourceSlot:e.slot}}:void 0,disabled:!s});return p.jsxs("div",{ref:l,className:St("rounded-xl border p-2",n?"border-emerald-400/70 bg-emerald-400/8":"border-[var(--wb-border-muted)] bg-black/15"),onMouseEnter:()=>e.store.setSelectedSlot(e.slot),children:[p.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:Fo(e.slot)}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.toggleLock(e.slot),title:"Lock slot",children:p.jsx(x0,{size:12,className:St(e.store.locks[e.slot]&&"text-emerald-300")})}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.moveSlotToBin(e.slot),title:"Move to bin",children:p.jsx(P_,{size:12})})]})]}),s?p.jsx("div",{ref:c.setNodeRef,style:{transform:Ho.Translate.toString(c.transform),opacity:c.isDragging?.45:1},...c.listeners,...c.attributes,children:p.jsx(vc,{item:s,compact:!0,dense:!0,showDetails:e.showItemDetails,dragData:{kind:"slot",itemId:s.id,sourceSlot:e.slot},locked:e.store.locks[e.slot],onHover:d=>e.onHoverItem?.(d?s.id:null,d?e.slot:null)})}):p.jsxs("div",{className:"rounded-lg border border-dashed border-[var(--wb-border)] px-3 py-3 text-center text-xs text-[var(--wb-muted)]",children:["Drop a ",sa(e.slot)," item here"]})]})}function Ty(e){const{isOver:n,setNodeRef:l}=v0({id:`bin:${e.category}`,data:{droppableType:"bin",category:e.category}}),r=e.store.binsByCategory[e.category].map(s=>e.catalog.itemsById.get(s)).filter(s=>!!s);return p.jsxs("div",{className:"flex min-w-0 flex-col gap-1.5",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsxs("div",{className:"text-xs font-semibold",children:[Xf(e.category)," Bin"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:r.length}),p.jsxs(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.clearCategory(e.category),children:[p.jsx(B_,{size:12,className:"mr-1 inline"}),"Clear"]})]})]}),p.jsx("div",{ref:l,className:St("wb-grid-backdrop min-h-20 rounded-xl border p-1.5",n?"border-emerald-400/70 bg-emerald-400/8":"border-[var(--wb-border-muted)] bg-black/10"),children:r.length===0?p.jsxs("div",{className:"p-2 text-[11px] text-[var(--wb-muted)]",children:["Drop items here for ",e.category,"."]}):p.jsx("div",{className:"grid max-h-40 gap-1.5 overflow-auto pr-0.5 wb-scrollbar",children:r.map(s=>p.jsx(vc,{item:s,compact:!0,dense:!0,showDetails:e.showItemDetails,dragData:{kind:"bin",itemId:s.id,sourceCategory:e.category},onRemove:()=>e.store.removePinnedItem(e.category,s.id),onHover:c=>{const d=e.store.selectedSlot&&sa(e.store.selectedSlot)===e.category?e.store.selectedSlot:null;e.onHoverItem?.(c?s.id:null,c?d:null)}},`${e.category}-${s.id}`))})})]})}function ID(e){const[n,l]=w.useState(!1),r=w.useMemo(()=>[["helmet","chestplate","leggings","boots"],["ring1","ring2","bracelet","necklace"]],[]),s=w.useMemo(()=>[{key:"armor",title:"Armor Shelf",categories:["helmet","chestplate","leggings","boots"]},{key:"accessories",title:"Accessory Shelf",categories:["ring","bracelet","necklace"]},{key:"weapon",title:"Weapon Shelf",categories:["weapon"]}].filter(c=>c.key!=="weapon"),[]);return p.jsx(Ui,{className:"flex min-h-0 flex-col",title:"Workbench",headerRight:p.jsxs(p.Fragment,{children:[p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.undo(),children:"Undo"}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.redo(),children:"Redo"}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:n?"primary":"ghost",onClick:()=>l(c=>!c),children:n?"Hide Details":"Item Details"}),p.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.clearAll(),children:"Clear All"})]}),children:p.jsxs("div",{className:"grid min-h-0 flex-1 grid-rows-[auto_1fr_auto] gap-2 p-2.5",children:[p.jsxs("div",{className:"grid gap-1.5 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)_minmax(0,1.05fr)]",children:[r.map((c,d)=>p.jsx("div",{className:"grid gap-1.5",children:c.map(h=>p.jsx(Ey,{slot:h,catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem},h))},d)),p.jsxs("div",{className:"grid content-start gap-1.5",children:[p.jsx(Ey,{slot:"weapon",catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem}),p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsxs("div",{className:"mb-1.5 flex items-center justify-between gap-2",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Weapon Shelf"}),p.jsx("div",{className:"text-[11px] text-[var(--wb-muted)]",children:"Pinned weapon candidates"})]}),p.jsx(Ty,{category:"weapon",catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem})]})]})]}),p.jsx(qi,{className:"min-h-0 pr-1",children:p.jsx("div",{className:"grid gap-3",children:s.map(c=>p.jsxs("div",{className:"grid gap-1.5",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2",children:[p.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:c.title}),p.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:c.categories.map(Xf).join("  ")})]}),p.jsx("div",{className:St("grid gap-2",c.categories.length===1?"grid-cols-1":c.categories.length===3?"lg:grid-cols-3":"md:grid-cols-2 xl:grid-cols-4"),children:c.categories.map(d=>p.jsx(Ty,{category:d,catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem},d))})]},c.key))})}),p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:p.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[p.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onShareWorkbench,children:[p.jsx(Vf,{size:14,className:"mr-2"}),"Share"]}),p.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onExportWorkbench,children:[p.jsx(g_,{size:14,className:"mr-2"}),"Export"]}),p.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onImportWorkbench,children:[p.jsx(Z_,{size:14,className:"mr-2"}),"Import"]})]})})]})})}function qo(e){if(!e)return null;const n=e.startsWith("#")?e.slice(1):e;return n.trim()?n:null}function Ny(e){const n=qo(e),l="../builder/";return n?`${l}#${n}`:l}const PD=[["helmet","helmet-choice"],["chestplate","chestplate-choice"],["leggings","leggings-choice"],["boots","boots-choice"],["ring1","ring1-choice"],["ring2","ring2-choice"],["bracelet","bracelet-choice"],["necklace","necklace-choice"],["weapon","weapon-choice"]];function My(e){const n=e.trim();if(!n)return null;if(n.startsWith("#"))return qo(n);try{const l=new URL(n,window.location.origin);return qo(l.hash)}catch{return qo(n)}}class HD{isSupported(n){return My(n)!==null}async encodeLegacyHash(n){if(n.legacyHash)return n.legacyHash;throw new Error("Legacy hash encoding is only available for imported legacy builds in Workbench v1. Use Workbench share link or open legacy builder for full encode.")}async decodeLegacyHash(n){const l=My(n);if(!l)throw new Error("No legacy hash found to decode");if(typeof document>"u")return{legacyHash:l,level:null,slots:{}};const r=document.createElement("iframe");r.style.position="fixed",r.style.left="-99999px",r.style.width="1200px",r.style.height="900px",r.style.opacity="0",r.src=`../builder/#${l}`,document.body.appendChild(r);const s=3e4,c=Date.now();try{return await new Promise((h,g)=>{const m=window.setInterval(()=>{try{if(!r.contentDocument)return;const b=r.contentDocument,y=b.getElementById("weapon-choice"),x=b.getElementById("level-choice");if(!y||!x){Date.now()-c>s&&(window.clearInterval(m),g(new Error("Timed out waiting for legacy builder UI")));return}const _={};for(const[N,q]of PD){const P=b.getElementById(q)?.value?.trim();P&&(_[N]=P)}if(!_.weapon&&Date.now()-c<2e3)return;const E=x.value?.trim(),A=E?Number(E):null;window.clearInterval(m),h({legacyHash:l,level:Number.isFinite(A??NaN)?A:null,slots:_,sourceUrl:r.src})}catch(b){window.clearInterval(m),g(b)}},250)})}finally{r.remove()}}}const af=new HD,Cy=e=>{let n;const l=new Set,r=(m,b)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const x=n;n=b??(typeof y!="object"||y===null)?y:Object.assign({},n,y),l.forEach(_=>_(n,x))}},s=()=>n,h={setState:r,getState:s,getInitialState:()=>g,subscribe:m=>(l.add(m),()=>l.delete(m))},g=n=e(r,s,h);return h},ZD=(e=>e?Cy(e):Cy),$D=e=>e;function YD(e,n=$D){const l=qt.useSyncExternalStore(e.subscribe,qt.useCallback(()=>n(e.getState()),[e,n]),qt.useCallback(()=>n(e.getInitialState()),[e,n]));return qt.useDebugValue(l),l}const FD=e=>{const n=ZD(e),l=r=>YD(n,r);return Object.assign(l,n),l},VD=(e=>FD);var $b=Symbol.for("immer-nothing"),Ay=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Xn(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qr=Object.getPrototypeOf;function Pi(e){return!!e&&!!e[wn]}function Bl(e){return e?Yb(e)||Array.isArray(e)||!!e[Ay]||!!e.constructor?.[Ay]||as(e)||bc(e):!1}var GD=Object.prototype.constructor.toString(),Dy=new WeakMap;function Yb(e){if(!e||typeof e!="object")return!1;const n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype)return!0;const l=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(l===Object)return!0;if(typeof l!="function")return!1;let r=Dy.get(l);return r===void 0&&(r=Function.toString.call(l),Dy.set(l,r)),r===GD}function tc(e,n,l=!0){yc(e)===0?(l?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{n(s,e[s],e)}):e.forEach((r,s)=>n(s,r,e))}function yc(e){const n=e[wn];return n?n.type_:Array.isArray(e)?1:as(e)?2:bc(e)?3:0}function Df(e,n){return yc(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function Fb(e,n,l){const r=yc(e);r===2?e.set(n,l):r===3?e.add(l):e[n]=l}function XD(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function as(e){return e instanceof Map}function bc(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function jf(e,n){if(as(e))return new Map(e);if(bc(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const l=Yb(e);if(n===!0||n==="class_only"&&!l){const r=Object.getOwnPropertyDescriptors(e);delete r[wn];let s=Reflect.ownKeys(r);for(let c=0;c<s.length;c++){const d=s[c],h=r[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[d]})}return Object.create(Qr(e),r)}else{const r=Qr(e);if(r!==null&&l)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function ch(e,n=!1){return xc(e)||Pi(e)||!Bl(e)||(yc(e)>1&&Object.defineProperties(e,{set:Do,add:Do,clear:Do,delete:Do}),Object.freeze(e),n&&Object.values(e).forEach(l=>ch(l,!0))),e}function KD(){Xn(2)}var Do={value:KD};function xc(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var QD={};function Ll(e){const n=QD[e];return n||Xn(0,e),n}var Wr;function Vb(){return Wr}function WD(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jy(e,n){n&&(Ll("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function zf(e){kf(e),e.drafts_.forEach(JD),e.drafts_=null}function kf(e){e===Wr&&(Wr=e.parent_)}function zy(e){return Wr=WD(Wr,e)}function JD(e){const n=e[wn];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function ky(e,n){n.unfinalizedDrafts_=n.drafts_.length;const l=n.drafts_[0];return e!==void 0&&e!==l?(l[wn].modified_&&(zf(n),Xn(4)),Bl(e)&&(e=nc(n,e),n.parent_||ac(n,e)),n.patches_&&Ll("Patches").generateReplacementPatches_(l[wn].base_,e,n.patches_,n.inversePatches_)):e=nc(n,l,[]),zf(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==$b?e:void 0}function nc(e,n,l){if(xc(n))return n;const r=e.immer_.shouldUseStrictIteration(),s=n[wn];if(!s)return tc(n,(c,d)=>Ry(e,s,n,c,d,l),r),n;if(s.scope_!==e)return n;if(!s.modified_)return ac(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const c=s.copy_;let d=c,h=!1;s.type_===3&&(d=new Set(c),c.clear(),h=!0),tc(d,(g,m)=>Ry(e,s,c,g,m,l,h),r),ac(e,c,!1),l&&e.patches_&&Ll("Patches").generatePatches_(s,l,e.patches_,e.inversePatches_)}return s.copy_}function Ry(e,n,l,r,s,c,d){if(s==null||typeof s!="object"&&!d)return;const h=xc(s);if(!(h&&!d)){if(Pi(s)){const g=c&&n&&n.type_!==3&&!Df(n.assigned_,r)?c.concat(r):void 0,m=nc(e,s,g);if(Fb(l,r,m),Pi(m))e.canAutoFreeze_=!1;else return}else d&&l.add(s);if(Bl(s)&&!h){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||n&&n.base_&&n.base_[r]===s&&h)return;nc(e,s),(!n||!n.scope_.parent_)&&typeof r!="symbol"&&(as(l)?l.has(r):Object.prototype.propertyIsEnumerable.call(l,r))&&ac(e,s)}}}function ac(e,n,l=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ch(n,l)}function ej(e,n){const l=Array.isArray(e),r={type_:l?1:0,scope_:n?n.scope_:Vb(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,c=uh;l&&(s=[r],c=Jr);const{revoke:d,proxy:h}=Proxy.revocable(s,c);return r.draft_=h,r.revoke_=d,h}var uh={get(e,n){if(n===wn)return e;const l=kl(e);if(!Df(l,n))return tj(e,l,n);const r=l[n];return e.finalized_||!Bl(r)?r:r===lf(e.base_,n)?(rf(e),e.copy_[n]=Of(r,e)):r},has(e,n){return n in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,n,l){const r=Gb(kl(e),n);if(r?.set)return r.set.call(e.draft_,l),!0;if(!e.modified_){const s=lf(kl(e),n),c=s?.[wn];if(c&&c.base_===l)return e.copy_[n]=l,e.assigned_[n]=!1,!0;if(XD(l,s)&&(l!==void 0||Df(e.base_,n)))return!0;rf(e),Rf(e)}return e.copy_[n]===l&&(l!==void 0||n in e.copy_)||Number.isNaN(l)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=l,e.assigned_[n]=!0),!0},deleteProperty(e,n){return lf(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,rf(e),Rf(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const l=kl(e),r=Reflect.getOwnPropertyDescriptor(l,n);return r&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:r.enumerable,value:l[n]}},defineProperty(){Xn(11)},getPrototypeOf(e){return Qr(e.base_)},setPrototypeOf(){Xn(12)}},Jr={};tc(uh,(e,n)=>{Jr[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Jr.deleteProperty=function(e,n){return Jr.set.call(this,e,n,void 0)};Jr.set=function(e,n,l){return uh.set.call(this,e[0],n,l,e[0])};function lf(e,n){const l=e[wn];return(l?kl(l):e)[n]}function tj(e,n,l){const r=Gb(n,l);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Gb(e,n){if(!(n in e))return;let l=Qr(e);for(;l;){const r=Object.getOwnPropertyDescriptor(l,n);if(r)return r;l=Qr(l)}}function Rf(e){e.modified_||(e.modified_=!0,e.parent_&&Rf(e.parent_))}function rf(e){e.copy_||(e.copy_=jf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,l,r)=>{if(typeof n=="function"&&typeof l!="function"){const c=l;l=n;const d=this;return function(g=c,...m){return d.produce(g,b=>l.call(this,b,...m))}}typeof l!="function"&&Xn(6),r!==void 0&&typeof r!="function"&&Xn(7);let s;if(Bl(n)){const c=zy(this),d=Of(n,void 0);let h=!0;try{s=l(d),h=!1}finally{h?zf(c):kf(c)}return jy(c,r),ky(s,c)}else if(!n||typeof n!="object"){if(s=l(n),s===void 0&&(s=n),s===$b&&(s=void 0),this.autoFreeze_&&ch(s,!0),r){const c=[],d=[];Ll("Patches").generateReplacementPatches_(n,s,c,d),r(c,d)}return s}else Xn(1,n)},this.produceWithPatches=(n,l)=>{if(typeof n=="function")return(d,...h)=>this.produceWithPatches(d,g=>n(g,...h));let r,s;return[this.produce(n,l,(d,h)=>{r=d,s=h}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bl(e)||Xn(8),Pi(e)&&(e=aj(e));const n=zy(this),l=Of(e,void 0);return l[wn].isManual_=!0,kf(n),l}finishDraft(e,n){const l=e&&e[wn];(!l||!l.isManual_)&&Xn(9);const{scope_:r}=l;return jy(r,n),ky(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let l;for(l=n.length-1;l>=0;l--){const s=n[l];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}l>-1&&(n=n.slice(l+1));const r=Ll("Patches").applyPatches_;return Pi(e)?r(e,n):this.produce(e,s=>r(s,n))}};function Of(e,n){const l=as(e)?Ll("MapSet").proxyMap_(e,n):bc(e)?Ll("MapSet").proxySet_(e,n):ej(e,n);return(n?n.scope_:Vb()).drafts_.push(l),l}function aj(e){return Pi(e)||Xn(10,e),Xb(e)}function Xb(e){if(!Bl(e)||xc(e))return e;const n=e[wn];let l,r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,l=jf(e,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else l=jf(e,!0);return tc(l,(s,c)=>{Fb(l,s,Xb(c))},r),n&&(n.finalized_=!1),l}var lj=new nj,ij=lj.produce;const rj=e=>(n,l,r)=>(r.setState=(s,c,...d)=>{const h=typeof s=="function"?ij(s):s;return n(h,c,...d)},e(r.setState,l,r)),sj=rj,Io={itemId:null,slot:null};function Kb(){return Object.fromEntries(Je.map(e=>[e,null]))}function Qb(){return Object.fromEntries(ul.map(e=>[e,[]]))}function oj(){return Object.fromEntries(Je.map(e=>[e,!1]))}function Oy(){return{slots:Kb(),binsByCategory:Qb(),locks:oj(),level:106,characterClass:null,selectedSlot:"weapon",comparePreview:{...Io},legacyHash:null}}function Bf(e){return{slots:{...e.slots},binsByCategory:Object.fromEntries(ul.map(n=>[n,[...e.binsByCategory[n]]])),locks:{...e.locks},level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,comparePreview:{...e.comparePreview},legacyHash:e.legacyHash}}function xn(e){e.undoStack.push(Bf(e)),e.undoStack.length>100&&e.undoStack.shift(),e.redoStack=[]}function sf(e,n){e.slots={...n.slots},e.binsByCategory=Object.fromEntries(ul.map(l=>[l,[...n.binsByCategory[l]]])),e.locks={...n.locks},e.level=n.level,e.characterClass=n.characterClass,e.selectedSlot=n.selectedSlot,e.comparePreview={...n.comparePreview},e.legacyHash=n.legacyHash}function of(e,n){e.includes(n)||e.unshift(n)}const cj=VD()(sj((e,n)=>({...Oy(),undoStack:[],redoStack:[],setLevel(l){e(r=>{xn(r),r.level=Math.min(106,Math.max(1,Math.round(l)))})},setCharacterClass(l){e(r=>{xn(r),r.characterClass=l})},setSelectedSlot(l){e(r=>{r.selectedSlot=l})},setComparePreview(l){e(r=>{if(!l){r.comparePreview={...Io};return}r.comparePreview={itemId:l.itemId??r.comparePreview.itemId,slot:l.slot??r.comparePreview.slot}})},pinItem(l,r){e(s=>{xn(s),of(s.binsByCategory[l],r)})},removePinnedItem(l,r){e(s=>{xn(s),s.binsByCategory[l]=s.binsByCategory[l].filter(c=>c!==r)})},clearCategory(l){e(r=>{xn(r),r.binsByCategory[l]=[]})},clearAll(){e(l=>{xn(l),l.slots=Kb(),l.binsByCategory=Qb(),l.comparePreview={...Io},l.legacyHash=null})},equipItem(l,r){e(s=>{xn(s),s.slots[l]=r,s.selectedSlot=l})},moveSlotToBin(l){e(r=>{const s=r.slots[l];if(s==null)return;xn(r);const c=sa(l);of(r.binsByCategory[c],s),r.slots[l]=null})},swapSlots(l,r){e(s=>{xn(s);const c=s.slots[l];s.slots[l]=s.slots[r],s.slots[r]=c})},assignDraggedItemToSlot({targetSlot:l,source:r,itemId:s,sourceCategory:c,sourceSlot:d}){e(h=>{xn(h);const g=h.slots[l];h.slots[l]=s,h.selectedSlot=l,r==="bin"&&c&&(h.binsByCategory[c]=h.binsByCategory[c].filter(m=>m!==s)),r==="slot"&&d&&d!==l&&(h.slots[d]=g??null)})},assignDraggedItemToBin({targetCategory:l,source:r,itemId:s,sourceCategory:c,sourceSlot:d}){e(h=>{xn(h),r==="bin"&&c&&(h.binsByCategory[c]=h.binsByCategory[c].filter(g=>g!==s)),r==="slot"&&d&&(h.slots[d]=null),of(h.binsByCategory[l],s)})},toggleLock(l){e(r=>{xn(r),r.locks[l]=!r.locks[l]})},undo(){const l=n(),r=l.undoStack[l.undoStack.length-1];r&&e(s=>{const c=Bf(s);s.undoStack.pop(),s.redoStack.push(c),sf(s,r)})},redo(){const l=n(),r=l.redoStack[l.redoStack.length-1];r&&e(s=>{const c=Bf(s);s.redoStack.pop(),s.undoStack.push(c),sf(s,r)})},hydrateSnapshot(l){e(r=>{const s=Oy(),c={...s,...l,slots:{...s.slots,...l.slots??{}},locks:{...s.locks,...l.locks??{}},binsByCategory:{...s.binsByCategory,...l.binsByCategory??{}},comparePreview:{...s.comparePreview,...l.comparePreview??{}}};sf(r,c),r.undoStack=[],r.redoStack=[]})},loadCandidate(l){e(r=>{xn(r),r.slots={...l},r.comparePreview={...Io}})},setLegacyHash(l){e(r=>{r.legacyHash=l})}}))),uj=Gr({slots:Bo(Bn(),Vn().int().nullable()).optional(),binsByCategory:Bo(Bn(),Ln(Vn().int())).optional(),locks:Bo(Bn(),Oo()).optional(),level:Vn().int().min(1).max(106).optional(),characterClass:Zr(["Warrior","Assassin","Mage","Archer","Shaman"]).nullable().optional(),selectedSlot:Bn().nullable().optional(),legacyHash:Bn().nullable().optional()}),dj=Gr({version:Bn().nullable().optional(),selectedByClass:Gr({Warrior:Ln(Vn().int()).optional(),Assassin:Ln(Vn().int()).optional(),Mage:Ln(Vn().int()).optional(),Archer:Ln(Vn().int()).optional(),Shaman:Ln(Vn().int()).optional()}).partial().default({})});function Wb(e){const n=new TextEncoder().encode(e);let l="";for(const r of n)l+=String.fromCharCode(r);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Jb(e){const n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(Math.ceil(e.length/4)*4,"="),l=atob(n),r=Uint8Array.from(l,s=>s.charCodeAt(0));return new TextDecoder().decode(r)}function fj(e){try{return JSON.parse(e)}catch{return null}}function ex(e){const n=e.searchParams.get("q")??"",l=e.searchParams.get("sort"),r=e.searchParams.get("sdesc"),s=e.searchParams.get("view"),c=e.searchParams.get("wearLevel"),d=e.searchParams.get("classCompat"),h=e.searchParams.get("excludeRestricted"),g=(e.searchParams.get("cats")??"").split(",").map(D=>D.trim()).filter(Boolean),m=(e.searchParams.get("types")??"").split(",").map(D=>D.trim()).filter(Boolean),b=(e.searchParams.get("tiers")??"").split(",").map(D=>D.trim()).filter(Boolean),y=(e.searchParams.get("classReqs")??"").split(",").map(D=>D.trim()).filter(Boolean),x=(e.searchParams.get("majorIds")??"").split(",").map(D=>D.trim()).filter(Boolean),_=fj(e.searchParams.get("ranges")??"")??{};return eb({...Gn,text:n,sort:l??Gn.sort,sortDescending:r===null?Gn.sortDescending:r!=="0",viewMode:s??Gn.viewMode,onlyWearableAtLevel:c?Number(c):Gn.onlyWearableAtLevel,onlyClassCompatible:d==="1",excludeRestricted:h===null?!0:h!=="0",categories:g,types:m,tiers:b,classReqs:y,majorIds:x,numericRanges:_})}function tx(e){const n=e.searchParams.get("wb");if(!n)return null;try{const l=Jb(n),r=uj.parse(JSON.parse(l)),s=Object.fromEntries(Je.map(h=>[h,r.slots?.[h]??null])),c=Object.fromEntries(ul.map(h=>[h,r.binsByCategory?.[h]??[]])),d=Object.fromEntries(Je.map(h=>[h,!!r.locks?.[h]]));return{slots:s,binsByCategory:c,locks:d,level:r.level,characterClass:r.characterClass??null,selectedSlot:r.selectedSlot??void 0,legacyHash:r.legacyHash??null}}catch{return null}}function nx(e){const n=e.searchParams.get("atree");if(!n)return null;try{const l=Jb(n),r=dj.parse(JSON.parse(l));return{version:r.version??null,selectedByClass:r.selectedByClass}}catch{return null}}function hj(e=window.location){const n=new URL(e.href),l=n.hash?n.hash.slice(1):null;return{search:ex(n),workbenchPatch:tx(n),legacyHash:l||null,mode:n.searchParams.get("mode"),abilityTree:nx(n)}}function ax(e){const n={slots:e.slots,binsByCategory:e.binsByCategory,locks:e.locks,level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,legacyHash:e.legacyHash};return Wb(JSON.stringify(n))}function By(e){const n=new URL(window.location.href),{search:l}=e,r=n.searchParams,s=(h,g)=>{g.length===0?r.delete(h):r.set(h,g.join(","))};l.text?r.set("q",l.text):r.delete("q"),l.sort!==Gn.sort?r.set("sort",l.sort):r.delete("sort"),l.sortDescending!==Gn.sortDescending?r.set("sdesc",l.sortDescending?"1":"0"):r.delete("sdesc"),l.viewMode!==Gn.viewMode?r.set("view",l.viewMode):r.delete("view"),s("cats",l.categories),s("types",l.types),s("tiers",l.tiers),s("classReqs",l.classReqs),s("majorIds",l.majorIds),l.onlyWearableAtLevel!==null?r.set("wearLevel",String(l.onlyWearableAtLevel)):r.delete("wearLevel"),l.onlyClassCompatible?r.set("classCompat","1"):r.delete("classCompat"),l.excludeRestricted?r.delete("excludeRestricted"):r.set("excludeRestricted","0"),Object.keys(l.numericRanges).length>0?r.set("ranges",JSON.stringify(l.numericRanges)):r.delete("ranges"),r.set("wb",ax(e.workbenchSnapshot)),e.abilityTreeState&&Object.keys(e.abilityTreeState.selectedByClass??{}).length>0?r.set("atree",Wb(JSON.stringify({version:e.abilityTreeState.version??null,selectedByClass:e.abilityTreeState.selectedByClass}))):r.delete("atree"),e.mode?r.set("mode",e.mode):r.delete("mode");const d=e.legacyHash??e.workbenchSnapshot.legacyHash;n.hash=d?`#${d}`:"",e.replace?window.history.replaceState({},"",n):window.history.pushState({},"",n)}const mj={legacyBaseDps:1,legacyEhp:.7,dpsProxy:1,ehpProxy:.6,speed:.4,sustain:.35,skillPointTotal:.15,reqTotalPenalty:.2},ia={characterClass:null,level:106,mustIncludeIds:[],excludedIds:[],lockedSlots:{},target:{},allowedTiers:[],requiredMajorIds:[],excludedMajorIds:[],weaponAttackSpeeds:[],minPowderSlots:null,onlyPinnedItems:!1,weights:mj,topN:20,topKPerSlot:80,beamWidth:350,maxStates:12e4,useExhaustiveSmallPool:!0,exhaustiveStateLimit:25e4,allowRestricted:!1};function gj(e){return e.aggregated.hprTotal*.9+e.aggregated.mr*14+e.aggregated.ms*10+e.aggregated.ls*9}function pj(e,n){let l=0;const{target:r}=n;return typeof r.minLegacyBaseDps=="number"&&e.derived.legacyBaseDps<r.minLegacyBaseDps&&(l+=(r.minLegacyBaseDps-e.derived.legacyBaseDps)*4),typeof r.minLegacyEhp=="number"&&e.derived.legacyEhp<r.minLegacyEhp&&(l+=(r.minLegacyEhp-e.derived.legacyEhp)*.8),typeof r.minDpsProxy=="number"&&e.derived.dpsProxy<r.minDpsProxy&&(l+=(r.minDpsProxy-e.derived.dpsProxy)*4),typeof r.minEhpProxy=="number"&&e.derived.ehpProxy<r.minEhpProxy&&(l+=(r.minEhpProxy-e.derived.ehpProxy)*1.1),typeof r.minMr=="number"&&e.aggregated.mr<r.minMr&&(l+=(r.minMr-e.aggregated.mr)*45),typeof r.minMs=="number"&&e.aggregated.ms<r.minMs&&(l+=(r.minMs-e.aggregated.ms)*35),typeof r.minSpeed=="number"&&e.aggregated.speed<r.minSpeed&&(l+=(r.minSpeed-e.aggregated.speed)*12),typeof r.minSkillPointTotal=="number"&&e.derived.skillPointTotal<r.minSkillPointTotal&&(l+=(r.minSkillPointTotal-e.derived.skillPointTotal)*15),typeof r.maxReqTotal=="number"&&e.derived.reqTotal>r.maxReqTotal&&(l+=(e.derived.reqTotal-r.maxReqTotal)*8),l}function lx(e,n,l){const r=gj(e),s=e.derived.reqTotal*n.reqTotalPenalty,c=pj(e,l),d={legacyBaseDps:e.derived.legacyBaseDps*n.legacyBaseDps,legacyEhp:e.derived.legacyEhp*n.legacyEhp,dpsProxy:e.derived.dpsProxy*n.dpsProxy,ehpProxy:e.derived.ehpProxy*n.ehpProxy,speed:e.aggregated.speed*n.speed,sustain:r*n.sustain,skillPointTotal:e.derived.skillPointTotal*n.skillPointTotal,reqPenalty:s,thresholdPenalty:c};return{score:d.legacyBaseDps+d.legacyEhp+d.dpsProxy+d.ehpProxy+d.speed+d.sustain+d.skillPointTotal-d.reqPenalty-d.thresholdPenalty,breakdown:d}}const cf=[[10,10,10,10,10],[20,20,20,20,20],[30,30,30,30,30]],Ly=["str","dex","int","def","agi"],Ma=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"];function ol(e){return Math.round(e.numeric.atkTier||0)}function dh(e,n){switch(n){case"str":return Math.max(0,e.numeric.spStr);case"dex":return Math.max(0,e.numeric.spDex);case"int":return Math.max(0,e.numeric.spInt);case"def":return Math.max(0,e.numeric.spDef);case"agi":return Math.max(0,e.numeric.spAgi)}}function vj(e,n){switch(n){case"str":return e.numeric.reqStr;case"dex":return e.numeric.reqDex;case"int":return e.numeric.reqInt;case"def":return e.numeric.reqDef;case"agi":return e.numeric.reqAgi}}function yj(e,n){if(n.length===0)return 0;let l=0;for(const r of n)l+=dh(e,r)*10,l-=Math.max(0,vj(e,r))*.7;return l-=Math.max(0,e.roughScoreFields.reqTotal)*.12,l}function hl(e){return{...e}}function bj(e,n){const l=e.weapon;if(l==null)return null;const r=n.itemsById.get(l);if(!r)return null;const s=Ma.indexOf(r.atkSpd);if(s<0)return null;let c=0;for(const h of Je){const g=e[h];if(g==null)continue;const m=n.itemsById.get(g);m&&(c+=ol(m))}const d=Math.max(0,Math.min(Ma.length-1,s+c));return Ma[d]}function xj(e,n){let l=0;for(const r of Je){const s=e[r];if(s==null)continue;const c=n.itemsById.get(s);c&&(l+=ol(c))}return l}function Sj(e,n,l){if(l.weaponAttackSpeeds.length===0)return null;const r=e.weapon;if(r==null)return null;const s=n.itemsById.get(r);if(!s)return null;const c=Ma.indexOf(s.atkSpd);if(c<0)return null;const d=[...new Set(l.weaponAttackSpeeds.map(b=>Ma.indexOf(b)).filter(b=>b>=0))].sort((b,y)=>b-y);if(d.length===0)return null;const h=xj(e,n),g=Math.max(0,Math.min(Ma.length-1,c+h));let m=0;if(!d.includes(g)){const b=d.reduce((y,x)=>Math.abs(x-g)<Math.abs(y-g)?x:y,d[0]);m=b>g?1:b<g?-1:0}return{baseSpeedIndex:c,fixedAtkTierTotal:h,allowedFinalIndices:d,allowedFinalIndexSet:new Set(d),preferredDirection:m}}function ix(e,n,l){const r=new Array(e.length+1).fill(0),s=new Array(e.length+1).fill(0);for(let c=e.length-1;c>=0;c--){const d=n.get(e[c])??[];let h=0,g=0;if(d.length>0){h=1/0,g=-1/0;for(const m of d){const b=l.itemsById.get(m.id),y=b?ol(b):0;y<h&&(h=y),y>g&&(g=y)}Number.isFinite(h)||(h=0),Number.isFinite(g)||(g=0)}r[c]=r[c+1]+h,s[c]=s[c+1]+g}return{minSuffix:r,maxSuffix:s}}function rx(e,n,l,r){const s=e.fixedAtkTierTotal+n+l,c=e.fixedAtkTierTotal+n+r,d=Math.min(s,c),h=Math.max(s,c);for(let g=d;g<=h;g++){const m=Math.max(0,Math.min(Ma.length-1,e.baseSpeedIndex+g));if(e.allowedFinalIndexSet.has(m))return!0}return!1}function lc(e,n,l=0,r=0){if(!e||!e.preferredDirection)return 0;const s=e.fixedAtkTierTotal+(n??0),c=Math.max(0,Math.min(Ma.length-1,e.baseSpeedIndex+s+l)),d=Math.max(0,Math.min(Ma.length-1,e.baseSpeedIndex+s+r)),h=Math.min(c,d),g=Math.max(c,d);let m=1/0,b=0;for(let x=h;x<=g;x++){let _=1/0;for(const D of e.allowedFinalIndices){const E=Math.abs(D-x);E<_&&(_=E)}_<m&&(m=_),_>b&&(b=_)}if(!Number.isFinite(m)||b===0)return 0;const y=e.preferredDirection>0?h:-g;return-b*1e3-m*100+y}function wj(e,n,l,r){const{target:s}=n;if(typeof s.minLegacyBaseDps=="number"&&e.derived.legacyBaseDps<s.minLegacyBaseDps||typeof s.minLegacyEhp=="number"&&e.derived.legacyEhp<s.minLegacyEhp||typeof s.minDpsProxy=="number"&&e.derived.dpsProxy<s.minDpsProxy||typeof s.minEhpProxy=="number"&&e.derived.ehpProxy<s.minEhpProxy||typeof s.minMr=="number"&&e.aggregated.mr<s.minMr||typeof s.minMs=="number"&&e.aggregated.ms<s.minMs||typeof s.minSpeed=="number"&&e.aggregated.speed<s.minSpeed||typeof s.minSkillPointTotal=="number"&&e.derived.skillPointTotal<s.minSkillPointTotal||typeof s.maxReqTotal=="number"&&e.derived.reqTotal>s.maxReqTotal)return!1;if((s.customNumericRanges?.length??0)>0&&l&&r)for(const c of s.customNumericRanges??[]){const d=c.key?.trim();if(!d)continue;let h=0;for(const g of Je){const m=l[g];if(m==null)continue;const b=r.itemsById.get(m);b&&(h+=b.numericIndex[d]??0)}if(typeof c.min=="number"&&h<c.min||typeof c.max=="number"&&h>c.max)return!1}return!0}function sx(e,n,l,r){for(const s of Je){const c=e[s];if(c==null)continue;const d=n.itemsById.get(c);if(!d)return{ok:!1,reason:"item"};if(!ox(d,l))return{ok:!1,reason:"item"}}if(l.weaponAttackSpeeds.length>0){const s=bj(e,n);if(!s||!l.weaponAttackSpeeds.includes(s))return{ok:!1,reason:"attackSpeed"}}return wj(r,l,e,n)?{ok:!0}:{ok:!1,reason:"thresholds"}}function ox(e,n){return!(!n.allowRestricted&&(e.restricted||e.deprecated)||e.level>n.level||!_0(e,n.characterClass)||n.excludedIds.includes(e.id)||n.allowedTiers.length>0&&!n.allowedTiers.includes(e.tier)||n.minPowderSlots!=null&&e.powderSlots<n.minPowderSlots||n.excludedMajorIds.length>0&&n.excludedMajorIds.some(l=>e.majorIds.includes(l)))}function _j(e,n){return e.numeric.baseDps*n.weights.legacyBaseDps+e.roughScoreFields.ehpProxy*n.weights.legacyEhp+e.roughScoreFields.offense*n.weights.dpsProxy+e.roughScoreFields.ehpProxy*n.weights.ehpProxy+e.numeric.spd*n.weights.speed+e.roughScoreFields.utility*n.weights.sustain+e.roughScoreFields.skillPointTotal*n.weights.skillPointTotal-e.roughScoreFields.reqTotal*n.weights.reqTotalPenalty}function cx(e){const n=e.ring1??0,l=e.ring2??0,[r,s]=n<=l?[n,l]:[l,n];return[e.helmet??0,e.chestplate??0,e.leggings??0,e.boots??0,r,s,e.bracelet??0,e.necklace??0,e.weapon??0].join("|")}function ux(e,n){return sa(n)===e.category}function Ej(e,n,l){const r=hl(e),s=new Set(Je.filter(c=>r[c]!=null));for(const c of l.mustIncludeIds){const d=n.itemsById.get(c);if(!d)continue;const g=Je.filter(m=>!s.has(m)&&ux(d,m))[0];g&&(r[g]=d.id,s.add(g))}return r}function Tj(e,n){const l={str:0,dex:0,int:0,def:0,agi:0};for(const s of Je){const c=e[s];if(c==null)continue;const d=n.itemsById.get(c);d&&(l.str=Math.max(l.str,d.numeric.reqStr),l.dex=Math.max(l.dex,d.numeric.reqDex),l.int=Math.max(l.int,d.numeric.reqInt),l.def=Math.max(l.def,d.numeric.reqDef),l.agi=Math.max(l.agi,d.numeric.reqAgi))}const r=Ly.filter(s=>l[s]>100).sort((s,c)=>l[c]-l[s]);return r.length>0?r:Ly.filter(s=>l[s]>=70).sort((s,c)=>l[c]-l[s]).slice(0,2)}function Nj(e,n,l){if(l.length===0)return[];const r={str:0,dex:0,int:0,def:0,agi:0};for(const s of Je){const c=e[s];if(c==null)continue;const d=n.itemsById.get(c);d&&(r.str=Math.max(r.str,d.numeric.reqStr),r.dex=Math.max(r.dex,d.numeric.reqDex),r.int=Math.max(r.int,d.numeric.reqInt),r.def=Math.max(r.def,d.numeric.reqDef),r.agi=Math.max(r.agi,d.numeric.reqAgi))}return l.map(s=>Math.max(0,r[s]-100))}function Uy(e,n){return n.map(l=>dh(e,l))}function qy(e,n){if(e.length===0)return n.slice();const l=new Array(e.length);for(let r=0;r<e.length;r++)l[r]=(e[r]??0)+(n[r]??0);return l}function Mj(e,n,l){for(let r=0;r<l.length;r++)if((e[r]??0)+(n[r]??0)<l[r])return!1;return!0}function Iy(e,n){let l=0;for(let r=0;r<n.length;r++)l+=Math.max(0,n[r]-(e[r]??0));return l}function Py(e,n,l,r){if(r.length===0)return 0;const s=n.get(e)??[];let c=0;for(const d of s){const h=l.itemsById.get(d.id);if(!h)continue;let g=0;for(const m of r)g+=dh(h,m);g>c&&(c=g)}return c}function Cj(e){return(e.target.customNumericRanges??[]).map(n=>({key:(n.key??"").trim(),min:typeof n.min=="number"?n.min:void 0,max:typeof n.max=="number"?n.max:void 0})).filter(n=>n.key&&(typeof n.min=="number"||typeof n.max=="number"))}function jo(e,n,l){const r=n.itemsById.get(e.id);return r?r.numericIndex[l]??0:0}function Aj(e,n,l,r,s=[]){const c=[],d=Cj(l);for(const j of n.items)ux(j,e)&&(r&&!r.has(j.id)||ox(j,l)&&c.push({id:j.id,rough:_j(j,l),reqTotal:j.roughScoreFields.reqTotal,skillPointTotal:j.roughScoreFields.skillPointTotal,utility:j.roughScoreFields.utility+j.numeric.spd*.8,level:j.level,atkTier:ol(j),spStr:j.numeric.spStr,spDex:j.numeric.spDex,spInt:j.numeric.spInt,spDef:j.numeric.spDef,spAgi:j.numeric.spAgi,supportFocus:yj(j,s)}));const h=[...c].sort((j,T)=>j.rough!==T.rough?T.rough-j.rough:j.id-T.id),g=[...c].sort((j,T)=>j.reqTotal!==T.reqTotal?j.reqTotal-T.reqTotal:j.level!==T.level?j.level-T.level:j.id-T.id),m=[...c].sort((j,T)=>j.skillPointTotal!==T.skillPointTotal?T.skillPointTotal-j.skillPointTotal:j.reqTotal!==T.reqTotal?j.reqTotal-T.reqTotal:j.id-T.id),b=[...c].sort((j,T)=>j.utility!==T.utility?T.utility-j.utility:j.reqTotal!==T.reqTotal?j.reqTotal-T.reqTotal:j.id-T.id),y=l.weaponAttackSpeeds.length>0?[...c].sort((j,T)=>{const $=Math.max(0,j.atkTier),te=Math.max(0,T.atkTier);return $!==te?te-$:j.atkTier!==T.atkTier?T.atkTier-j.atkTier:j.reqTotal!==T.reqTotal?j.reqTotal-T.reqTotal:j.skillPointTotal!==T.skillPointTotal?T.skillPointTotal-j.skillPointTotal:j.id-T.id}):[],x=s.length>0?[...c].sort((j,T)=>j.supportFocus!==T.supportFocus?T.supportFocus-j.supportFocus:j.reqTotal!==T.reqTotal?j.reqTotal-T.reqTotal:j.skillPointTotal!==T.skillPointTotal?T.skillPointTotal-j.skillPointTotal:j.id-T.id):[],_=s.map(j=>[...c].sort((T,$)=>{const te=j==="str"?T.spStr:j==="dex"?T.spDex:j==="int"?T.spInt:j==="def"?T.spDef:T.spAgi,ie=j==="str"?$.spStr:j==="dex"?$.spDex:j==="int"?$.spInt:j==="def"?$.spDef:$.spAgi;return te!==ie?ie-te:T.reqTotal!==$.reqTotal?T.reqTotal-$.reqTotal:T.supportFocus!==$.supportFocus?$.supportFocus-T.supportFocus:T.id-$.id})),D=d.filter(j=>typeof j.min=="number").map(j=>[...c].sort((T,$)=>{const te=jo(T,n,j.key),ie=jo($,n,j.key);return te!==ie?ie-te:T.reqTotal!==$.reqTotal?T.reqTotal-$.reqTotal:T.skillPointTotal!==$.skillPointTotal?$.skillPointTotal-T.skillPointTotal:T.id-$.id})),E=d.filter(j=>typeof j.max=="number").map(j=>[...c].sort((T,$)=>{const te=jo(T,n,j.key),ie=jo($,n,j.key);return te!==ie?te-ie:T.reqTotal!==$.reqTotal?T.reqTotal-$.reqTotal:T.skillPointTotal!==$.skillPointTotal?$.skillPointTotal-T.skillPointTotal:T.id-$.id})),A=Math.max(10,l.topKPerSlot),N=Math.min(140,Math.max(40,Math.floor(A*.8))),q=Math.min(c.length,A+N+(s.length>0?Math.min(60,s.length*12):0)+Math.min(80,d.length*14)),B=new Map,P=Math.min(12,Math.floor(A*.4),h.length);for(let j=0;j<P;j++){const T=h[j];B.set(T.id,{id:T.id,rough:T.rough})}const L=[{list:h,remaining:Math.max(0,A-P),cursor:0},{list:g,remaining:Math.floor(N*.28),cursor:0},{list:m,remaining:Math.floor(N*.24),cursor:0},{list:b,remaining:Math.floor(N*.18),cursor:0}];y.length>0&&L.push({list:y,remaining:Math.max(18,Math.floor(N*.22)),cursor:0}),x.length>0&&L.push({list:x,remaining:Math.max(16,Math.floor(N*.2)),cursor:0});for(const j of _)L.push({list:j,remaining:10,cursor:0});for(const j of D)L.push({list:j,remaining:12,cursor:0});for(const j of E)L.push({list:j,remaining:8,cursor:0});for(;B.size<q;){let j=!1;for(const T of L)if(!(T.remaining<=0))for(;T.cursor<T.list.length;){const $=T.list[T.cursor++];if(!B.has($.id)){B.set($.id,{id:$.id,rough:$.rough}),T.remaining--,j=!0;break}}if(!j)break}if(B.size<q)for(const j of h){if(B.size>=q)break;B.has(j.id)||B.set(j.id,{id:j.id,rough:j.rough})}return[...B.values()]}function Dj(e){const n={};for(const l of Je){const r=sa(l),s=new Set(e.binsByCategory[r]??[]),c=e.slots[l];c!=null&&s.add(c),n[l]=s}return n}function dx(e,n,l){if(l.length===0)return!0;const r=new Set;for(const s of Je){const c=e[s];if(c==null)continue;const d=n.itemsById.get(c);if(d)for(const h of d.majorIds)l.includes(h)&&r.add(h)}return l.every(s=>r.has(s))}function fx(e,n){const l=new Array(e.length+1).fill(0);for(let r=e.length-1;r>=0;r--){const s=e[r],c=n.get(s)??[];let d=0;for(const h of c)h.rough>d&&(d=h.rough);l[r]=l[r+1]+d}return l}function hx(e){const{poolSize:n,beamSize:l,remainingStages:r,processedStates:s,maxStates:c}=e;if(n<=0)return 0;const d=Math.max(0,c-s),h=Math.max(1,l*Math.max(1,r)),g=Math.floor(d/h),m=Math.max(8,Math.min(96,g));return Math.min(n,m)}function jj(e,n,l){let r=1;for(const s of e){const c=n.get(s)?.length??0;if(c===0)return 0;if(r*=c,r>l)return r}return r}function uf(e){const{beam:n,catalog:l,constraints:r,skillpointAssist:s,signal:c}=e,d=[],h=new Set,g={majorIds:0,spInvalid:0,duplicate:0,hardConstraints:0,hardAttackSpeed:0,hardThresholds:0,hardItem:0};for(const m of n){if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");if(!dx(m.slots,l,r.requiredMajorIds)){g.majorIds++;continue}const b=ec({slots:m.slots,level:r.level,characterClass:r.characterClass},l,s?{skillpointFeasibility:{extraBaseSkillPoints:s}}:void 0);if(!b.derived.skillpointFeasible){g.spInvalid++;continue}const y=sx(m.slots,l,r,b);if(!y.ok){g.hardConstraints++,y.reason==="attackSpeed"?g.hardAttackSpeed++:y.reason==="thresholds"?g.hardThresholds++:g.hardItem++;continue}const x=cx(m.slots);if(h.has(x)){g.duplicate++;continue}const{score:_,breakdown:D}=lx(b,r.weights,r);h.add(x),d.push({slots:hl(m.slots),score:_,scoreBreakdown:D,summary:b})}return d.sort((m,b)=>{if(m.score!==b.score)return b.score-m.score;for(const y of Je){const x=m.slots[y]??0,_=b.slots[y]??0;if(x!==_)return x-_}return 0}),{candidates:d,rejectStats:g}}function zj(e){const{slotOrder:n,candidatePools:l,baseSlots:r,catalog:s,constraints:c,focusStats:d,attackSpeedCtx:h,onProgress:g,signal:m}=e,b=fx(n,l),y=h?ix(n,l,s):null,x=Nj(r,s,d),_=Array.from({length:n.length+1},()=>d.map(()=>0));for(let N=n.length-1;N>=0;N--){const q=l.get(n[N])??[],B=d.map(()=>0);for(const P of q){const L=s.itemsById.get(P.id);if(!L)continue;const j=Uy(L,d);for(let T=0;T<j.length;T++)j[T]>B[T]&&(B[T]=j[T])}_[N]=qy(_[N+1],B)}let D=[{slots:hl(r),orderIndex:0,roughScore:0,optimisticBound:b[0],feasibilityAssigned:0,focusSupport:d.map(()=>0),atkTierAssigned:0}],E=0,A=!1;for(let N=0;N<n.length;N++){if(m?.aborted)throw new DOMException("Auto build cancelled","AbortError");const q=n[N],B=l.get(q)??[],P=[],L=hx({poolSize:B.length,beamSize:D.length,remainingStages:n.length-N,processedStates:E,maxStates:c.maxStates});L<=0&&(A=!0);for(const $ of D){let te=0;for(const ie of B){if(te>=L)break;if(E>=c.maxStates){A=!0;break}E++,te++;const ue=hl($.slots);ue[q]=ie.id;const de=s.itemsById.get(ie.id),ce=($.atkTierAssigned??0)+(de?ol(de):0),ye=qy($.focusSupport??d.map(()=>0),de?Uy(de,d):d.map(()=>0));if(h&&y&&!rx(h,ce,y.minSuffix[N+1],y.maxSuffix[N+1])||d.length>0&&!Mj(ye,_[N+1],x))continue;const Se=oh(ue,s,c.level),U=$.roughScore+ie.rough;P.push({slots:ue,orderIndex:N+1,roughScore:U,optimisticBound:U+b[N+1],feasibilityAssigned:Se.feasible?Se.assignedTotal:1/0,focusSupport:ye,atkTierAssigned:ce})}if(A)break}if(P.length===0)return g?.({phase:"diagnostics",processedStates:E,beamSize:D.length,totalSlots:n.length,expandedSlots:N,detail:A?`Feasibility-first search exhausted state budget before completing slot ${q}.`:`Feasibility-first search found no branches that can still satisfy high-skill requirements by slot ${q}.`}),{beam:[],processedStates:E,stateBudgetHit:A};const j=y?y.minSuffix[N+1]:0,T=y?y.maxSuffix[N+1]:0;P.sort(($,te)=>{if(h){const de=lc(h,$.atkTierAssigned,j,T),ce=lc(h,te.atkTierAssigned,j,T);if(de!==ce)return ce-de}if(d.length>0){const de=Iy($.focusSupport??[],x),ce=Iy(te.focusSupport??[],x);if(de!==ce)return de-ce}const ie=$.feasibilityAssigned??1/0,ue=te.feasibilityAssigned??1/0;return ie!==ue?ie-ue:$.optimisticBound!==te.optimisticBound?te.optimisticBound-$.optimisticBound:$.roughScore!==te.roughScore?te.roughScore-$.roughScore:0}),D=P.slice(0,Math.max(40,c.beamWidth)),g?.({phase:"beam-search",processedStates:E,beamSize:D.length,totalSlots:n.length,expandedSlots:N+1,detail:`feasibility-first | branchCap=${L}${d.length>0?` | focus=${d.join("/")}`:""}${h?` | atkSpeed=${c.weaponAttackSpeeds.join("/")}`:""}`})}return{beam:D,processedStates:E,stateBudgetHit:A}}function kj(e){const{slotOrder:n,candidatePools:l,baseSlots:r,catalog:s,constraints:c,signal:d,onProgress:h}=e,g=[],m=new Set;let b=0,y=0,x=0,_=0,D=0,E=0,A=0,N=0;const q=(B,P)=>{if(d?.aborted)throw new DOMException("Auto build cancelled","AbortError");if(b>c.maxStates)return;if(B>=n.length){if(!dx(P,s,c.requiredMajorIds)){y++;return}const T=ec({slots:P,level:c.level,characterClass:c.characterClass},s);if(!T.derived.skillpointFeasible){x++;return}const $=sx(P,s,c,T);if(!$.ok){D++,$.reason==="attackSpeed"?E++:$.reason==="thresholds"?A++:N++;return}const te=cx(P);if(m.has(te)){_++;return}m.add(te);const{score:ie,breakdown:ue}=lx(T,c.weights,c);g.push({slots:hl(P),score:ie,scoreBreakdown:ue,summary:T});return}const L=n[B],j=l.get(L)??[];for(const T of j){if(b++,b>c.maxStates)break;P[L]=T.id,b%2e3===0&&h?.({phase:"exact-search",processedStates:b,beamSize:0,totalSlots:n.length,expandedSlots:B+1}),q(B+1,P)}P[L]=null};return q(0,hl(r)),h?.({phase:"diagnostics",processedStates:b,beamSize:0,totalSlots:n.length,expandedSlots:n.length,detail:g.length>0?`Exact search produced ${g.length} valid builds. Rejected duplicates=${_}, SP-invalid=${x}, majorID=${y}, hard=${D} (speed=${E}, thresholds=${A}, item=${N}).`:`Exact search produced 0 valid builds. Rejected SP-invalid=${x}, majorID=${y}, duplicates=${_}, hard=${D} (speed=${E}, thresholds=${A}, item=${N}).`}),g.sort((B,P)=>{if(B.score!==P.score)return P.score-B.score;for(const L of Je){const j=B.slots[L]??0,T=P.slots[L]??0;if(j!==T)return j-T}return 0}),g.slice(0,Math.max(1,c.topN))}function Rj(e){const{catalog:n,baseWorkbench:l,constraints:r,onProgress:s,signal:c}=e;if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");let d=hl(l.slots);for(const j of Je)r.lockedSlots[j]||(d[j]=null);d=Ej(d,n,r);const h=Tj(d,n),g=Je.filter(j=>d[j]==null),m=r.onlyPinnedItems?Dj(l):null,b=new Map;for(const j of g)b.set(j,Aj(j,n,r,m?.[j]??null,h));const y=Sj(d,n,r),x=[...g].sort((j,T)=>{if(y?.preferredDirection){const ie=b.get(j)??[],ue=b.get(T)??[],de=ie.reduce((ye,Se)=>{const U=n.itemsById.get(Se.id);if(!U)return ye;const F=ol(U),W=y.preferredDirection>0?Math.max(0,F):Math.max(0,-F);return Math.max(ye,W)},0),ce=ue.reduce((ye,Se)=>{const U=n.itemsById.get(Se.id);if(!U)return ye;const F=ol(U),W=y.preferredDirection>0?Math.max(0,F):Math.max(0,-F);return Math.max(ye,W)},0);if(de!==ce)return ce-de}if(h.length>0){const ie=Py(j,b,n,h),ue=Py(T,b,n,h);if(ie!==ue)return ue-ie}const $=b.get(j)?.length??0,te=b.get(T)?.length??0;return $!==te?$-te:j.localeCompare(T)}),_=fx(x,b);if(x.some(j=>(b.get(j)?.length??0)===0)){const j=x.find(T=>(b.get(T)?.length??0)===0);return s?.({phase:"diagnostics",processedStates:0,beamSize:0,totalSlots:x.length,expandedSlots:0,detail:j?`No candidate items available for slot ${j} under current hard filters.`:"One or more slots have empty candidate pools."}),[]}const D=jj(x,b,r.exhaustiveStateLimit+1);if(r.useExhaustiveSmallPool&&x.length>0&&D>0&&D<=r.exhaustiveStateLimit){s?.({phase:"exact-search",processedStates:0,beamSize:0,totalSlots:x.length,expandedSlots:0});const j={...r,maxStates:Math.max(r.maxStates,r.exhaustiveStateLimit)};return kj({slotOrder:x,candidatePools:b,baseSlots:d,catalog:n,constraints:j,signal:c,onProgress:s})}let E=[{slots:d,orderIndex:0,roughScore:0,optimisticBound:_[0],atkTierAssigned:0}];const A=y?ix(x,b,n):null;let N=0,q=!1;for(let j=0;j<x.length;j++){if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");const T=x[j],$=b.get(T),te=[],ie=hx({poolSize:$.length,beamSize:E.length,remainingStages:x.length-j,processedStates:N,maxStates:r.maxStates});ie<=0&&(q=!0);for(const ce of E){let ye=0;for(const Se of $){if(ye>=ie)break;if(N>=r.maxStates){q=!0;break}N++,ye++;const U=hl(ce.slots);U[T]=Se.id;const F=ce.roughScore+Se.rough,W=n.itemsById.get(Se.id),Y=(ce.atkTierAssigned??0)+(W?ol(W):0);y&&A&&!rx(y,Y,A.minSuffix[j+1],A.maxSuffix[j+1])||te.push({slots:U,orderIndex:j+1,roughScore:F,optimisticBound:F+_[j+1],atkTierAssigned:Y})}if(q)break}if(te.length===0)return s?.({phase:"diagnostics",processedStates:N,beamSize:E.length,totalSlots:x.length,expandedSlots:j,detail:q?`Search state budget exhausted before completing slot ${T}. Try enabling deep fallback/exact mode or reduce hard filters.`:`No expansions produced at slot ${T}.`}),[];const ue=A?A.minSuffix[j+1]:0,de=A?A.maxSuffix[j+1]:0;te.sort((ce,ye)=>{if(y){const Se=lc(y,ce.atkTierAssigned,ue,de),U=lc(y,ye.atkTierAssigned,ue,de);if(Se!==U)return U-Se}return ce.optimisticBound!==ye.optimisticBound?ye.optimisticBound-ce.optimisticBound:ye.roughScore-ce.roughScore}),E=te.slice(0,Math.max(20,r.beamWidth)),s?.({phase:"beam-search",processedStates:N,beamSize:E.length,totalSlots:x.length,expandedSlots:j+1,detail:`branchCap=${ie}${y?.preferredDirection?` | atkSpeedTarget=${r.weaponAttackSpeeds.join("/")}`:""}`})}let B=E,{candidates:P,rejectStats:L}=uf({beam:E,catalog:n,constraints:r,signal:c});if(s?.({phase:"diagnostics",processedStates:N,beamSize:E.length,totalSlots:x.length,expandedSlots:x.length,detail:P.length>0?`Final eval: ${P.length} valid builds. Rejected duplicates=${L.duplicate}, SP-invalid=${L.spInvalid}, majorID=${L.majorIds}, hard=${L.hardConstraints}.`:`Final eval found 0 valid builds. Rejected SP-invalid=${L.spInvalid}, majorID=${L.majorIds}, duplicates=${L.duplicate}, hard=${L.hardConstraints} (speed=${L.hardAttackSpeed}, thresholds=${L.hardThresholds}, item=${L.hardItem}).`}),P.length===0&&x.length>0&&(L.spInvalid>0||r.weaponAttackSpeeds.length>0&&L.hardAttackSpeed>0||L.hardThresholds>0)){const j=L.hardThresholds>0;s?.({phase:"diagnostics",processedStates:N,beamSize:E.length,totalSlots:x.length,expandedSlots:x.length,detail:j&&r.target.customNumericRanges?.length?"Retrying with threshold-aware rescue (advanced ID constraints + support-aware feasibility search).":L.hardAttackSpeed>0?"Retrying with feasibility-first beam search (support-aware rescue + attack-speed target reachability).":"Retrying with feasibility-first beam search (support-aware rescue for high-skill requirements)."});const T=zj({slotOrder:x,candidatePools:b,baseSlots:d,catalog:n,constraints:{...r,maxStates:Math.max(r.maxStates,j?Math.min(18e6,r.maxStates*5):r.weaponAttackSpeeds.length>0?Math.min(16e6,r.maxStates*4):Math.min(8e6,r.maxStates*2)),beamWidth:Math.max(r.beamWidth,j?3600:r.weaponAttackSpeeds.length>0?3200:1800)},focusStats:h,attackSpeedCtx:y,onProgress:s,signal:c});if(T.beam.length>0){B=T.beam;const $=uf({beam:T.beam,catalog:n,constraints:r,signal:c});P=$.candidates,L=$.rejectStats,s?.({phase:"diagnostics",processedStates:T.processedStates,beamSize:T.beam.length,totalSlots:x.length,expandedSlots:x.length,detail:P.length>0?`Feasibility-first eval: ${P.length} valid builds. Rejected duplicates=${L.duplicate}, SP-invalid=${L.spInvalid}, majorID=${L.majorIds}, hard=${L.hardConstraints}.`:`Feasibility-first eval still found 0 valid builds. Rejected SP-invalid=${L.spInvalid}, majorID=${L.majorIds}, duplicates=${L.duplicate}, hard=${L.hardConstraints} (speed=${L.hardAttackSpeed}, thresholds=${L.hardThresholds}, item=${L.hardItem}).`})}}if(P.length===0&&L.spInvalid>0&&L.hardConstraints===0){let j=!1;for(const T of cf){s?.({phase:"diagnostics",processedStates:N,beamSize:B.length,totalSlots:x.length,expandedSlots:x.length,detail:`Retrying final evaluation with tome-assisted SP feasibility (+${T[0]} per stat).`});const $=uf({beam:B,catalog:n,constraints:r,skillpointAssist:T,signal:c});if($.candidates.length>0){P=$.candidates,L=$.rejectStats,j=!0,s?.({phase:"diagnostics",processedStates:N,beamSize:B.length,totalSlots:x.length,expandedSlots:x.length,detail:`Tome-assisted final eval recovered ${P.length} valid builds (+${T[0]} per stat feasibility assist).`});break}L=$.rejectStats}j||s?.({phase:"diagnostics",processedStates:N,beamSize:B.length,totalSlots:x.length,expandedSlots:x.length,detail:`Tome-assisted final eval still found 0 valid builds after +${cf[cf.length-1][0]} per stat assist. Rejected SP-invalid=${L.spInvalid}, majorID=${L.majorIds}, duplicates=${L.duplicate}, hard=${L.hardConstraints} (speed=${L.hardAttackSpeed}, thresholds=${L.hardThresholds}, item=${L.hardItem}).`})}return P.slice(0,Math.max(1,r.topN))}class Oj{worker=null;requestId=0;currentReject=null;currentRequestId=null;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL(""+new URL("worker-runtime-BSocbvqK.js",import.meta.url).href,import.meta.url),{type:"module"}))}async run(n,l,r,s={}){if(!this.worker)return Rj({catalog:n,baseWorkbench:l,constraints:r,onProgress:s.onProgress,signal:s.signal});const c=++this.requestId;return this.currentRequestId=c,new Promise((d,h)=>{this.currentReject=h;const g=()=>{this.worker?.postMessage({type:"cancel",requestId:c}),h(new DOMException("Auto build cancelled","AbortError"))};s.signal?.addEventListener("abort",g,{once:!0});const m=b=>{const y=b.data;if(y.requestId===c){if(y.type==="progress"){s.onProgress?.(y.progress);return}if(this.worker?.removeEventListener("message",m),s.signal?.removeEventListener("abort",g),this.currentReject=null,this.currentRequestId=null,y.type==="error"){h(new Error(y.message));return}d(y.candidates)}};this.worker.addEventListener("message",m),this.worker.postMessage({type:"run",requestId:c,catalog:n,baseWorkbench:l,constraints:r})})}cancelCurrent(){this.currentRequestId!==null&&(this.worker?.postMessage({type:"cancel",requestId:this.currentRequestId}),this.currentReject?.(new DOMException("Auto build cancelled","AbortError")),this.currentReject=null,this.currentRequestId=null)}dispose(){this.worker?.terminate(),this.worker=null}}function Hy(e,n){const l=e.split(",").map(c=>c.trim()).filter(Boolean),r=[],s=[];for(const c of l){const d=n.itemIdByName.get(c.toLowerCase());d==null?s.push(c):r.push(d)}return{ids:r,unknown:s}}function Di(e,n){return e.split(",").map(l=>l.trim()).filter(Boolean).map(l=>n?n(l):l)}function zo(e,n){return e.includes(n)?e.filter(l=>l!==n):[...e,n]}const Bj=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"],ko={balanced:"Balanced",damage:"Damage",tank:"Tank / EHP",spell:"Spell Caster",melee:"Melee",speed:"Mobility",sustain:"Sustain"},Lj=new Set(["reqTotal","skillPointTotal","offenseScore","ehpProxy","utilityScore"]),df={auto:"Auto (Recommended)",fast:"Fast",constraint:"Constraint-first",exhaustive:"Exhaustive-ish"};function ff(e){return{hpBonus:"HP Bonus",hprRaw:"HPR Raw",hprPct:"HPR %",mr:"Mana Regen",ms:"Mana Steal",ls:"Life Steal",sdPct:"Spell Damage %",sdRaw:"Spell Damage Raw",mdPct:"Melee Damage %",mdRaw:"Melee Damage Raw",poison:"Poison",spd:"Walk Speed",atkTier:"Attack Speed Bonus",averageDps:"Average DPS",str:"STR Bonus",dex:"DEX Bonus",int:"INT Bonus",def:"DEF Bonus",agi:"AGI Bonus",strReq:"STR Req",dexReq:"DEX Req",intReq:"INT Req",defReq:"DEF Req",agiReq:"AGI Req"}[e]??e}function Zy(e){const n={...ia.weights};switch(e){case"damage":return{...n,legacyBaseDps:2.4,legacyEhp:.25,dpsProxy:2.2,ehpProxy:.2,speed:.5,sustain:.3};case"tank":return{...n,legacyBaseDps:.45,legacyEhp:2.2,dpsProxy:.4,ehpProxy:1.8,speed:.2,sustain:.75};case"spell":return{...n,legacyBaseDps:1.4,legacyEhp:.45,dpsProxy:2,ehpProxy:.35,speed:.4,sustain:1};case"melee":return{...n,legacyBaseDps:1.8,legacyEhp:.55,dpsProxy:1.7,ehpProxy:.45,speed:.8,sustain:.4};case"speed":return{...n,legacyBaseDps:.8,legacyEhp:.5,dpsProxy:.9,ehpProxy:.45,speed:2,sustain:.5};case"sustain":return{...n,legacyBaseDps:.7,legacyEhp:1,dpsProxy:.7,ehpProxy:1,speed:.3,sustain:2};default:return n}}function Uj(e,n){const l=Zy(e);if(!n||n===e)return l;const r=Zy(n);return{legacyBaseDps:l.legacyBaseDps*.7+r.legacyBaseDps*.3,legacyEhp:l.legacyEhp*.7+r.legacyEhp*.3,dpsProxy:l.dpsProxy*.7+r.dpsProxy*.3,ehpProxy:l.ehpProxy*.7+r.ehpProxy*.3,speed:l.speed*.7+r.speed*.3,sustain:l.sustain*.7+r.sustain*.3,skillPointTotal:l.skillPointTotal*.7+r.skillPointTotal*.3,reqTotalPenalty:l.reqTotalPenalty*.7+r.reqTotalPenalty*.3}}function qj(e){const n=w.useRef(null);n.current||(n.current=new Oj);const[l,r]=w.useState(""),[s,c]=w.useState(""),[d,h]=w.useState(""),[g,m]=w.useState(""),[b,y]=w.useState(null),[x,_]=w.useState(null),[D,E]=w.useState(null),[A,N]=w.useState(null),[q,B]=w.useState(null),[P,L]=w.useState(null),[j,T]=w.useState([]),[$,te]=w.useState("balanced"),[ie,ue]=w.useState(null),[de,ce]=w.useState(e.snapshot.characterClass),[ye,Se]=w.useState(e.snapshot.level),[U,F]=w.useState([]),[W,Y]=w.useState([]),[re,M]=w.useState(null),[H,ee]=w.useState(!1),[ae,pe]=w.useState(ia.beamWidth),[me,Ne]=w.useState(ia.topKPerSlot),[ot,Ye]=w.useState(ia.topN),[Xe,_n]=w.useState("auto"),[Pt,Wn]=w.useState([]),[wt,Rt]=w.useState(""),[Xt,qn]=w.useState(!1),[J,le]=w.useState(null),[Me,Ue]=w.useState(!1),[_t,dn]=w.useState(!0),[Ie,In]=w.useState(!0),[Aa,Pn]=w.useState(ia.exhaustiveStateLimit),[fn,Jn]=w.useState(null),Hn=w.useRef(null),tn=w.useRef(null),Il=w.useRef(1),ea=w.useMemo(()=>{const X={};for(const ne of Je)e.snapshot.locks[ne]&&(X[ne]=!0);return X},[e.snapshot.locks]),Ot=e.catalog?.facetsMeta.tiers??[],Kt=(e.catalog?.facetsMeta.majorIds??[]).slice(0,24),Et=w.useMemo(()=>Object.keys(e.catalog?.facetsMeta.numericRanges??{}).filter(ne=>!Lj.has(ne)).sort((ne,be)=>ff(ne).localeCompare(ff(be))),[e.catalog]);w.useEffect(()=>{e.open&&(ce(e.snapshot.characterClass),Se(e.snapshot.level))},[e.open,e.snapshot.characterClass,e.snapshot.level]);const Yi=()=>{T(X=>[...X,{id:Il.current++,key:Et[0]??"",min:null,max:null}])},Da=(X,ne)=>{T(be=>be.map(Te=>Te.id===X?{...Te,...ne}:Te))},Fi=X=>{T(ne=>ne.filter(be=>be.id!==X))},ja=async(X,ne,be,Te)=>{const at=(()=>{const lt={label:"Fast pass",topKPerSlot:ne.topKPerSlot,beamWidth:ne.beamWidth,maxStates:ne.maxStates,rescueWeights:!1},qe={label:"Deep pass",topKPerSlot:Math.max(ne.topKPerSlot,140),beamWidth:Math.max(ne.beamWidth,700),maxStates:Math.max(ne.maxStates,9e5),rescueWeights:!1},vt={label:"Bruteforce-ish pass",topKPerSlot:Math.max(ne.topKPerSlot,220),beamWidth:Math.max(ne.beamWidth,1200),maxStates:Math.max(ne.maxStates,4e6),rescueWeights:!1},Dt={label:"Feasibility rescue",topKPerSlot:Math.max(ne.topKPerSlot,260),beamWidth:Math.max(ne.beamWidth,1400),maxStates:Math.max(ne.maxStates,45e5),rescueWeights:!0},Pe={label:"Constraint-first pass",topKPerSlot:Math.max(ne.topKPerSlot,180),beamWidth:Math.max(ne.beamWidth,1200),maxStates:Math.max(ne.maxStates,22e5),rescueWeights:!0},Qt={label:"Constraint rescue deep",topKPerSlot:Math.max(ne.topKPerSlot,280),beamWidth:Math.max(ne.beamWidth,2200),maxStates:Math.max(ne.maxStates,9e6),rescueWeights:!0,useExhaustiveSmallPool:!0,exhaustiveStateLimit:Math.max(ne.exhaustiveStateLimit,12e5)},Wt={label:"Exhaustive-ish pass",topKPerSlot:Math.max(ne.topKPerSlot,300),beamWidth:Math.max(ne.beamWidth,2600),maxStates:Math.max(ne.maxStates,12e6),rescueWeights:!0,useExhaustiveSmallPool:!0,exhaustiveStateLimit:Math.max(ne.exhaustiveStateLimit,2e6)};switch(Xe){case"fast":return[lt];case"constraint":return _t?[Pe,Qt,Wt]:[Pe];case"exhaustive":return _t?[Pe,Wt]:[Wt];default:return[lt,..._t?[qe,vt,Dt]:[]]}})();let We=[];for(let lt=0;lt<at.length;lt++){if(Te.aborted)throw new DOMException("Auto build cancelled","AbortError");const qe=at[lt],vt={...ne,topKPerSlot:qe.topKPerSlot,beamWidth:qe.beamWidth,maxStates:qe.maxStates,useExhaustiveSmallPool:qe.useExhaustiveSmallPool??ne.useExhaustiveSmallPool,exhaustiveStateLimit:qe.exhaustiveStateLimit??ne.exhaustiveStateLimit,weights:qe.rescueWeights?{...ne.weights,legacyBaseDps:ne.weights.legacyBaseDps*.6,dpsProxy:ne.weights.dpsProxy*.55,legacyEhp:Math.max(ne.weights.legacyEhp,1),ehpProxy:Math.max(ne.weights.ehpProxy,1),sustain:Math.max(ne.weights.sustain,.8),skillPointTotal:Math.max(ne.weights.skillPointTotal,.8),reqTotalPenalty:Math.max(ne.weights.reqTotalPenalty,1.8)}:ne.weights};Rt(`${qe.label} (${lt+1}/${at.length})  topK ${vt.topKPerSlot}, beam ${vt.beamWidth}, maxStates ${vt.maxStates}`);const Dt=await n.current.run(X,be,vt,{signal:Te,onProgress:Pe=>{Pe.phase==="diagnostics"&&Pe.detail&&(Hn.current=Pe.detail,Jn(Pe.detail)),Rt(`${qe.label} (${lt+1}/${at.length})  ${Pe.phase}: ${Pe.expandedSlots}/${Pe.totalSlots} slots, beam ${Pe.beamSize}, states ${Pe.processedStates}${Pe.detail?`  ${Pe.detail}`:""}`)}});if(Dt.length>0)return Dt;We=Dt}return We},za=async()=>{if(!e.catalog)return;le(null),Wn([]),Jn(null),Hn.current=null;const X=Hy(l,e.catalog),ne=Hy(s,e.catalog),be=Di(d,ve=>ve.toUpperCase()),Te=Di(g,ve=>ve.toUpperCase()),at=new Set(e.catalog.facetsMeta.majorIds.map(ve=>ve.toUpperCase())),We=be.filter(ve=>!at.has(ve)),lt=Te.filter(ve=>!at.has(ve)),qe=j.map(ve=>({key:ve.key.trim(),min:ve.min??void 0,max:ve.max??void 0})).filter(ve=>ve.key&&(typeof ve.min=="number"||typeof ve.max=="number")),vt=new Set(Object.keys(e.catalog.facetsMeta.numericRanges)),Dt=qe.map(ve=>ve.key).filter(ve=>!vt.has(ve)),Pe=qe.filter(ve=>typeof ve.min=="number"&&typeof ve.max=="number"&&ve.min>ve.max);if(X.unknown.length>0||ne.unknown.length>0||We.length>0||lt.length>0||Dt.length>0||Pe.length>0){le([X.unknown.length?`Unknown must-include items: ${X.unknown.join(", ")}`:"",ne.unknown.length?`Unknown excluded items: ${ne.unknown.join(", ")}`:"",We.length?`Unknown required major IDs: ${We.join(", ")}`:"",lt.length?`Unknown excluded major IDs: ${lt.join(", ")}`:"",Dt.length?`Unknown advanced ID keys: ${Dt.join(", ")}`:"",Pe.length?`Invalid advanced ID ranges (min > max): ${Pe.map(ve=>ve.key).join(", ")}`:""].filter(Boolean).join(" | "));return}const Qt={...ia,characterClass:de,level:Math.max(1,Math.min(106,Math.round(ye||e.snapshot.level||106))),mustIncludeIds:X.ids,excludedIds:ne.ids,lockedSlots:ea,target:{minLegacyBaseDps:b??void 0,minLegacyEhp:x??void 0,minMr:D??void 0,minMs:A??void 0,minSpeed:q??void 0,maxReqTotal:P??void 0,customNumericRanges:qe},allowedTiers:[...U],requiredMajorIds:be,excludedMajorIds:Te,weaponAttackSpeeds:[...W],minPowderSlots:re,onlyPinnedItems:H,useExhaustiveSmallPool:Ie,exhaustiveStateLimit:Math.max(1e3,Math.min(5e6,Aa)),weights:Uj($,ie),topN:Math.max(1,Math.min(50,ot)),topKPerSlot:Math.max(10,Math.min(300,me)),beamWidth:Math.max(20,Math.min(5e3,ae))};tn.current?.abort();const Wt=new AbortController;tn.current=Wt,qn(!0),Rt("Starting...");try{const ve=await ja(e.catalog,Qt,e.snapshot,Wt.signal);if(Wn(ve),ve.length===0){Rt("");const dt=Hn.current??"",Ht=/SP-invalid=(\d+)/i.exec(dt),oa=Ht?Number(Ht[1]):0,Pl=/hard=.*?\(speed=(\d+)/i.exec(dt),ls=Pl?Number(Pl[1]):0,is=/hard=.*?\(speed=\d+,\s*thresholds=(\d+)/i.exec(dt),Vi=is?Number(is[1]):0,ka=/Tome-assisted final eval still found 0 valid builds/i.test(dt);le(["No valid candidates found.",Hn.current?`Diagnostics: ${Hn.current}`:"",ka?"Even after a tome-assisted feasibility retry, the explored candidate builds still failed skill-point/equip-order feasibility.":oa>0?"The engine found many full builds, but they failed skill-point/equip-order feasibility. This is not just a UI filter issue.":ls>0?"The engine found many full builds, but they failed the final attack-speed target. This usually means the search is missing enough +atkTier support for the selected weapon/target combination.":Vi>0&&qe.length>0?"The engine found many full builds, but they failed advanced ID min/max thresholds. This usually means the search is not preserving enough support items for those IDs.":"This usually means your hard constraints are too strict (pinned-only, major IDs, must-includes, attack-speed, or thresholds), or the selected objective conflicts with them.",ka?"This usually means the current search still is not surfacing enough requirement-support gear for the chosen weapon/goal combination. Try Exact Search + Deep Fallback, Balanced/Tank objective, and pin a few known requirement/attack-speed support items.":oa>0?"Try switching Primary Goal to Balanced or Tank, lowering Min Base DPS/EHP thresholds, and keeping Exact Search + Deep Fallback enabled.":ls>0?"Tip: keep Exact Search + Deep Fallback enabled, lower thresholds, and try adding/pinning known +Attack Speed Bonus support items for the target speed.":Vi>0&&qe.length>0?"Tip: switch Solver Strategy to Constraint-first or Exhaustive-ish and keep Deep Fallback enabled. For strict advanced IDs, add only the most important thresholds first.":"Tip: disable pinned-only first, remove major-ID constraints, then try again."].join(" "))}else Rt(`Completed. ${ve.length} valid candidates.`)}catch(ve){le(ve instanceof Error?ve.message:"Auto builder failed"),Rt("")}finally{qn(!1)}},ct=()=>{tn.current?.abort(),n.current?.cancelCurrent(),qn(!1),Rt("Cancelled")},nt=J??fn,pt=!!J;return p.jsx(Hb,{open:e.open,onOpenChange:e.onOpenChange,title:"Build Solver",description:"Beam search over item combinations. Uses Workbench summary metrics (legacy-style Base DPS / EHP, ability tree excluded).",footer:p.jsxs("div",{className:"flex items-center justify-between gap-3",children:[p.jsx("div",{className:"text-sm text-[var(--wb-muted)]",children:wt}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Re,{variant:"ghost",onClick:()=>Ue(X=>!X),children:Me?"Hide Tips":"Tips"}),Xt?p.jsx(Re,{variant:"ghost",onClick:ct,children:"Cancel"}):null,p.jsx(Re,{variant:"primary",onClick:za,disabled:!e.catalog||Xt,children:"Generate Candidates"})]})]}),children:p.jsxs("div",{className:"grid gap-4 lg:grid-cols-[420px_minmax(0,1fr)] lg:items-start",children:[p.jsxs("div",{className:"grid gap-3",children:[Me?p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Tips (New Players)"}),p.jsxs("div",{className:"grid gap-2 text-xs text-[var(--wb-muted)]",children:[p.jsxs("div",{children:["1. Start with a Primary Goal like ",p.jsx("b",{children:"Damage"})," or ",p.jsx("b",{children:"Tank / EHP"}),". Leave most constraints empty."]}),p.jsx("div",{children:"2. Add only a few hard constraints first: class/level, maybe one must-include item."}),p.jsxs("div",{children:["3. If you get 0 candidates, turn off ",p.jsx("b",{children:"Only use pinned items in bins"})," and clear major-ID constraints."]}),p.jsx("div",{children:"4. Build Solver filters out builds that fail skill requirements / equip order feasibility."}),p.jsx("div",{children:"5. Use Workbench bins to guide it: pin good options, then rerun with pinned-only once you have enough items in each slot category."})]})]}):null,p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Optimization"}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Primary Goal"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(ko).map(X=>p.jsx(zt,{active:$===X,onClick:()=>te(X),children:ko[X]},X))})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Secondary Goal (optional)"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(zt,{active:ie===null,onClick:()=>ue(null),children:"None"}),Object.keys(ko).map(X=>p.jsx(zt,{active:ie===X,onClick:()=>ue(X),children:ko[X]},X))]})]}),p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2 text-xs text-[var(--wb-muted)]",children:"Build Solver always filters out builds that fail skill point/equip-order feasibility. You do not need to set a minimum SP total."})]})]}),p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Hard Constraints (Optional)"}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Character Class"}),p.jsxs("select",{className:"wb-select",value:de??"",onChange:X=>ce(X.target.value||null),children:[p.jsx("option",{value:"",children:"Auto / Any"}),p.jsx("option",{value:"Warrior",children:"Warrior"}),p.jsx("option",{value:"Assassin",children:"Assassin"}),p.jsx("option",{value:"Mage",children:"Mage"}),p.jsx("option",{value:"Archer",children:"Archer"}),p.jsx("option",{value:"Shaman",children:"Shaman"})]})]}),p.jsx(Rn,{label:"Level",value:ye,onChange:X=>Se(X??e.snapshot.level),min:1,max:106}),p.jsx(Rn,{label:"Min Base DPS",value:b,onChange:y,min:0}),p.jsx(Rn,{label:"Min Effective HP",value:x,onChange:_,min:0}),p.jsxs("div",{children:[p.jsx(xt,{children:"Must-Include Items (comma-separated names)"}),p.jsx("textarea",{className:"wb-textarea min-h-20",value:l,onChange:X=>r(X.target.value),placeholder:"Example: Cancer, Stardew"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(Rn,{label:"Min MR",value:D,onChange:E,min:0}),p.jsx(Rn,{label:"Min MS",value:A,onChange:N,min:0}),p.jsx(Rn,{label:"Min Walk Speed",value:q,onChange:B}),p.jsx(Rn,{label:"Max Req Total",value:P,onChange:L,min:0})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Excluded Items (comma-separated names)"}),p.jsx("textarea",{className:"wb-textarea min-h-20",value:s,onChange:X=>c(X.target.value),placeholder:"Blacklist item names"})]}),p.jsxs("details",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsx("summary",{className:"cursor-pointer text-sm font-medium",children:"Advanced: Specific ID Min / Max"}),p.jsxs("div",{className:"mt-3 grid gap-3",children:[p.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:"Set build-wide min/max totals for specific item IDs (for example `sdPct`, `poison`, `atkTier`, `hprRaw`). These are hard constraints."}),j.length===0?p.jsx("div",{className:"rounded-lg border border-dashed border-[var(--wb-border-muted)] px-3 py-2 text-xs text-[var(--wb-muted)]",children:"No advanced ID thresholds yet."}):null,j.map(X=>{const ne=e.catalog?.facetsMeta.numericRanges[X.key];return p.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] p-2",children:[p.jsxs("div",{className:"grid gap-2 sm:grid-cols-[minmax(0,1fr)_100px_100px_auto] sm:items-end",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"ID"}),p.jsx("select",{className:"wb-select",value:X.key,onChange:be=>Da(X.id,{key:be.target.value}),children:Et.map(be=>p.jsxs("option",{value:be,children:[ff(be)," (",be,")"]},be))})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Min"}),p.jsx("input",{className:"wb-input",type:"number",value:X.min??"",onChange:be=>{const Te=be.target.value.trim();Da(X.id,{min:Te===""?null:Number(Te)})}})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Max"}),p.jsx("input",{className:"wb-input",type:"number",value:X.max??"",onChange:be=>{const Te=be.target.value.trim();Da(X.id,{max:Te===""?null:Number(Te)})}})]}),p.jsx(Re,{variant:"ghost",onClick:()=>Fi(X.id),children:"Remove"})]}),ne?p.jsxs("div",{className:"mt-1 text-[11px] text-[var(--wb-muted)]",children:["Catalog item range: ",ne.min," to ",ne.max," (per item)"]}):null]},X.id)}),p.jsx("div",{children:p.jsx(Re,{variant:"ghost",onClick:Yi,disabled:Et.length===0,children:"Add ID Threshold"})})]})]})]})]}),p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Pool Filters"}),p.jsxs("div",{className:"grid gap-3",children:[p.jsx(Rn,{label:"Min Powder Slots",value:re,onChange:M,min:0,max:6}),p.jsxs("div",{children:[p.jsx(xt,{children:"Allowed Tiers (optional)"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ot.map(X=>p.jsx(zt,{active:U.includes(X),onClick:()=>F(ne=>zo(ne,X)),children:X},X)),Ot.length===0?p.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"Catalog not loaded."}):null]})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Final Weapon Attack Speed (optional hard constraint)"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Bj.map(X=>p.jsx(zt,{active:W.includes(X),onClick:()=>Y(ne=>zo(ne,X)),children:X},X))}),p.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:"Matches the completed build attack speed (weapon base speed plus total Attack Speed Bonus / `atkTier`)."})]}),p.jsx(zt,{active:H,onClick:()=>ee(X=>!X),children:"Only use pinned items in bins"}),p.jsxs("div",{children:[p.jsx(xt,{children:"Required Major IDs (build must include all)"}),p.jsx("textarea",{className:"wb-textarea min-h-16",value:d,onChange:X=>h(X.target.value),placeholder:"Example: HAWKEYE, GREED"})]}),p.jsxs("div",{children:[p.jsx(xt,{children:"Excluded Major IDs (avoid any item with these)"}),p.jsx("textarea",{className:"wb-textarea min-h-16",value:g,onChange:X=>m(X.target.value),placeholder:"Example: NAPALM"})]}),Kt.length>0?p.jsxs("div",{children:[p.jsx(xt,{children:"Major ID Quick Picks"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Kt.map(X=>{const ne=Di(d,Te=>Te.toUpperCase()),be=Di(g,Te=>Te.toUpperCase());return p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsxs(zt,{active:ne.includes(X.toUpperCase()),onClick:()=>{h(Te=>zo(Di(Te,at=>at.toUpperCase()),X.toUpperCase()).join(", "))},title:`Require ${X}`,children:["+",X]}),p.jsxs(zt,{active:be.includes(X.toUpperCase()),onClick:()=>{m(Te=>zo(Di(Te,at=>at.toUpperCase()),X.toUpperCase()).join(", "))},title:`Exclude ${X}`,children:["-",X]})]},X)})})]}):null]})]}),p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Search Heuristics"}),p.jsxs("div",{className:"grid gap-3",children:[p.jsxs("div",{children:[p.jsx(xt,{children:"Solver Strategy"}),p.jsx("select",{className:"wb-select",value:Xe,onChange:X=>_n(X.target.value),children:Object.keys(df).map(X=>p.jsx("option",{value:X,children:df[X]},X))}),p.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:Xe==="auto"?"Starts fast, then retries deeper if needed.":Xe==="fast"?"Single fast pass. Lowest wait time, weakest fallback.":Xe==="constraint"?"Better for strict attack-speed or advanced ID min/max constraints.":"Highest search budget and broader retries. Slowest, but strongest fallback."})]}),p.jsx(zt,{active:_t,onClick:()=>dn(X=>!X),children:"Deep fallback if 0 results"}),p.jsx(zt,{active:Ie,onClick:()=>In(X=>!X),children:"Exact search for small pools"}),p.jsx(Rn,{label:"Exact Search Combination Limit",value:Aa,onChange:X=>Pn(X??ia.exhaustiveStateLimit),min:1e3,max:5e6}),p.jsx(Rn,{label:"Beam Width",value:ae,onChange:X=>pe(X??ia.beamWidth),min:20,max:5e3}),p.jsx(Rn,{label:"Top K per Slot",value:me,onChange:X=>Ne(X??ia.topKPerSlot),min:10,max:300}),p.jsx(Rn,{label:"Top N Results",value:ot,onChange:X=>Ye(X??ia.topN),min:1,max:50}),p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2 text-xs text-[var(--wb-muted)]",children:["Locked slots from the Workbench will be preserved. Current locks: ",Object.values(ea).filter(Boolean).length,H?" | Candidate pools restricted to pinned bins.":"",Xe!=="auto"?` | Strategy: ${df[Xe]}.`:"",_t?" | Auto retries with deeper search if fast pass finds 0 candidates.":"",Ie?` | Exact enumeration is used automatically when pool combinations are <= ${Math.round(Aa).toLocaleString()}.`:""]})]})]})]}),p.jsx("div",{className:"grid min-h-0 auto-rows-min gap-3 self-start lg:sticky lg:top-0",children:p.jsxs("div",{className:"wb-card flex min-h-0 flex-col p-3",children:[p.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[p.jsx("div",{className:"text-sm font-semibold",children:"Candidates"}),p.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[Pt.length," shown"]})]}),nt?p.jsxs("details",{className:`mb-2 rounded-xl border p-2 ${pt?"border-rose-400/30 bg-rose-400/8 text-rose-100":"border-sky-400/20 bg-sky-400/5 text-sky-100"}`,children:[p.jsx("summary",{className:"cursor-pointer list-none text-xs font-medium",children:pt?"Run issue (click to expand)":"Diagnostics (click to expand)"}),p.jsx("div",{className:"mt-2 text-xs leading-relaxed",children:nt})]}):null,p.jsx("div",{className:"min-h-0 space-y-2 overflow-auto pr-1 wb-scrollbar max-h-[52vh] lg:max-h-[56vh]",children:Pt.length===0?p.jsx("div",{className:"rounded-xl border border-dashed border-[var(--wb-border)] p-4 text-sm text-[var(--wb-muted)]",children:"Run Build Solver to generate candidate builds."}):Pt.map((X,ne)=>p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3",children:[p.jsxs("div",{className:"flex items-start justify-between gap-3",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-semibold",children:["#",ne+1," | Score ",Math.round(X.score).toLocaleString()]}),p.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["Base DPS ",Math.round(X.summary.derived.legacyBaseDps)," | EHP ",Math.round(X.summary.derived.legacyEhp)," | Req ",X.summary.derived.reqTotal," | MR ",X.summary.aggregated.mr]}),p.jsxs("div",{className:"mt-1 text-xs text-emerald-200",children:["SP Valid | Assigned SP ",Math.round(X.summary.derived.assignedSkillPointsRequired)]})]}),p.jsx(Re,{className:"px-2 py-1 text-xs",onClick:()=>e.onLoadCandidate(X),children:"Load into Workbench"})]}),p.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1 text-xs sm:grid-cols-2 xl:grid-cols-3",children:Je.map(be=>p.jsxs("div",{className:"min-w-0 rounded-md border border-[var(--wb-border-muted)] bg-black/10 px-2 py-1",children:[p.jsx("div",{className:"text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:be}),p.jsx("div",{className:"truncate",children:X.slots[be]!=null?e.catalog?.itemsById.get(X.slots[be])?.displayName??X.slots[be]:"Empty"})]},be))})]},`${X.score}-${ne}`))})]})})]})})}const Ij=["Warrior","Assassin","Mage","Archer","Shaman"],hf=[0,1,2,2,3,3,4,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,16,16,17,17,18,18,19,19,20,20,20,21,21,22,22,23,23,23,24,24,25,25,26,26,27,27,28,28,29,29,30,30,31,31,32,32,33,33,34,34,34,35,35,35,36,36,36,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45];function Rl(e,n=0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}return n}function Ur(e){return typeof e=="string"?e:""}function mf(e){return Array.isArray(e)?e.map(n=>Rl(n,Number.NaN)).filter(n=>Number.isFinite(n)).map(n=>Math.trunc(n)):[]}function Pj(e){const n=Rl(e.id,Number.NaN);if(!Number.isFinite(n))return null;const l=Rl(e.display?.row,0),r=Rl(e.display?.col,0);return{id:Math.trunc(n),displayName:Ur(e.display_name)||`Ability ${n}`,descriptionHtml:Ur(e.desc),parents:mf(e.parents),dependencies:mf(e.dependencies),blockers:mf(e.blockers),cost:Math.max(0,Math.trunc(Rl(e.cost,1))),archetype:Ur(e.archetype).trim()||null,archetypeReq:Math.max(0,Math.trunc(Rl(e.archetype_req,0))),reqArchetype:Ur(e.req_archetype).trim()||null,baseAbilityId:e.base_abil==null?null:Math.trunc(Rl(e.base_abil,Number.NaN)),display:{row:Math.max(0,Math.trunc(l)),col:Math.max(0,Math.trunc(r)),icon:Ur(e.display?.icon)||"node_0"},properties:typeof e.properties=="object"&&e.properties?e.properties:{},effects:Array.isArray(e.effects)?e.effects.filter(s=>!!s&&typeof s=="object"):[]}}function Hj(e,n){const l=n.map(Pj).filter(d=>d!==null).sort((d,h)=>{const g=d.display.row-h.display.row;if(g!==0)return g;const m=d.display.col-h.display.col;return m!==0?m:d.id-h.id}),r=new Map;let s=0,c=0;for(const d of l)r.set(d.id,d),s=Math.max(s,d.display.row),c=Math.max(c,d.display.col);return{className:e,nodes:l,nodeById:r,maxRow:s,maxCol:c}}function Zj(e,n){const l={};for(const r of Ij){const s=Array.isArray(e[r])?e[r]:[];l[r]=Hj(r,s)}return{version:n,classes:l}}function $j(e){if(!Number.isFinite(e))return 45;const n=Math.trunc(e);return n>=hf.length?45:n<1?hf[1]:hf[n]??45}function gf(e,n,l,r,s){if(e.parents.length===0)return e.cost>s?{ok:!1,hardBlocked:!1,reason:"not enough ability points left"}:{ok:!0,hardBlocked:!1,reason:""};const c=e.dependencies.filter(g=>!l.has(g));if(c.length>0)return{ok:!1,hardBlocked:!0,reason:`missing dep: ${c.map(m=>`"${n.nodeById.get(m)?.displayName??m}"`).join(", ")}`};const d=e.blockers.filter(g=>l.has(g));if(d.length>0)return{ok:!1,hardBlocked:!0,reason:`blocked by: ${d.map(m=>`"${n.nodeById.get(m)?.displayName??m}"`).join(", ")}`};if(!e.parents.some(g=>l.has(g)))return{ok:!1,hardBlocked:!1,reason:"not reachable"};if(e.archetypeReq>0){const g=e.reqArchetype||e.archetype,m=g?r.get(g)??0:0;if(!g||m<e.archetypeReq)return{ok:!1,hardBlocked:!1,reason:`${g??"Archetype"}: ${m} < ${e.archetypeReq}`}}return e.cost>s?{ok:!1,hardBlocked:!1,reason:"not enough ability points left"}:{ok:!0,hardBlocked:!1,reason:""}}function Yj(e,n,l){const r=new Set(n.filter(A=>e.nodeById.has(A)));let s=new Set(r),c=e.nodes.filter(A=>s.has(A.id));const d=new Set,h=new Map;let g=0;const m=new Map;for(;;){let A=!1;const N=[];for(const q of c){const B=gf(q,e,d,h,9999);if(!B.ok){N.push(q),m.set(q.id,{reason:B.reason,hardBlocked:B.hardBlocked});continue}m.delete(q.id),d.add(q.id),s.delete(q.id),g+=q.cost,q.archetype&&h.set(q.archetype,(h.get(q.archetype)??0)+1),A=!0}if(c=N,!A)break}const b=$j(l),y=b-g,x=[];for(const A of e.nodes){if(d.has(A.id))continue;gf(A,e,d,h,y).ok&&x.push(A.id)}const _={};for(const A of e.nodes){if(d.has(A.id)){_[A.id]={active:!0,selectable:!0,hardBlocked:!1,reason:null};continue}const N=m.get(A.id);if(N){_[A.id]={active:!1,selectable:!1,hardBlocked:N.hardBlocked,reason:N.reason};continue}const q=gf(A,e,d,h,y);_[A.id]={active:!1,selectable:q.ok,hardBlocked:q.hardBlocked,reason:q.ok?null:q.reason}}const D=[];let E=!1;g>b&&D.push(`too many ability points assigned! (${g} > ${b})`);for(const A of c){const N=m.get(A.id);N&&(N.hardBlocked&&(E=!0),D.push(`${A.displayName}: ${N.reason}`))}return{apCap:b,apUsed:g,apRemaining:y,reachable:d,pending:c,unresolved:m,availableIds:x,errors:D,hardErrors:E,archetypeCounts:h,nodeStatusById:_}}function Sc(e,n,l){const r=Yj(e,n,l),s=e.nodes.filter(h=>r.reachable.has(h.id)).map(h=>h.id),c=r.pending.map(h=>h.id),d=Object.fromEntries([...r.archetypeCounts.entries()].sort((h,g)=>h[0].localeCompare(g[0])));return{className:e.className,level:l,apCap:r.apCap,apUsed:r.apUsed,apRemaining:r.apRemaining,selectedIdsInput:[...n],activeIds:s,unresolvedIds:c,availableIds:r.availableIds,hardErrors:r.hardErrors,errors:r.errors,archetypeCounts:d,nodeStatusById:r.nodeStatusById}}function Fj(e,n,l){let r=[...new Set(n)].filter(s=>e.nodeById.has(s));for(;;){const s=Sc(e,r,l);if(s.unresolvedIds.length===0&&s.apUsed<=s.apCap)return s.activeIds;const c=new Set(s.activeIds),d=r.filter(h=>c.has(h));if(d.length===r.length)return d;r=d}}function Vj(e,n,l,r){if(!e.nodeById.has(l))return[...n];const s=new Set(n);return s.has(l)?(s.delete(l),Fj(e,[...s],r)):Sc(e,n,r).nodeStatusById[l]?.selectable?(s.add(l),e.nodes.filter(h=>s.has(h.id)).map(h=>h.id)):[...n]}function mx(e,n){return!e||!n?null:e.classes[n]??null}function Gj(e){return e.length>20?`${e.slice(0,19)}`:e}function Xj(e,n){return e??n??null}function Kj(e){const n=Xj(e.selectedClass,e.inferredClass),l=w.useMemo(()=>mx(e.dataset,n),[e.dataset,n]),r=w.useMemo(()=>n?e.selectionsByClass[n]??[]:[],[e.selectionsByClass,n]),s=w.useMemo(()=>l?Sc(l,r,e.level):null,[l,r,e.level]),[c,d]=w.useState(null);w.useEffect(()=>{if(!l){d(null);return}c!=null&&l.nodeById.has(c)||d(s?.activeIds[0]??l.nodes[0]?.id??null)},[l,c,s]);const h=w.useMemo(()=>!l||c==null?null:l.nodeById.get(c)??null,[l,c]),g=_=>{n&&e.onSelectionsChange({...e.selectionsByClass,[n]:_})},m=_=>{if(!l||!n)return;const D=Vj(l,r,_,e.level);g(D),d(_)},b=()=>{n&&e.onSelectionsChange({...e.selectionsByClass,[n]:[]})},y=s?.activeIds.length??0,x=l?{gridTemplateColumns:`repeat(${Math.max(1,l.maxCol+1)}, minmax(56px, 1fr))`,gridTemplateRows:`repeat(${Math.max(1,l.maxRow+1)}, minmax(56px, auto))`}:void 0;return p.jsx(Hb,{open:e.open,onOpenChange:e.onOpenChange,title:"Ability Tree",description:"Legacy ability tree data and activation rules integrated into Workbench. Effects are tracked here, but Workbench DPS/EHP still excludes ability-tree math for now.",className:"w-[min(97vw,1320px)]",footer:p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[p.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:n?`Editing ${n} tree at level ${e.level}.`:"Select a class (or equip a class weapon) to start editing an ability tree."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Re,{variant:"ghost",onClick:b,disabled:!n||y===0,children:"Reset Tree"}),p.jsx(Re,{onClick:()=>e.onOpenChange(!1),children:"Done"})]})]}),children:e.loading?p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:"Loading ability tree data..."}):e.error?p.jsx("div",{className:"rounded-xl border border-rose-400/30 bg-rose-400/8 p-4 text-sm text-rose-100",children:e.error}):n?!l||!s?p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:["No ability tree data available for ",n,"."]}):p.jsxs("div",{className:"grid min-h-0 grid-cols-1 gap-3 xl:grid-cols-[minmax(0,1fr)_360px]",children:[p.jsxs("div",{className:"min-h-0 space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-4",children:[p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"AP"}),p.jsxs("div",{className:"mt-1 text-lg font-semibold",children:[s.apUsed," / ",s.apCap]}),p.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[s.apRemaining," left"]})]}),p.jsxs("div",{className:"wb-card p-3",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Selected"}),p.jsx("div",{className:"mt-1 text-lg font-semibold",children:s.activeIds.length}),p.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[s.availableIds.length," available next"]})]}),p.jsxs("div",{className:"wb-card p-3 sm:col-span-2",children:[p.jsxs("div",{className:"mb-2 flex items-center gap-2 text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:[p.jsx(S0,{size:12}),"Archetypes"]}),p.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(s.archetypeCounts).length===0?p.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"No archetype points yet."}):Object.entries(s.archetypeCounts).map(([_,D])=>p.jsxs("span",{className:"wb-chip",children:[_,": ",D]},_))})]})]}),s.errors.length>0?p.jsxs("div",{className:"rounded-xl border border-amber-400/25 bg-amber-400/8 p-3",children:[p.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-semibold text-amber-100",children:[p.jsx(q_,{size:14}),"Tree Validation (",s.hardErrors?"hard":"soft"," issues)"]}),p.jsx(qi,{className:"max-h-28",children:p.jsx("div",{className:"grid gap-1",children:s.errors.map((_,D)=>p.jsx("div",{className:"text-xs text-amber-100/95",children:_},`${_}-${D}`))})})]}):null,p.jsx(Ui,{title:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Gf,{size:14}),n," Tree"]}),headerRight:p.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:e.selectedClass?"Using selected class":e.inferredClass?"Using weapon-inferred class":""}),className:"min-h-0",children:p.jsx(qi,{className:"max-h-[52vh] p-3",children:p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/15 p-2",children:p.jsx("div",{className:"grid gap-2",style:x,children:l.nodes.map(_=>{const D=s.nodeStatusById[_.id],E=!!D?.active,A=!!D?.selectable,N=!!D?.hardBlocked;return p.jsxs("button",{type:"button",className:["rounded-xl border p-2 text-left transition",E?"border-cyan-300/40 bg-cyan-300/12 shadow-[0_0_0_1px_rgba(34,211,238,.15)]":A?"border-emerald-400/30 bg-emerald-400/7 hover:bg-emerald-400/12":N?"border-rose-400/25 bg-rose-400/7":"border-[var(--wb-border-muted)] bg-black/15"].join(" "),style:{gridColumnStart:_.display.col+1,gridRowStart:_.display.row+1},title:D?.reason??"",onClick:()=>m(_.id),onMouseEnter:()=>d(_.id),onFocus:()=>d(_.id),children:[p.jsxs("div",{className:"text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:["#",_.id]}),p.jsx("div",{className:"mt-1 text-xs font-semibold leading-tight",children:Gj(_.displayName)}),p.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px]",children:[p.jsxs("span",{className:"text-[var(--wb-muted)]",children:["AP ",_.cost]}),_.archetype?p.jsx("span",{className:"wb-chip px-1.5 py-0.5",children:_.archetype}):null]})]},_.id)})})})})})]}),p.jsxs("div",{className:"min-h-0 space-y-3",children:[p.jsx(Ui,{title:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(b_,{size:14}),"Node Details"]}),className:"min-h-0",children:p.jsx("div",{className:"space-y-3 p-3",children:h?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-base font-semibold",children:h.displayName}),p.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[p.jsxs("span",{className:"wb-chip",children:["AP ",h.cost]}),h.archetype?p.jsx("span",{className:"wb-chip",children:h.archetype}):null,h.archetypeReq>0?p.jsxs("span",{className:"wb-chip",children:["Req ",h.reqArchetype||h.archetype||"Archetype",": ",h.archetypeReq]}):null,s.nodeStatusById[h.id]?.reason?p.jsx("span",{className:"wb-chip text-amber-100",children:s.nodeStatusById[h.id]?.reason}):null]})]}),p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs leading-relaxed text-[var(--wb-text)] [&_br]:block [&_br]:content-[''] [&_span]:text-inherit",dangerouslySetInnerHTML:{__html:h.descriptionHtml||'<span class="text-slate-400">No description.</span>'}}),p.jsxs("div",{className:"grid gap-2 text-xs",children:[p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Parents"}),p.jsx("div",{className:"mt-1",children:h.parents.length===0?"Root node":h.parents.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}),h.dependencies.length>0?p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Dependencies"}),p.jsx("div",{className:"mt-1",children:h.dependencies.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}):null,h.blockers.length>0?p.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[p.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Blockers"}),p.jsx("div",{className:"mt-1",children:h.blockers.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}):null]})]}):p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Hover or focus an ability node to inspect it here."})})}),p.jsx(Ui,{title:"Selected Abilities",className:"min-h-0",children:p.jsx(qi,{className:"max-h-[28vh] p-3",children:s.activeIds.length===0?p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"No abilities selected yet."}):p.jsx("div",{className:"grid gap-1",children:s.activeIds.map(_=>{const D=l.nodeById.get(_);return D?p.jsx(zt,{className:"justify-start text-left",active:c===_,onClick:()=>d(_),title:`AP ${D.cost}`,children:D.displayName},_):null})})})})]})]}):p.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:"Pick a class in the Workbench header, or equip a weapon so Workbench can infer the class and load the correct ability tree."})})}const $y="2.1.6.0";function Qj(e){return typeof e=="string"&&/^\d+\.\d+\.\d+\.\d+$/.test(e)}function Wj(e){return[...new Set(e)]}class Jj{cache=new Map;async getDataset(n){const l=Qj(n)?n:$y;return this.cache.has(l)||this.cache.set(l,this.loadDataset(l)),this.cache.get(l)}async loadDataset(n){const l=Wj([n,$y]),r=[];for(const s of l){const c=this.buildUrls(s);for(const d of c)try{const h=await fetch(d,{cache:"force-cache"});if(!h.ok)throw new Error(`Failed to fetch ${d}: ${h.status}`);const g=await h.json();return Zj(g,s)}catch(h){r.push(h instanceof Error?h.message:`Failed to fetch ${d}`)}}throw new Error(`Unable to load ability tree data. Tried versions: ${l.join(", ")}. ${r.slice(-4).join(" | ")}`)}buildUrls(n){return[`./data/${n}/atree.json`,`../data/${n}/atree.json`,`data/${n}/atree.json`,`/workbench/data/${n}/atree.json`,`/data/${n}/atree.json`]}}const ez=new Jj;class tz{numeric=new Map;maps=new Map;get(n){return this.maps.has(n)?this.maps.get(n):this.numeric.get(n)??0}getNum(n){const l=this.get(n);return typeof l=="number"?l:0}has(n){return this.maps.has(n)||this.numeric.has(n)}add(n,l){!Number.isFinite(l)||l===0||this.numeric.set(n,(this.numeric.get(n)??0)+l)}set(n,l){Number.isFinite(l)&&this.numeric.set(n,l)}getMap(n){let l=this.maps.get(n);return l||(l=new Map,this.maps.set(n,l)),l}addMap(n,l,r){if(!Number.isFinite(r)||r===0)return;const s=this.getMap(n);s.set(l,(s.get(l)??0)+r)}}const Yy=["str","dex","int","def","agi"],nz=["e","t","w","f","a"],Fn=["n",...nz],Lf=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"],Uf=[.51,.83,1.5,2.05,2.5,3.1,4.3],az=[1,1,1,.867,.951],lz=[1,1,.5/wc(150),.867,.951],iz=["nDam","eDam","tDam","wDam","fDam","aDam"],rz=["Super Slow","Very Slow","Slow","Normal","Fast","Very Fast","Super Fast"],Fy=["str","dex","int","def","agi","sdPct","sdRaw","mdPct","mdRaw","atkTier","damPct","damRaw","rSdPct","rSdRaw","rMdPct","rMdRaw","rDamPct","rDamRaw","critDamPct","healPct","spPct1","spPct2","spPct3","spPct4","spRaw1","spRaw2","spRaw3","spRaw4","spPct1Final","spPct2Final","spPct3Final","spPct4Final","nSdPct","eSdPct","tSdPct","wSdPct","fSdPct","aSdPct","nMdPct","eMdPct","tMdPct","wMdPct","fMdPct","aMdPct","nDamPct","eDamPct","tDamPct","wDamPct","fDamPct","aDamPct","nSdRaw","eSdRaw","tSdRaw","wSdRaw","fSdRaw","aSdRaw","nMdRaw","eMdRaw","tMdRaw","wMdRaw","fMdRaw","aMdRaw","nDamRaw","eDamRaw","tDamRaw","wDamRaw","fDamRaw","aDamRaw","nDamAddMin","nDamAddMax","eDamAddMin","eDamAddMax","tDamAddMin","tDamAddMax","wDamAddMin","wDamAddMax","fDamAddMin","fDamAddMax","aDamAddMin","aDamAddMax","rDamAddMin","rDamAddMax","damAddMin","damAddMax","hp","hpBonus","defMult"];function Qe(e,n=0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}return n}function wc(e){if(e<=0)return 0;let n=e;n>=150&&(n=150);const l=.9908;return l/(1-l)*(1-Math.pow(l,n))/100}function sz(e){return Math.max(1,Math.min(106,Math.round(e||1)))*5+5}function oz(e){if(Array.isArray(e)&&e.length>=2)return[Qe(e[0]),Qe(e[1])];if(typeof e=="string"){const n=e.match(/(-?\d+(?:\.\d+)?)\s*-\s*(-?\d+(?:\.\d+)?)/);if(n)return[Number(n[1]),Number(n[2])]}return[0,0]}function cz(e){if(e.category!=="weapon")return null;const n=e.legacyRaw??{},l=iz.map(s=>oz(n[s])),r=l.map(([s,c])=>s!==0||c!==0);return{atkSpd:typeof n.atkSpd=="string"&&n.atkSpd?n.atkSpd:e.atkSpd,type:e.type,tier:typeof n.tier=="string"?n.tier:e.tier,damages:l,damagePresent:r}}function uz(e){switch(e){case"bow":return{type:"replace_spell",name:"Bow Shot",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Single Shot",parts:[{name:"Single Shot",multipliers:[100,0,0,0,0,0]}]};case"relik":return{type:"replace_spell",name:"Relik Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Total",parts:[{name:"Single Beam",multipliers:[33,0,0,0,0,0]},{name:"Total",hits:{"Single Beam":3}}]};case"wand":return{type:"replace_spell",name:"Wand Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Melee",parts:[{name:"Melee",multipliers:[100,0,0,0,0,0]}]};default:return{type:"replace_spell",name:"Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Melee",parts:[{name:"Melee",multipliers:[100,0,0,0,0,0]}]}}}function ki(e){return structuredClone(e)}function pf(e,n){if(typeof n=="string"){const[l,r]=n.split("."),s=Number(l);if(!Number.isFinite(s)||!r)return 0;const c=e.get(s);return Qe(c?.properties?.[r])}return Qe(n)}function dz(e,n){const l=new Set(n.activeIds),r=new Map,s=c=>{const d={id:c.id,baseAbilityId:c.baseAbilityId??null,properties:ki(c.properties??{}),effects:ki(c.effects??[])};if(d.baseAbilityId!=null&&r.has(d.baseAbilityId)){const h=r.get(d.baseAbilityId);h.effects=h.effects.concat(d.effects);for(const[g,m]of Object.entries(d.properties))h.properties[g]=Qe(h.properties[g])+Qe(m);return}r.set(d.id,d)};for(const c of e.nodes)l.has(c.id)&&s(c);return r}function fz(e,n=[]){const l=new Map;for(const r of n)l.set(r.base_spell,ki(r));for(const[,r]of e)for(const s of r.effects){if(s.type!=="replace_spell")continue;const c=Qe(s.base_spell,Number.NaN);if(!Number.isFinite(c))continue;const d=ki(s);let h=l.get(c);if(!h)h=d,l.set(c,h);else for(const[g,m]of Object.entries(d))h[g]=ki(m);for(const g of h.parts??[]){const m=g.hits;if(m)for(const[b,y]of Object.entries(m))m[b]=pf(e,y)}}for(const[,r]of e)for(const s of r.effects){const c=typeof s.type=="string"?s.type:"";if(c!=="replace_spell"){if(c==="add_spell_prop"){const d=Qe(s.base_spell,Number.NaN);if(!Number.isFinite(d)||!l.has(d))continue;const h=l.get(d),g=typeof s.target_part=="string"?s.target_part:null,m=typeof s.behavior=="string"?s.behavior:"merge",b=Qe(s.cost);if(typeof h.cost=="number"&&(h.cost+=b),!g)continue;let y=!1;for(const x of h.parts)if(x.name===g){if("multipliers"in s&&Array.isArray(s.multipliers)&&"multipliers"in x)for(let _=0;_<s.multipliers.length;_++){const D=Qe(s.multipliers[_]);Array.isArray(x.multipliers)&&(m==="overwrite"?x.multipliers[_]=D:x.multipliers[_]=(x.multipliers[_]??0)+D)}else if("power"in s&&"power"in x){const _=Qe(s.power);x.power=m==="overwrite"?_:Qe(x.power)+_}else if("hits"in s&&typeof s.hits=="object"&&s.hits&&"hits"in x)for(const[_,D]of Object.entries(s.hits)){const E=pf(e,D);m==="overwrite"?x.hits[_]=E:x.hits[_]=(x.hits[_]??0)+E}if("hide"in s&&(x.display=!1),"ignored_mults"in s){const _=Array.isArray(s.ignored_mults)?s.ignored_mults.filter(D=>typeof D=="string"):[];"ignored_mults"in x&&Array.isArray(x.ignored_mults)?x.ignored_mults.push(..._):"multipliers"in x&&(x.ignored_mults=_)}y=!0;break}if(!y&&m==="merge"){const x=ki(s);if(x.name=g,typeof x.hits=="object"&&x.hits)for(const[_,D]of Object.entries(x.hits))x.hits[_]=pf(e,D);"hide"in s&&(x.display=!1),h.parts.push(x)}typeof s.display=="string"&&(h.display=s.display)}else if(c==="convert_spell_conv"){const d=Qe(s.base_spell,Number.NaN);if(!Number.isFinite(d)||!l.has(d))continue;const h=l.get(d),g=typeof s.target_part=="string"?s.target_part:"all",m=typeof s.conversion=="string"?s.conversion:"",b=Fn.indexOf(m);if(b<0)continue;const y=g==="all";for(const x of h.parts){if(!("multipliers"in x)||!y&&x.name!==g)continue;const _=x.multipliers.slice(1).reduce((E,A)=>E+Qe(A),0),D=[Qe(x.multipliers[0]),0,0,0,0,0];D[b]=_,x.multipliers=D}}}}return l}function hz(e,n,l){let r=!1,s=!1;for(const[,c]of e)for(const d of c.effects){const h=typeof d.type=="string"?d.type:"";if(h==="raw_stat"){if(d.toggle){r=!0;continue}const g=Array.isArray(d.bonuses)?d.bonuses:[];for(const m of g){if(!m||typeof m!="object")continue;const b=typeof m.type=="string"?m.type:"",y=typeof m.name=="string"?m.name:"",x=Qe(m.value);!y||x===0||b==="stat"&&(y.startsWith("damMult.")?n.addMap("damMult",y.slice(8),x):y.startsWith("healMult.")?n.addMap("healMult",y.slice(9),x):y.startsWith("defMult.")?n.add("defMult",x):n.add(y,x))}continue}h==="stat_scaling"&&(s=!0)}r&&l.push("Some ability-tree toggle effects are not applied in Workbench spell damage yet."),s&&l.push("Some ability-tree scaling/slider effects are not applied in Workbench spell damage yet.")}function mz(e,n,l){const r=new tz;for(const g of Fy)r.set(g,0);r.getMap("damMult"),r.getMap("healMult");let s=0,c=0,d=[0,0,0,0,0];for(const g of Je){const m=e.slots[g];if(m==null)continue;const b=n.itemsById.get(m);if(!b)continue;const y=b.legacyRaw??{};for(const x of Fy)r.add(x,Qe(y[x]));s+=Qe(y.hp),c+=Qe(y.hpBonus),d=[d[0]+Qe(y.str),d[1]+Qe(y.dex),d[2]+Qe(y.int),d[3]+Qe(y.def),d[4]+Qe(y.agi)]}const h=l??[0,0,0,0,0];return r.set("str",d[0]+h[0]),r.set("dex",d[1]+h[1]),r.set("int",d[2]+h[2]),r.set("def",d[3]+h[3]),r.set("agi",d[4]+h[4]),r.set("hp",s+c+sz(e.level)),r}function gz(e,n,l,r,s=!1,c,d=!1,h=[]){const g=n.damages.map(Y=>[...Y]),m=[...n.damagePresent],b=l.map(Y=>Qe(Y));for(let Y=0;Y<Fn.length;Y++){const re=c?`:${c}`:"",M=`${Fn[Y]}ConvBase${re}`;c&&e.has(M)&&(b[Y]+=e.getNum(M));const H=`${Fn[Y]}ConvBase`;e.has(H)&&(b[Y]+=e.getNum(H))}const y=[],x=(b[0]??0)/100;if(x===0)for(let Y=0;Y<m.length;Y++)m[Y]=!1;let _=0,D=0;for(const Y of g)y.push([Y[0]*x,Y[1]*x]),_+=Y[0],D+=Y[1];let E=0;for(let Y=1;Y<=5;Y++){const re=b[Y]??0;if(re>0){const M=re/100;y[Y][0]+=M*_,y[Y][1]+=M*D,m[Y]=!0,E+=M}}if(E+=x,!s){const Y=Lf.indexOf(n.atkSpd||"NORMAL"),re=Uf[Y>=0?Y:3]??Uf[3];for(let M=0;M<y.length;M++)y[M][0]*=re,y[M][1]*=re}for(let Y=0;Y<Fn.length;Y++){if(!m[Y])continue;const re=Fn[Y];y[Y][0]+=e.getNum(`${re}DamAddMin`),y[Y][1]+=e.getNum(`${re}DamAddMax`)}const A=r?"Sd":"Md",N=[0];for(let Y=0;Y<Yy.length;Y++)N.push(wc(e.getNum(Yy[Y]))*az[Y]);const q=(e.getNum(`${A.toLowerCase()}Pct`)+e.getNum("damPct"))/100;let B=0,P=0;const L=[];for(let Y=0;Y<Fn.length;Y++){L.push([...y[Y]]),B+=y[Y][0],P+=y[Y][1];const re=Fn[Y],M=`${re}${A}Pct`;let H=1+(N[Y]??0)+q+(e.getNum(M)+e.getNum(`${re}DamPct`))/100;Y>0&&(H+=(e.getNum(`r${A}Pct`)+e.getNum("rDamPct"))/100),y[Y][0]*=H,y[Y][1]*=H}const j=B-L[0][0],T=P-L[0][1],$=e.getNum(`${A.toLowerCase()}Raw`)+e.getNum("damRaw"),te=e.getNum(`r${A}Raw`)+e.getNum("rDamRaw");for(let Y=0;Y<y.length;Y++){const re=L[Y],M=Fn[Y];let H=0;m[Y]&&(H+=e.getNum(`${M}${A}Raw`)+e.getNum(`${M}DamRaw`));let ee=H,ae=H;P>0&&(ee+=(B===0?re[1]/P:re[0]/B)*$,ae+=re[1]/P*$),Y!==0&&T>0&&(ee+=(j===0?re[1]/T:re[0]/j)*te,ae+=re[1]/T*te),y[Y][0]+=ee*E,y[Y][1]+=ae*E}const ie=d?1:1+(N[1]??0),ue=e.getMap("damMult");let de=1;const ce=[1,1,1,1,1,1],ye=[...b];for(const[Y,re]of ue.entries())if(!(Y.includes(":")&&Y.split(":")[1]!==c)&&!h.includes(Y))if(Y.includes(";")){const M=Fn.indexOf(Y.split(";")[1]);M!==-1&&(ce[M]*=1+re/100)}else de*=1+re/100;const Se=d?0:1+e.getNum("critDamPct")/100,U=[0,0],F=[0,0],W=[];for(let Y=0;Y<Fn.length;Y++){y[Y][0]*=ce[Y]*de,y[Y][1]*=ce[Y]*de,ye[Y]*=ce[Y]*de,y[Y][0]<0&&(y[Y][0]=0),y[Y][1]<0&&(y[Y][1]=0);const re=[y[Y][0]*ie,y[Y][1]*ie,y[Y][0]*(ie+Se),y[Y][1]*(ie+Se)];W.push(re),U[0]+=re[0],U[1]+=re[1],F[0]+=re[2],F[1]+=re[3]}return[U,F,W,ye]}function gx(e,n,l){const r=new Map;for(const m of e.parts)r.set(m.name,{type:"need_eval",store:m});const s="use_atkspd"in e?!!e.use_atkspd:!0,c="scaling"in e?e.scaling==="spell":!0,d=m=>{const b=r.get(m);if(!b)return null;if(b.type!=="need_eval")return b;const y=b.store,x=`${e.base_spell}.${y.name}`;let _;if("multipliers"in y){const D=Array.isArray(y.ignored_mults)?y.ignored_mults:[],E=gz(n,l,y.multipliers.map(A=>Qe(A)),c,!s,x,y.use_str===!1,D);_={type:"damage",name:y.name,display:y.display!==!1,normal_total:E[0],crit_total:E[1]}}else if("power"in y){const D=n.getNum("hp"),E=1+n.getNum("healPct")/100;_={type:"heal",name:y.name,display:y.display!==!1,heal_amount:Qe(y.power)*D*E}}else{let D=null,E=[0,0],A=[0,0],N=0;for(const[q,B]of Object.entries(y.hits)){const P=d(q);P&&(D&&D!==P.type||(D=P.type,P.type==="damage"?(E=[E[0]+P.normal_total[0]*B,E[1]+P.normal_total[1]*B],A=[A[0]+P.crit_total[0]*B,A[1]+P.crit_total[1]*B]):N+=P.heal_amount*B))}D==="heal"?_={type:"heal",name:y.name,display:y.display!==!1,heal_amount:N}:_={type:"damage",name:y.name,display:y.display!==!1,normal_total:E,crit_total:A}}return r.set(y.name,_),_},h=[],g=wc(n.getNum("dex"));for(const m of e.parts){const b=d(m.name);if(b)if(b.type==="damage"){const y=(b.normal_total[0]+b.normal_total[1])/2,x=(b.crit_total[0]+b.crit_total[1])/2;h.push({type:"damage",name:b.name,display:b.display,normalTotal:b.normal_total,critTotal:b.crit_total,averageNonCrit:y,averageCrit:x,averageTotal:(1-g)*y+g*x})}else h.push({type:"heal",name:b.name,display:b.display,healAmount:b.heal_amount,averageTotal:b.heal_amount})}return h}function pz(e){const{spells:n,stats:l,weapon:r}=e,s=n.get(0);if(!s||!Array.isArray(s.parts)||s.parts.length===0)return null;const c=gx(s,l,r);if(c.length===0)return null;const d=(s.display||"").trim(),h=d&&c.find(x=>x.name===d)||c.find(x=>x.display)||c[0];if(!h||h.type!=="damage")return null;const g=h.averageTotal??0,m=Lf.indexOf(r.atkSpd||"NORMAL"),b=Math.max(0,Math.min(Lf.length-1,(m>=0?m:3)+Math.round(l.getNum("atkTier")))),y=g*Uf[b];return{perAttackAverage:g,dps:y,attackSpeedTier:rz[b]}}function vz(e,n){if(typeof n.cost!="number"||n.base_spell<1||n.base_spell>4)return null;const l=n.base_spell;let r=n.cost*(1-wc(e.getNum("int"))*lz[2]);return r+=e.getNum(`spRaw${l}`),r=r*(1+e.getNum(`spPct${l}`)/100),r=Math.max(1,r*(1+e.getNum(`spPct${l}Final`)/100)),r}function yz(e){const{catalog:n,snapshot:l,abilityTreeTree:r,abilityTreeEvaluation:s}=e;if(!r||!s)return null;const c=l.slots.weapon;if(c==null)return null;const d=n.itemsById.get(c);if(!d)return null;const h=cz(d);if(!h)return null;const g={...l.slots},m=oh(g,n,l.level),b=mz(l,n,m.assignedByStat),y=[];m.feasible||y.push("Spell preview uses current build state, but skill-point feasibility is invalid.");const x=dz(r,s);hz(x,b,y);const _=fz(x,[uz(h.type)]),D=pz({spells:_,stats:b,weapon:h});if(_.size===0)return{melee:D,spells:[],notes:y};const E=[];for(const A of[..._.values()].sort((N,q)=>N.base_spell-q.base_spell)){if(!Array.isArray(A.parts)||A.parts.length===0)continue;const N=gx(A,b,h);if(N.length===0)continue;const q=(A.display||"").trim(),B=q&&N.find(L=>L.name===q)||N.find(L=>L.display)||N[0];if(!B)continue;const P=B.type==="heal";E.push({baseSpell:A.base_spell,name:A.name,displayPartName:B.name,averageDisplayValue:B.averageTotal??0,isHealing:P,manaCost:vz(b,A),parts:N})}return s.activeIds.length>0&&E.length===0&&y.push("No spell damage entries found in the selected ability tree nodes."),{melee:D,spells:E,notes:y}}function Vy(e){return navigator.clipboard?.writeText?navigator.clipboard.writeText(e):(window.prompt("Copy text:",e),Promise.resolve())}function Gy(e){return typeof e!="string"?null:e.startsWith("slot:")?{kind:"slot",slot:e.slice(5)}:e.startsWith("bin:")?{kind:"bin",category:e.slice(4)}:null}function bz(e,n,l){const r=n.itemsById.get(e);if(!r)return null;const s=r.category;if(l.selectedSlot&&sa(l.selectedSlot)===s)return l.selectedSlot;const c=Je.filter(h=>sa(h)===s);return c.find(h=>l.slots[h]==null)??c[0]??null}function xz(e){return{slots:{...e.slots},binsByCategory:{helmet:[...e.binsByCategory.helmet],chestplate:[...e.binsByCategory.chestplate],leggings:[...e.binsByCategory.leggings],boots:[...e.binsByCategory.boots],ring:[...e.binsByCategory.ring],bracelet:[...e.binsByCategory.bracelet],necklace:[...e.binsByCategory.necklace],weapon:[...e.binsByCategory.weapon]},locks:{...e.locks},level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,comparePreview:{...e.comparePreview},legacyHash:e.legacyHash}}function Sz(){const e=w.useRef(null);!e.current&&typeof window<"u"&&(e.current=hj(window.location));const n=e.current,[l,r]=w.useState(null),[s,c]=w.useState(null),[d,h]=w.useState(n?.search??Gn),[g,m]=w.useState(null),[b,y]=w.useState(!1),[x,_]=w.useState(!1),[D,E]=w.useState(n?.mode==="autobuilder"),[A,N]=w.useState(n?.mode==="abilitytree"),[q,B]=w.useState(null),[P,L]=w.useState(!1),[j,T]=w.useState(null),[$,te]=w.useState(n?.abilityTree?.selectedByClass??{}),[ie,ue]=w.useState(n?.abilityTree?.version??null),[de,ce]=w.useState(""),ye=w.useRef(null),Se=w.useRef(null),U=w.useRef(null),F=cj(o_(J=>({slots:J.slots,binsByCategory:J.binsByCategory,locks:J.locks,level:J.level,characterClass:J.characterClass,selectedSlot:J.selectedSlot,comparePreview:J.comparePreview,legacyHash:J.legacyHash,undoStack:J.undoStack,redoStack:J.redoStack,setLevel:J.setLevel,setCharacterClass:J.setCharacterClass,setSelectedSlot:J.setSelectedSlot,setComparePreview:J.setComparePreview,pinItem:J.pinItem,removePinnedItem:J.removePinnedItem,clearCategory:J.clearCategory,clearAll:J.clearAll,equipItem:J.equipItem,moveSlotToBin:J.moveSlotToBin,swapSlots:J.swapSlots,assignDraggedItemToSlot:J.assignDraggedItemToSlot,assignDraggedItemToBin:J.assignDraggedItemToBin,toggleLock:J.toggleLock,undo:J.undo,redo:J.redo,hydrateSnapshot:J.hydrateSnapshot,loadCandidate:J.loadCandidate,setLegacyHash:J.setLegacyHash}))),W=w.useMemo(()=>xz(F),[F]);w.useEffect(()=>{n?.workbenchPatch&&F.hydrateSnapshot(n.workbenchPatch)},[n,F]),w.useEffect(()=>{let J=!1;return(async()=>{try{const le=await aE.getCatalog();if(J)return;_(!1);const Me=new cC;if(await Me.init(le.items),J){Me.dispose();return}if(ye.current=Me,r(le),_(!0),n?.legacyHash){ce("Importing legacy builder hash...");try{const Ue=await af.decodeLegacyHash(n.legacyHash),_t={};for(const[dn,Ie]of Object.entries(Ue.slots)){if(!Ie)continue;const In=le.itemIdByName.get(Ie.toLowerCase());typeof In=="number"&&(_t[dn]=In)}F.hydrateSnapshot({...n.workbenchPatch,slots:{...n.workbenchPatch?.slots??{},..._t},level:Ue.level??n.workbenchPatch?.level??F.level,legacyHash:Ue.legacyHash}),F.setLegacyHash(Ue.legacyHash),ce("Imported legacy builder hash into Workbench.")}catch(Ue){console.error(Ue),ce("Failed to import legacy hash automatically. You can still open it in legacy builder.")}}}catch(le){console.error(le),c(le instanceof Error?le.message:"Failed to load item catalog")}})(),()=>{J=!0,ye.current?.dispose(),Se.current&&window.clearTimeout(Se.current),U.current&&window.clearTimeout(U.current)}},[n,F]),w.useEffect(()=>{if(!(!l||!x||!ye.current))return Se.current&&window.clearTimeout(Se.current),y(!0),Se.current=window.setTimeout(async()=>{try{const J=await ye.current.search(d);m(J)}catch(J){console.error(J),c(J instanceof Error?J.message:"Search failed")}finally{y(!1)}},180),()=>{Se.current&&window.clearTimeout(Se.current)}},[l,x,d]),w.useEffect(()=>{if(!A||!l||P||q||j)return;let J=!1;return L(!0),T(null),(async()=>{try{const le=await ez.getDataset(ie||l.version);if(J)return;B(le),ue(le.version)}catch(le){if(J)return;console.error(le),T(le instanceof Error?le.message:"Failed to load ability tree data")}finally{J||L(!1)}})(),()=>{J=!0}},[A,q,l,ie,j]),w.useEffect(()=>{if(!(typeof window>"u"))return U.current&&window.clearTimeout(U.current),U.current=window.setTimeout(()=>{try{By({search:d,workbenchSnapshot:W,mode:D?"autobuilder":A?"abilitytree":null,abilityTreeState:{version:ie,selectedByClass:$},replace:!0})}catch(J){console.error(J)}},250),()=>{U.current&&window.clearTimeout(U.current)}},[d,W,D,A,$,ie]);const Y=w.useMemo(()=>l?ec({slots:W.slots,level:W.level,characterClass:W.characterClass},l):null,[l,W]),re=w.useMemo(()=>{if(!l)return null;const J=W.slots.weapon;if(J==null)return null;const le=l.itemsById.get(J);return le?le.classReq??Vo(le.type):null},[l,W.slots.weapon]),M=W.characterClass??re,H=w.useMemo(()=>mx(q,M),[q,M]),ee=w.useMemo(()=>{if(!H||!M)return null;const J=$[M]??[];return Sc(H,J,W.level)},[$,H,M,W.level]),ae=w.useMemo(()=>{if(!l||!Y)return null;const J=W.comparePreview;if(!J.itemId||!J.slot)return null;const le={...W.slots,[J.slot]:J.itemId};return ec({slots:le,level:W.level,characterClass:W.characterClass},l)},[l,Y,W]),pe=w.useMemo(()=>l?yz({catalog:l,snapshot:W,abilityTreeTree:H,abilityTreeEvaluation:ee}):null,[l,W,H,ee]),me=X1(fv(Ff,{activationConstraint:{distance:6}}),fv($f,{coordinateGetter:l_})),Ne=J=>{const le=J.active.data.current?.dragItem;if(!le)return;const Me=le.kind==="slot"?le.sourceSlot??null:W.selectedSlot??null;F.setComparePreview({itemId:le.itemId,slot:Me})},ot=J=>{const le=J.active.data.current?.dragItem,Me=Gy(J.over?.id);!le||!Me||Me.kind==="slot"&&F.setComparePreview({itemId:le.itemId,slot:Me.slot})},Ye=J=>{const le=J.active.data.current?.dragItem,Me=Gy(J.over?.id);if(F.setComparePreview(null),!l||!le||!Me)return;const Ue=l.itemsById.get(le.itemId);if(Ue){if(Me.kind==="slot"){if(sa(Me.slot)!==Ue.category)return;F.assignDraggedItemToSlot({targetSlot:Me.slot,source:le.kind,itemId:le.itemId,sourceCategory:le.sourceCategory,sourceSlot:le.sourceSlot});return}if(Me.kind==="bin"){if(Me.category!==Ue.category)return;F.assignDraggedItemToBin({targetCategory:Me.category,source:le.kind,itemId:le.itemId,sourceCategory:le.sourceCategory,sourceSlot:le.sourceSlot})}}},Xe=J=>{if(!l)return;const le=bz(J,l,W);le&&(F.equipItem(le,J),F.setSelectedSlot(le),ce(`Equipped item into ${le}.`))},_n=J=>{if(!l)return;const le=l.itemsById.get(J);le&&F.pinItem(le.category,le.id)},Pt=()=>{const J=ax(W),le=JSON.stringify(W,null,2);window.prompt("Copy Workbench export (JSON). URL-safe code is also in the current ?wb= param.",le),ce(`Workbench export ready. Code length: ${J.length}`)},Wn=async()=>{const J=window.prompt("Paste a Workbench JSON export, Workbench URL, or legacy builder URL/hash.");if(!J)return;const le=J.trim();try{if(af.isSupported(le)&&l){const Ue=await af.decodeLegacyHash(le),_t={};for(const[dn,Ie]of Object.entries(Ue.slots)){const In=l.itemIdByName.get((Ie??"").toLowerCase());In!=null&&(_t[dn]=In)}F.hydrateSnapshot({slots:{...W.slots,..._t},level:Ue.level??W.level,legacyHash:Ue.legacyHash}),F.setLegacyHash(Ue.legacyHash),ce("Imported legacy build hash.");return}if(le.startsWith("http://")||le.startsWith("https://")){const Ue=new URL(le),_t=ex(Ue),dn=tx(Ue),Ie=nx(Ue);h(_t),dn&&F.hydrateSnapshot(dn),Ie&&(te(Ie.selectedByClass??{}),ue(Ie.version??null)),ce("Imported Workbench URL state.");return}const Me=JSON.parse(le);F.hydrateSnapshot(Me),ce("Imported Workbench JSON.")}catch(Me){console.error(Me),ce("Import failed. Check the pasted JSON/URL/hash.")}},wt=async()=>{By({search:d,workbenchSnapshot:W,mode:D?"autobuilder":A?"abilitytree":null,abilityTreeState:{version:ie,selectedByClass:$},replace:!0}),await Vy(window.location.href),ce("Workbench link copied.")},Rt=async()=>{if(!W.legacyHash){ce("No imported legacy hash is currently available.");return}const J=new URL(Ny(W.legacyHash),window.location.href).href;await Vy(J),ce("Legacy builder link copied.")},Xt=()=>{window.open(Ny(W.legacyHash),"_blank","noopener,noreferrer")},qn=()=>{T(null),E(!1),N(!0)};return s?p.jsx("div",{className:"flex min-h-full items-center justify-center p-6",children:p.jsxs("div",{className:"wb-panel max-w-xl rounded-2xl p-6",children:[p.jsx("div",{className:"text-xl font-semibold",children:"Workbench failed to load"}),p.jsx("div",{className:"mt-2 text-sm text-[var(--wb-muted)]",children:s})]})}):!l||!Y?p.jsx("div",{className:"flex min-h-full items-center justify-center p-6",children:p.jsxs("div",{className:"wb-panel max-w-xl rounded-2xl p-6",children:[p.jsx("div",{className:"text-xl font-semibold",children:"Loading Workbench..."}),p.jsx("div",{className:"mt-2 text-sm text-[var(--wb-muted)]",children:"Preparing item catalog, search index, and workbench state."})]})}):p.jsxs(Ww,{sensors:me,collisionDetection:Q1,onDragStart:Ne,onDragOver:ot,onDragEnd:Ye,children:[p.jsxs("div",{className:"flex min-h-full flex-col gap-3 p-3 lg:p-4",children:[p.jsxs("header",{className:"wb-panel wb-hero rounded-2xl px-4 py-3",children:[p.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[p.jsx("span",{className:"wb-chip border-cyan-300/30 bg-cyan-300/8 text-cyan-100",children:"Standalone Alpha"}),p.jsx("span",{className:"wb-chip",children:"Legacy-compatible imports"}),ee?p.jsxs("span",{className:"wb-chip border-emerald-300/30 bg-emerald-300/8 text-emerald-100",children:["Ability Tree ",ee.apUsed,"/",ee.apCap," AP"]}):null]}),p.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[p.jsx(__,{size:18,className:"text-cyan-200"}),"Workbench"]}),p.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:"Modular loadout planning studio with a compatibility bridge for legacy builder links and hashes."}),p.jsx("div",{className:"mt-1 text-[11px] tracking-wide text-[var(--wb-muted-2)]",children:"Ability tree editing now works in Workbench using legacy data/rules. Workbench summary metrics still exclude ability-tree effects for now."})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs text-[var(--wb-muted)]",children:"Class"}),p.jsxs("select",{className:"wb-select w-36",value:W.characterClass??"",onChange:J=>F.setCharacterClass(J.target.value||null),children:[p.jsx("option",{value:"",children:"Auto / Any"}),p.jsx("option",{value:"Warrior",children:"Warrior"}),p.jsx("option",{value:"Assassin",children:"Assassin"}),p.jsx("option",{value:"Mage",children:"Mage"}),p.jsx("option",{value:"Archer",children:"Archer"}),p.jsx("option",{value:"Shaman",children:"Shaman"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs text-[var(--wb-muted)]",children:"Level"}),p.jsx("input",{className:"wb-input w-22",type:"number",min:1,max:106,value:W.level,onChange:J=>F.setLevel(Number(J.target.value))})]}),p.jsxs(Re,{variant:"ghost",onClick:wt,children:[p.jsx(Vf,{size:13,className:"mr-1 inline"}),"Share Session"]}),p.jsxs(Re,{variant:"ghost",onClick:qn,children:[p.jsx(Gf,{size:13,className:"mr-1 inline"}),"Ability Tree"]}),p.jsx(Re,{variant:"ghost",onClick:()=>{N(!1),E(!0)},children:"Build Solver"})]})]}),de?p.jsx("div",{className:"mt-2 text-xs text-emerald-200",children:de}):null]}),p.jsxs("main",{className:"grid min-h-0 flex-1 grid-cols-1 gap-3 xl:grid-cols-[minmax(300px,22vw)_minmax(0,1fr)_440px] 2xl:grid-cols-[320px_minmax(0,1fr)_480px]",children:[p.jsx(xD,{catalog:l,state:d,setState:h,result:g,loading:b,selectedSlot:W.selectedSlot,onPin:_n,onEquip:Xe,onHover:(J,le)=>F.setComparePreview(J&&le?{itemId:J,slot:le}:null),onOpenAutoBuilder:()=>E(!0)}),p.jsx(ID,{catalog:l,store:F,onHoverItem:(J,le)=>F.setComparePreview(J&&le?{itemId:J,slot:le}:null),onShareWorkbench:()=>{wt()},onExportWorkbench:Pt,onImportWorkbench:()=>{Wn()}}),p.jsx(qD,{catalog:l,snapshot:W,summary:Y,compareSummary:ae,compareSlot:W.comparePreview.slot,spellPreview:pe,abilityTreeSummary:ee&&M?{className:M,apUsed:ee.apUsed,apCap:ee.apCap,selectedCount:ee.activeIds.length,hasErrors:ee.errors.length>0||ee.apUsed>ee.apCap}:null,actions:{onOpenAutoBuilder:()=>{N(!1),E(!0)},onOpenAbilityTree:()=>{qn()},onCopyLegacyLink:()=>{Rt()},onOpenLegacyBuilder:Xt}})]})]}),p.jsx(qj,{open:D,onOpenChange:E,catalog:l,snapshot:W,onLoadCandidate:J=>{F.loadCandidate(J.slots),E(!1),ce("Loaded Build Solver candidate into Workbench.")}}),p.jsx(Kj,{open:A,onOpenChange:J=>{J&&T(null),N(J)},dataset:q,loading:P,error:j,level:W.level,selectedClass:W.characterClass,inferredClass:re,selectionsByClass:$,onSelectionsChange:te})]})}R1.createRoot(document.getElementById("root")).render(p.jsx(w.StrictMode,{children:p.jsx(Sz,{})}));
