function Q1(e,n){for(var l=0;l<n.length;l++){const i=n[l];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const c=Object.getOwnPropertyDescriptor(i,r);c&&Object.defineProperty(e,r,c.get?c:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function i0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Od={exports:{}},Ii={};var dv;function J1(){if(dv)return Ii;dv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(i,r,c){var u=null;if(c!==void 0&&(u=""+c),r.key!==void 0&&(u=""+r.key),"key"in r){c={};for(var f in r)f!=="key"&&(c[f]=r[f])}else c=r;return r=c.ref,{$$typeof:e,type:i,key:u,ref:r!==void 0?r:null,props:c}}return Ii.Fragment=n,Ii.jsx=l,Ii.jsxs=l,Ii}var fv;function ew(){return fv||(fv=1,Od.exports=J1()),Od.exports}var m=ew(),Pd={exports:{}},Ne={};var hv;function tw(){if(hv)return Ne;hv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function z(T,q,J){this.props=T,this.context=q,this.refs=M,this.updater=J||N}z.prototype.isReactComponent={},z.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function I(){}I.prototype=z.prototype;function O(T,q,J){this.props=T,this.context=q,this.refs=M,this.updater=J||N}var L=O.prototype=new I;L.constructor=O,w(L,z.prototype),L.isPureReactComponent=!0;var H=Array.isArray;function A(){}var j={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function se(T,q,J){var ae=J.ref;return{$$typeof:e,type:T,key:q,ref:ae!==void 0?ae:null,props:J}}function re(T,q){return se(T.type,q,T.props)}function Q(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function ce(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return q[J]})}var k=/\/+/g;function ue(T,q){return typeof T=="object"&&T!==null&&T.key!=null?ce(""+T.key):q.toString(36)}function de(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(A,A):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function R(T,q,J,ae,fe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var be=!1;if(T===null)be=!0;else switch(ge){case"bigint":case"string":case"number":be=!0;break;case"object":switch(T.$$typeof){case e:case n:be=!0;break;case b:return be=T._init,R(be(T._payload),q,J,ae,fe)}}if(be)return fe=fe(T),be=ae===""?"."+ue(T,0):ae,H(fe)?(J="",be!=null&&(J=be.replace(k,"$&/")+"/"),R(fe,q,J,"",function(Ye){return Ye})):fe!=null&&(Q(fe)&&(fe=re(fe,J+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(k,"$&/")+"/")+be)),q.push(fe)),1;be=0;var ke=ae===""?".":ae+":";if(H(T))for(var ze=0;ze<T.length;ze++)ae=T[ze],ge=ke+ue(ae,ze),be+=R(ae,q,J,ge,fe);else if(ze=_(T),typeof ze=="function")for(T=ze.call(T),ze=0;!(ae=T.next()).done;)ae=ae.value,ge=ke+ue(ae,ze++),be+=R(ae,q,J,ge,fe);else if(ge==="object"){if(typeof T.then=="function")return R(de(T),q,J,ae,fe);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return be}function G(T,q,J){if(T==null)return T;var ae=[],fe=0;return R(T,ae,"","",function(ge){return q.call(J,ge,fe++)}),ae}function le(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var B=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},W={map:G,forEach:function(T,q,J){G(T,function(){q.apply(this,arguments)},J)},count:function(T){var q=0;return G(T,function(){q++}),q},toArray:function(T){return G(T,function(q){return q})||[]},only:function(T){if(!Q(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ne.Activity=v,Ne.Children=W,Ne.Component=z,Ne.Fragment=l,Ne.Profiler=r,Ne.PureComponent=O,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(T){return j.H.useMemoCache(T)}},Ne.cache=function(T){return function(){return T.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(T,q,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ae=w({},T.props),fe=T.key;if(q!=null)for(ge in q.key!==void 0&&(fe=""+q.key),q)!F.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(ae[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)ae.children=J;else if(1<ge){for(var be=Array(ge),ke=0;ke<ge;ke++)be[ke]=arguments[ke+2];ae.children=be}return se(T.type,fe,ae)},Ne.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},Ne.createElement=function(T,q,J){var ae,fe={},ge=null;if(q!=null)for(ae in q.key!==void 0&&(ge=""+q.key),q)F.call(q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=q[ae]);var be=arguments.length-2;if(be===1)fe.children=J;else if(1<be){for(var ke=Array(be),ze=0;ze<be;ze++)ke[ze]=arguments[ze+2];fe.children=ke}if(T&&T.defaultProps)for(ae in be=T.defaultProps,be)fe[ae]===void 0&&(fe[ae]=be[ae]);return se(T,ge,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(T){return{$$typeof:f,render:T}},Ne.isValidElement=Q,Ne.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:le}},Ne.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},Ne.startTransition=function(T){var q=j.T,J={};j.T=J;try{var ae=T(),fe=j.S;fe!==null&&fe(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(A,B)}catch(ge){B(ge)}finally{q!==null&&J.types!==null&&(q.types=J.types),j.T=q}},Ne.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ne.use=function(T){return j.H.use(T)},Ne.useActionState=function(T,q,J){return j.H.useActionState(T,q,J)},Ne.useCallback=function(T,q){return j.H.useCallback(T,q)},Ne.useContext=function(T){return j.H.useContext(T)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(T,q){return j.H.useDeferredValue(T,q)},Ne.useEffect=function(T,q){return j.H.useEffect(T,q)},Ne.useEffectEvent=function(T){return j.H.useEffectEvent(T)},Ne.useId=function(){return j.H.useId()},Ne.useImperativeHandle=function(T,q,J){return j.H.useImperativeHandle(T,q,J)},Ne.useInsertionEffect=function(T,q){return j.H.useInsertionEffect(T,q)},Ne.useLayoutEffect=function(T,q){return j.H.useLayoutEffect(T,q)},Ne.useMemo=function(T,q){return j.H.useMemo(T,q)},Ne.useOptimistic=function(T,q){return j.H.useOptimistic(T,q)},Ne.useReducer=function(T,q,J){return j.H.useReducer(T,q,J)},Ne.useRef=function(T){return j.H.useRef(T)},Ne.useState=function(T){return j.H.useState(T)},Ne.useSyncExternalStore=function(T,q,J){return j.H.useSyncExternalStore(T,q,J)},Ne.useTransition=function(){return j.H.useTransition()},Ne.version="19.2.4",Ne}var mv;function Yf(){return mv||(mv=1,Pd.exports=tw()),Pd.exports}var S=Yf();const Ut=i0(S),r0=Q1({__proto__:null,default:Ut},[S]);var Bd={exports:{}},Li={},Id={exports:{}},Ld={};var gv;function nw(){return gv||(gv=1,(function(e){function n(R,G){var le=R.length;R.push(G);e:for(;0<le;){var B=le-1>>>1,W=R[B];if(0<r(W,G))R[B]=G,R[le]=W,le=B;else break e}}function l(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var G=R[0],le=R.pop();if(le!==G){R[0]=le;e:for(var B=0,W=R.length,T=W>>>1;B<T;){var q=2*(B+1)-1,J=R[q],ae=q+1,fe=R[ae];if(0>r(J,le))ae<W&&0>r(fe,J)?(R[B]=fe,R[ae]=le,B=ae):(R[B]=J,R[q]=le,B=q);else if(ae<W&&0>r(fe,le))R[B]=fe,R[ae]=le,B=ae;else break e}}return G}function r(R,G){var le=R.sortIndex-G.sortIndex;return le!==0?le:R.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],b=1,v=null,x=3,_=!1,N=!1,w=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(R){for(var G=l(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=R)i(g),G.sortIndex=G.expirationTime,n(p,G);else break;G=l(g)}}function H(R){if(w=!1,L(R),!N)if(l(p)!==null)N=!0,A||(A=!0,ce());else{var G=l(g);G!==null&&de(H,G.startTime-R)}}var A=!1,j=-1,F=5,se=-1;function re(){return M?!0:!(e.unstable_now()-se<F)}function Q(){if(M=!1,A){var R=e.unstable_now();se=R;var G=!0;try{e:{N=!1,w&&(w=!1,I(j),j=-1),_=!0;var le=x;try{t:{for(L(R),v=l(p);v!==null&&!(v.expirationTime>R&&re());){var B=v.callback;if(typeof B=="function"){v.callback=null,x=v.priorityLevel;var W=B(v.expirationTime<=R);if(R=e.unstable_now(),typeof W=="function"){v.callback=W,L(R),G=!0;break t}v===l(p)&&i(p),L(R)}else i(p);v=l(p)}if(v!==null)G=!0;else{var T=l(g);T!==null&&de(H,T.startTime-R),G=!1}}break e}finally{v=null,x=le,_=!1}G=void 0}}finally{G?ce():A=!1}}}var ce;if(typeof O=="function")ce=function(){O(Q)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ue=k.port2;k.port1.onmessage=Q,ce=function(){ue.postMessage(null)}}else ce=function(){z(Q,0)};function de(R,G){j=z(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var le=x;x=G;try{return R()}finally{x=le}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var le=x;x=R;try{return G()}finally{x=le}},e.unstable_scheduleCallback=function(R,G,le){var B=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=le+W,R={id:b++,callback:G,priorityLevel:R,startTime:le,expirationTime:W,sortIndex:-1},le>B?(R.sortIndex=le,n(g,R),l(p)===null&&R===l(g)&&(w?(I(j),j=-1):w=!0,de(H,le-B))):(R.sortIndex=W,n(p,R),N||_||(N=!0,A||(A=!0,ce()))),R},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(R){var G=x;return function(){var le=x;x=G;try{return R.apply(this,arguments)}finally{x=le}}}})(Ld)),Ld}var pv;function aw(){return pv||(pv=1,Id.exports=nw()),Id.exports}var qd={exports:{}},Xt={};var vv;function lw(){if(vv)return Xt;vv=1;var e=Yf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(p,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:p,containerInfo:g,implementation:b}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(p,g,null,b)},Xt.flushSync=function(p){var g=u.T,b=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=g,i.p=b,i.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,v=f(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):b==="script"&&i.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=f(b,g.crossOrigin);i.d.L(p,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Xt.requestFormReset=function(p){i.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,b){return u.H.useFormState(p,g,b)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var yv;function o0(){if(yv)return qd.exports;yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),qd.exports=lw(),qd.exports}var bv;function sw(){if(bv)return Li;bv=1;var e=aw(),n=Yf(),l=o0();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function u(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(i(188))}function g(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,o=a;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return p(d),t;if(h===o)return p(d),a;h=h.sibling}throw Error(i(188))}if(s.return!==o.return)s=d,o=h;else{for(var y=!1,E=d.child;E;){if(E===s){y=!0,s=d,o=h;break}if(E===o){y=!0,o=d,s=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===s){y=!0,s=h,o=d;break}if(E===o){y=!0,o=h,s=d;break}E=E.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function b(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=b(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case H:return"Suspense";case A:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case O:return t.displayName||"Context";case I:return(t._context.displayName||"Context")+".Consumer";case L:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return a=t.displayName||null,a!==null?a:ue(t.type)||"Memo";case F:a=t._payload,t=t._init;try{return ue(t(a))}catch{}}return null}var de=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},B=[],W=-1;function T(t){return{current:t}}function q(t){0>W||(t.current=B[W],B[W]=null,W--)}function J(t,a){W++,B[W]=t.current,t.current=a}var ae=T(null),fe=T(null),ge=T(null),be=T(null);function ke(t,a){switch(J(ge,a),J(fe,t),J(ae,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=zp(a),t=Op(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(ae),J(ae,t)}function ze(){q(ae),q(fe),q(ge)}function Ye(t){t.memoizedState!==null&&J(be,t);var a=ae.current,s=Op(a,t.type);a!==s&&(J(fe,t),J(ae,s))}function kt(t){fe.current===t&&(q(ae),q(fe)),be.current===t&&(q(be),zi._currentValue=le)}var Nt,Yn;function pt(t){if(Nt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Nt=a&&a[1]||"",Yn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+t+Yn}var Kt=!1;function Ke(t,a){if(!t||Kt)return"";Kt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var Z=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){Z=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){Z=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&Z&&typeof Y.stack=="string")return[Y.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var D=y.split(`
`),$=E.split(`
`);for(d=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(o===D.length||d===$.length)for(o=D.length-1,d=$.length-1;1<=o&&0<=d&&D[o]!==$[d];)d--;for(;1<=o&&0<=d;o--,d--)if(D[o]!==$[d]){if(o!==1||d!==1)do if(o--,d--,0>d||D[o]!==$[d]){var K=`
`+D[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=d);break}}}finally{Kt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?pt(s):""}function Qt(t,a){switch(t.tag){case 26:case 27:case 5:return pt(t.type);case 16:return pt("Lazy");case 13:return t.child!==a&&a!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return pt("Activity");default:return""}}function oe(t){try{var a="",s=null;do a+=Qt(t,s),s=t,t=t.return;while(t);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Oe=Object.prototype.hasOwnProperty,V=e.unstable_scheduleCallback,ie=e.unstable_cancelCallback,_e=e.unstable_shouldYield,Ee=e.unstable_requestPaint,Ie=e.unstable_now,sn=e.unstable_getCurrentPriorityLevel,Jt=e.unstable_ImmediatePriority,zt=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,da=e.unstable_LowPriority,vl=e.unstable_IdlePriority,jn=e.log,yl=e.unstable_setDisableYieldValue,aa=null,He=null;function rn(t){if(typeof jn=="function"&&yl(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(aa,t)}catch{}}var X=Math.clz32?Math.clz32:We,he=Math.log,Ae=Math.LN2;function We(t){return t>>>=0,t===0?32:31-(he(t)/Ae|0)|0}var wt=256,en=262144,Te=4194304;function De(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ge(t,a,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~h,o!==0?d=De(o):(y&=E,y!==0?d=De(y):s||(s=E&~t,s!==0&&(d=De(s))))):(E=o&~h,E!==0?d=De(E):y!==0?d=De(y):s||(s=o&~t,s!==0&&(d=De(s)))),d===0?0:a!==0&&a!==d&&(a&h)===0&&(h=d&-d,s=a&-a,h>=s||h===32&&(s&4194048)!==0)?a:d}function it(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function we(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var t=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),t}function _t(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function xe(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nt(t,a,s,o,d,h){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,$=t.hiddenUpdates;for(s=y&~s;0<s;){var K=31-X(s),ne=1<<K;E[K]=0,D[K]=-1;var Z=$[K];if(Z!==null)for($[K]=null,K=0;K<Z.length;K++){var Y=Z[K];Y!==null&&(Y.lane&=-536870913)}s&=~ne}o!==0&&Bt(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~a))}function Bt(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-X(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Wt(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var o=31-X(s),d=1<<o;d&a|t[o]&a&&(t[o]|=a),s&=~d}}function tn(t,a){var s=a&-a;return s=(s&42)!==0?1:Dn(s),(s&(t.suspendedLanes|a))!==0?0:s}function Dn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function on(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:lv(t.type))}function Gn(t,a){var s=G.p;try{return G.p=t,a()}finally{G.p=s}}var An=Math.random().toString(36).slice(2),Ht="__reactFiber$"+An,cn="__reactProps$"+An,Zl="__reactContainer$"+An,Nc="__reactEvents$"+An,Ux="__reactListeners$"+An,$x="__reactHandles$"+An,Sh="__reactResources$"+An,Ks="__reactMarker$"+An;function Mc(t){delete t[Ht],delete t[cn],delete t[Nc],delete t[Ux],delete t[$x]}function Fl(t){var a=t[Ht];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Zl]||s[Ht]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=$p(t);t!==null;){if(s=t[Ht])return s;t=$p(t)}return a}t=s,s=t.parentNode}return null}function Yl(t){if(t=t[Ht]||t[Zl]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Ws(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function Gl(t){var a=t[Sh];return a||(a=t[Sh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function It(t){t[Ks]=!0}var wh=new Set,_h={};function bl(t,a){Vl(t,a),Vl(t+"Capture",a)}function Vl(t,a){for(_h[t]=a,t=0;t<a.length;t++)wh.add(a[t])}var Hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eh={},Th={};function Zx(t){return Oe.call(Th,t)?!0:Oe.call(Eh,t)?!1:Hx.test(t)?Th[t]=!0:(Eh[t]=!0,!1)}function rr(t,a,s){if(Zx(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function or(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function fa(t,a,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+o)}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nh(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fx(t,a,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(y){s=""+y,h.call(this,y)}}),Object.defineProperty(t,a,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function jc(t){if(!t._valueTracker){var a=Nh(t)?"checked":"value";t._valueTracker=Fx(t,a,""+t[a])}}function Mh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return t&&(o=Nh(t)?t.checked?"true":"false":t.value),t=o,t!==s?(a.setValue(t),!0):!1}function cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yx=/[\n"\\]/g;function kn(t){return t.replace(Yx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dc(t,a,s,o,d,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),a!=null?y==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Rn(a)):t.value!==""+Rn(a)&&(t.value=""+Rn(a)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),a!=null?Cc(t,y,Rn(a)):s!=null?Cc(t,y,Rn(s)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Rn(E):t.removeAttribute("name")}function jh(t,a,s,o,d,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),a!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){jc(t);return}s=s!=null?""+Rn(s):"",a=a!=null?""+Rn(a):s,E||a===t.value||(t.value=a),t.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),jc(t)}function Cc(t,a,s){a==="number"&&cr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Kl(t,a,s,o){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Rn(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function Dh(t,a,s){if(a!=null&&(a=""+Rn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Rn(s):""}function Ch(t,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(de(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=Rn(a),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),jc(t)}function Wl(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(t,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,s):typeof s!="number"||s===0||Gx.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Rh(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&s[d]!==o&&Ah(t,d,o)}else for(var h in a)a.hasOwnProperty(h)&&Ah(t,h,a[h])}function Ac(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(t){return Kx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ha(){}var Rc=null;function kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,Ql=null;function kh(t){var a=Yl(t);if(a&&(t=a.stateNode)){var s=t[cn]||null;e:switch(t=a.stateNode,a.type){case"input":if(Dc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==t&&o.form===t.form){var d=o[cn]||null;if(!d)throw Error(i(90));Dc(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===t.form&&Mh(o)}break e;case"textarea":Dh(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Kl(t,!!s.multiple,a,!1)}}}var zc=!1;function zh(t,a,s){if(zc)return t(a,s);zc=!0;try{var o=t(a);return o}finally{if(zc=!1,(Xl!==null||Ql!==null)&&(Xr(),Xl&&(a=Xl,t=Ql,Ql=Xl=null,kh(a),t)))for(a=0;a<t.length;a++)kh(t[a])}}function Xs(t,a){var s=t.stateNode;if(s===null)return null;var o=s[cn]||null;if(o===null)return null;s=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(ma)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Oc=!1}var Oa=null,Pc=null,dr=null;function Oh(){if(dr)return dr;var t,a=Pc,s=a.length,o,d="value"in Oa?Oa.value:Oa.textContent,h=d.length;for(t=0;t<s&&a[t]===d[t];t++);var y=s-t;for(o=1;o<=y&&a[s-o]===d[h-o];o++);return dr=d.slice(t,1<o?1-o:void 0)}function fr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function Ph(){return!1}function un(t){function a(s,o,d,h,y){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?hr:Ph,this.isPropagationStopped=Ph,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),a}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=un(xl),Js=v({},xl,{view:0,detail:0}),Wx=un(Js),Bc,Ic,ei,gr=v({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(Bc=t.screenX-ei.screenX,Ic=t.screenY-ei.screenY):Ic=Bc=0,ei=t),Bc)},movementY:function(t){return"movementY"in t?t.movementY:Ic}}),Bh=un(gr),Xx=v({},gr,{dataTransfer:0}),Qx=un(Xx),Jx=v({},Js,{relatedTarget:0}),Lc=un(Jx),eS=v({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=un(eS),nS=v({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aS=un(nS),lS=v({},xl,{data:0}),Ih=un(lS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=rS[t])?!!a[t]:!1}function qc(){return oS}var cS=v({},Js,{key:function(t){if(t.key){var a=sS[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(t){return t.type==="keypress"?fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uS=un(cS),dS=v({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=un(dS),fS=v({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),hS=un(fS),mS=v({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gS=un(mS),pS=v({},gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=un(pS),yS=v({},xl,{newState:0,oldState:0}),bS=un(yS),xS=[9,13,27,32],Uc=ma&&"CompositionEvent"in window,ti=null;ma&&"documentMode"in document&&(ti=document.documentMode);var SS=ma&&"TextEvent"in window&&!ti,qh=ma&&(!Uc||ti&&8<ti&&11>=ti),Uh=" ",$h=!1;function Hh(t,a){switch(t){case"keyup":return xS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jl=!1;function wS(t,a){switch(t){case"compositionend":return Zh(a);case"keypress":return a.which!==32?null:($h=!0,Uh);case"textInput":return t=a.data,t===Uh&&$h?null:t;default:return null}}function _S(t,a){if(Jl)return t==="compositionend"||!Uc&&Hh(t,a)?(t=Oh(),dr=Pc=Oa=null,Jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qh&&a.locale!=="ko"?null:a.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!ES[t.type]:a==="textarea"}function Yh(t,a,s,o){Xl?Ql?Ql.push(o):Ql=[o]:Xl=o,a=lo(a,"onChange"),0<a.length&&(s=new mr("onChange","change",null,s,o),t.push({event:s,listeners:a}))}var ni=null,ai=null;function TS(t){jp(t,0)}function pr(t){var a=Ws(t);if(Mh(a))return t}function Gh(t,a){if(t==="change")return a}var Vh=!1;if(ma){var $c;if(ma){var Hc="oninput"in document;if(!Hc){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Hc=typeof Kh.oninput=="function"}$c=Hc}else $c=!1;Vh=$c&&(!document.documentMode||9<document.documentMode)}function Wh(){ni&&(ni.detachEvent("onpropertychange",Xh),ai=ni=null)}function Xh(t){if(t.propertyName==="value"&&pr(ai)){var a=[];Yh(a,ai,t,kc(t)),zh(TS,a)}}function NS(t,a,s){t==="focusin"?(Wh(),ni=a,ai=s,ni.attachEvent("onpropertychange",Xh)):t==="focusout"&&Wh()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pr(ai)}function jS(t,a){if(t==="click")return pr(a)}function DS(t,a){if(t==="input"||t==="change")return pr(a)}function CS(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var bn=typeof Object.is=="function"?Object.is:CS;function li(t,a){if(bn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!Oe.call(a,d)||!bn(t[d],a[d]))return!1}return!0}function Qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jh(t,a){var s=Qh(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=a&&o>=a)return{node:s,offset:a-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qh(s)}}function em(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?em(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=cr(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=cr(t.document)}return a}function Zc(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var AS=ma&&"documentMode"in document&&11>=document.documentMode,es=null,Fc=null,si=null,Yc=!1;function nm(t,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yc||es==null||es!==cr(o)||(o=es,"selectionStart"in o&&Zc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),si&&li(si,o)||(si=o,o=lo(Fc,"onSelect"),0<o.length&&(a=new mr("onSelect","select",null,a,s),t.push({event:a,listeners:o}),a.target=es)))}function Sl(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var ts={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},Gc={},am={};ma&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function wl(t){if(Gc[t])return Gc[t];if(!ts[t])return t;var a=ts[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in am)return Gc[t]=a[s];return t}var lm=wl("animationend"),sm=wl("animationiteration"),im=wl("animationstart"),RS=wl("transitionrun"),kS=wl("transitionstart"),zS=wl("transitioncancel"),rm=wl("transitionend"),om=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function Vn(t,a){om.set(t,a),bl(a,[t])}var vr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],ns=0,Kc=0;function yr(){for(var t=ns,a=Kc=ns=0;a<t;){var s=zn[a];zn[a++]=null;var o=zn[a];zn[a++]=null;var d=zn[a];zn[a++]=null;var h=zn[a];if(zn[a++]=null,o!==null&&d!==null){var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}h!==0&&cm(s,d,h)}}function br(t,a,s,o){zn[ns++]=t,zn[ns++]=a,zn[ns++]=s,zn[ns++]=o,Kc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Wc(t,a,s,o){return br(t,a,s,o),xr(t)}function _l(t,a){return br(t,null,null,a),xr(t)}function cm(t,a,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,h=t.return;h!==null;)h.childLanes|=s,o=h.alternate,o!==null&&(o.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&a!==null&&(d=31-X(s),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[a]:o.push(a),a.lane=s|536870912),h):null}function xr(t){if(50<Mi)throw Mi=0,sd=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var as={};function OS(t,a,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,a,s,o){return new OS(t,a,s,o)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ga(t,a){var s=t.alternate;return s===null?(s=xn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function um(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Sr(t,a,s,o,d,h){var y=0;if(o=t,typeof t=="function")Xc(t)&&(y=1);else if(typeof t=="string")y=q1(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=xn(31,s,a,d),t.elementType=se,t.lanes=h,t;case w:return El(s.children,d,h,a);case M:y=8,d|=24;break;case z:return t=xn(12,s,a,d|2),t.elementType=z,t.lanes=h,t;case H:return t=xn(13,s,a,d),t.elementType=H,t.lanes=h,t;case A:return t=xn(19,s,a,d),t.elementType=A,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:y=10;break e;case I:y=9;break e;case L:y=11;break e;case j:y=14;break e;case F:y=16,o=null;break e}y=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return a=xn(y,s,a,d),a.elementType=t,a.type=o,a.lanes=h,a}function El(t,a,s,o){return t=xn(7,t,o,a),t.lanes=s,t}function Qc(t,a,s){return t=xn(6,t,null,a),t.lanes=s,t}function dm(t){var a=xn(18,null,null,0);return a.stateNode=t,a}function Jc(t,a,s){return a=xn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var fm=new WeakMap;function On(t,a){if(typeof t=="object"&&t!==null){var s=fm.get(t);return s!==void 0?s:(a={value:t,source:a,stack:oe(a)},fm.set(t,a),a)}return{value:t,source:a,stack:oe(a)}}var ls=[],ss=0,wr=null,ii=0,Pn=[],Bn=0,Pa=null,la=1,sa="";function pa(t,a){ls[ss++]=ii,ls[ss++]=wr,wr=t,ii=a}function hm(t,a,s){Pn[Bn++]=la,Pn[Bn++]=sa,Pn[Bn++]=Pa,Pa=t;var o=la;t=sa;var d=32-X(o)-1;o&=~(1<<d),s+=1;var h=32-X(a)+d;if(30<h){var y=d-d%5;h=(o&(1<<y)-1).toString(32),o>>=y,d-=y,la=1<<32-X(a)+d|s<<d|o,sa=h+t}else la=1<<h|s<<d|o,sa=t}function eu(t){t.return!==null&&(pa(t,1),hm(t,1,0))}function tu(t){for(;t===wr;)wr=ls[--ss],ls[ss]=null,ii=ls[--ss],ls[ss]=null;for(;t===Pa;)Pa=Pn[--Bn],Pn[Bn]=null,sa=Pn[--Bn],Pn[Bn]=null,la=Pn[--Bn],Pn[Bn]=null}function mm(t,a){Pn[Bn++]=la,Pn[Bn++]=sa,Pn[Bn++]=Pa,la=a.id,sa=a.overflow,Pa=t}var Zt=null,ut=null,Ue=!1,Ba=null,In=!1,nu=Error(i(519));function Ia(t){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ri(On(a,t)),nu}function gm(t){var a=t.stateNode,s=t.type,o=t.memoizedProps;switch(a[Ht]=t,a[cn]=o,s){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(s=0;s<Di.length;s++)Be(Di[s],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Be("invalid",a),jh(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",a);break;case"textarea":Be("invalid",a),Ch(a,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||Rp(a.textContent,s)?(o.popover!=null&&(Be("beforetoggle",a),Be("toggle",a)),o.onScroll!=null&&Be("scroll",a),o.onScrollEnd!=null&&Be("scrollend",a),o.onClick!=null&&(a.onclick=ha),a=!0):a=!1,a||Ia(t,!0)}function pm(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Zt=Zt.return}}function is(t){if(t!==Zt)return!1;if(!Ue)return pm(t),Ue=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||xd(t.type,t.memoizedProps)),s=!s),s&&ut&&Ia(t),pm(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ut=Up(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ut=Up(t)}else a===27?(a=ut,Qa(t.type)?(t=Td,Td=null,ut=t):ut=a):ut=Zt?qn(t.stateNode.nextSibling):null;return!0}function Tl(){ut=Zt=null,Ue=!1}function au(){var t=Ba;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ba=null),t}function ri(t){Ba===null?Ba=[t]:Ba.push(t)}var lu=T(null),Nl=null,va=null;function La(t,a,s){J(lu,a._currentValue),a._currentValue=s}function ya(t){t._currentValue=lu.current,q(lu)}function su(t,a,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===s)break;t=t.return}}function iu(t,a,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var y=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var D=0;D<a.length;D++)if(E.context===a[D]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),su(h.return,s,t),o||(y=null);break e}h=E.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=s,h=y.alternate,h!==null&&(h.lanes|=s),su(y,s,t),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===t){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function rs(t,a,s,o){t=null;for(var d=a,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var E=d.type;bn(d.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(d===be.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(zi):t=[zi])}d=d.return}t!==null&&iu(a,t,s,o),a.flags|=262144}function _r(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ml(t){Nl=t,va=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return vm(Nl,t)}function Er(t,a){return Nl===null&&Ml(t),vm(t,a)}function vm(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},va===null){if(t===null)throw Error(i(308));va=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else va=va.next=a;return s}var PS=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},BS=e.unstable_scheduleCallback,IS=e.unstable_NormalPriority,jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new PS,data:new Map,refCount:0}}function oi(t){t.refCount--,t.refCount===0&&BS(IS,function(){t.controller.abort()})}var ci=null,ou=0,os=0,cs=null;function LS(t,a){if(ci===null){var s=ci=[];ou=0,os=dd(),cs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ou++,a.then(ym,ym),a}function ym(){if(--ou===0&&ci!==null){cs!==null&&(cs.status="fulfilled");var t=ci;ci=null,os=0,cs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function qS(t,a){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var bm=R.S;R.S=function(t,a){np=Ie(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&LS(t,a),bm!==null&&bm(t,a)};var jl=T(null);function cu(){var t=jl.current;return t!==null?t:rt.pooledCache}function Tr(t,a){a===null?J(jl,jl.current):J(jl,a.pool)}function xm(){var t=cu();return t===null?null:{parent:jt._currentValue,pool:t}}var us=Error(i(460)),uu=Error(i(474)),Nr=Error(i(542)),Mr={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wm(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(ha,ha),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Em(t),t;default:if(typeof a.status=="string")a.then(ha,ha);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Em(t),t}throw Cl=a,us}}function Dl(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cl=s,us):s}}var Cl=null;function _m(){if(Cl===null)throw Error(i(459));var t=Cl;return Cl=null,t}function Em(t){if(t===us||t===Nr)throw Error(i(483))}var ds=null,ui=0;function jr(t){var a=ui;return ui+=1,ds===null&&(ds=[]),wm(ds,t,a)}function di(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Dr(t,a){throw a.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Tm(t){function a(P,C){if(t){var U=P.deletions;U===null?(P.deletions=[C],P.flags|=16):U.push(C)}}function s(P,C){if(!t)return null;for(;C!==null;)a(P,C),C=C.sibling;return null}function o(P){for(var C=new Map;P!==null;)P.key!==null?C.set(P.key,P):C.set(P.index,P),P=P.sibling;return C}function d(P,C){return P=ga(P,C),P.index=0,P.sibling=null,P}function h(P,C,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<C?(P.flags|=67108866,C):U):(P.flags|=67108866,C)):(P.flags|=1048576,C)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,C,U,ee){return C===null||C.tag!==6?(C=Qc(U,P.mode,ee),C.return=P,C):(C=d(C,U),C.return=P,C)}function D(P,C,U,ee){var ve=U.type;return ve===w?K(P,C,U.props.children,ee,U.key):C!==null&&(C.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&Dl(ve)===C.type)?(C=d(C,U.props),di(C,U),C.return=P,C):(C=Sr(U.type,U.key,U.props,null,P.mode,ee),di(C,U),C.return=P,C)}function $(P,C,U,ee){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=Jc(U,P.mode,ee),C.return=P,C):(C=d(C,U.children||[]),C.return=P,C)}function K(P,C,U,ee,ve){return C===null||C.tag!==7?(C=El(U,P.mode,ee,ve),C.return=P,C):(C=d(C,U),C.return=P,C)}function ne(P,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Qc(""+C,P.mode,U),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return U=Sr(C.type,C.key,C.props,null,P.mode,U),di(U,C),U.return=P,U;case N:return C=Jc(C,P.mode,U),C.return=P,C;case F:return C=Dl(C),ne(P,C,U)}if(de(C)||ce(C))return C=El(C,P.mode,U,null),C.return=P,C;if(typeof C.then=="function")return ne(P,jr(C),U);if(C.$$typeof===O)return ne(P,Er(P,C),U);Dr(P,C)}return null}function Z(P,C,U,ee){var ve=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ve!==null?null:E(P,C,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ve?D(P,C,U,ee):null;case N:return U.key===ve?$(P,C,U,ee):null;case F:return U=Dl(U),Z(P,C,U,ee)}if(de(U)||ce(U))return ve!==null?null:K(P,C,U,ee,null);if(typeof U.then=="function")return Z(P,C,jr(U),ee);if(U.$$typeof===O)return Z(P,C,Er(P,U),ee);Dr(P,U)}return null}function Y(P,C,U,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(U)||null,E(C,P,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return P=P.get(ee.key===null?U:ee.key)||null,D(C,P,ee,ve);case N:return P=P.get(ee.key===null?U:ee.key)||null,$(C,P,ee,ve);case F:return ee=Dl(ee),Y(P,C,U,ee,ve)}if(de(ee)||ce(ee))return P=P.get(U)||null,K(C,P,ee,ve,null);if(typeof ee.then=="function")return Y(P,C,U,jr(ee),ve);if(ee.$$typeof===O)return Y(P,C,U,Er(C,ee),ve);Dr(C,ee)}return null}function me(P,C,U,ee){for(var ve=null,Ze=null,pe=C,Ce=C=0,qe=null;pe!==null&&Ce<U.length;Ce++){pe.index>Ce?(qe=pe,pe=null):qe=pe.sibling;var Fe=Z(P,pe,U[Ce],ee);if(Fe===null){pe===null&&(pe=qe);break}t&&pe&&Fe.alternate===null&&a(P,pe),C=h(Fe,C,Ce),Ze===null?ve=Fe:Ze.sibling=Fe,Ze=Fe,pe=qe}if(Ce===U.length)return s(P,pe),Ue&&pa(P,Ce),ve;if(pe===null){for(;Ce<U.length;Ce++)pe=ne(P,U[Ce],ee),pe!==null&&(C=h(pe,C,Ce),Ze===null?ve=pe:Ze.sibling=pe,Ze=pe);return Ue&&pa(P,Ce),ve}for(pe=o(pe);Ce<U.length;Ce++)qe=Y(pe,P,Ce,U[Ce],ee),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ce:qe.key),C=h(qe,C,Ce),Ze===null?ve=qe:Ze.sibling=qe,Ze=qe);return t&&pe.forEach(function(al){return a(P,al)}),Ue&&pa(P,Ce),ve}function Se(P,C,U,ee){if(U==null)throw Error(i(151));for(var ve=null,Ze=null,pe=C,Ce=C=0,qe=null,Fe=U.next();pe!==null&&!Fe.done;Ce++,Fe=U.next()){pe.index>Ce?(qe=pe,pe=null):qe=pe.sibling;var al=Z(P,pe,Fe.value,ee);if(al===null){pe===null&&(pe=qe);break}t&&pe&&al.alternate===null&&a(P,pe),C=h(al,C,Ce),Ze===null?ve=al:Ze.sibling=al,Ze=al,pe=qe}if(Fe.done)return s(P,pe),Ue&&pa(P,Ce),ve;if(pe===null){for(;!Fe.done;Ce++,Fe=U.next())Fe=ne(P,Fe.value,ee),Fe!==null&&(C=h(Fe,C,Ce),Ze===null?ve=Fe:Ze.sibling=Fe,Ze=Fe);return Ue&&pa(P,Ce),ve}for(pe=o(pe);!Fe.done;Ce++,Fe=U.next())Fe=Y(pe,P,Ce,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&pe.delete(Fe.key===null?Ce:Fe.key),C=h(Fe,C,Ce),Ze===null?ve=Fe:Ze.sibling=Fe,Ze=Fe);return t&&pe.forEach(function(X1){return a(P,X1)}),Ue&&pa(P,Ce),ve}function st(P,C,U,ee){if(typeof U=="object"&&U!==null&&U.type===w&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var ve=U.key;C!==null;){if(C.key===ve){if(ve=U.type,ve===w){if(C.tag===7){s(P,C.sibling),ee=d(C,U.props.children),ee.return=P,P=ee;break e}}else if(C.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&Dl(ve)===C.type){s(P,C.sibling),ee=d(C,U.props),di(ee,U),ee.return=P,P=ee;break e}s(P,C);break}else a(P,C);C=C.sibling}U.type===w?(ee=El(U.props.children,P.mode,ee,U.key),ee.return=P,P=ee):(ee=Sr(U.type,U.key,U.props,null,P.mode,ee),di(ee,U),ee.return=P,P=ee)}return y(P);case N:e:{for(ve=U.key;C!==null;){if(C.key===ve)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){s(P,C.sibling),ee=d(C,U.children||[]),ee.return=P,P=ee;break e}else{s(P,C);break}else a(P,C);C=C.sibling}ee=Jc(U,P.mode,ee),ee.return=P,P=ee}return y(P);case F:return U=Dl(U),st(P,C,U,ee)}if(de(U))return me(P,C,U,ee);if(ce(U)){if(ve=ce(U),typeof ve!="function")throw Error(i(150));return U=ve.call(U),Se(P,C,U,ee)}if(typeof U.then=="function")return st(P,C,jr(U),ee);if(U.$$typeof===O)return st(P,C,Er(P,U),ee);Dr(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(s(P,C.sibling),ee=d(C,U),ee.return=P,P=ee):(s(P,C),ee=Qc(U,P.mode,ee),ee.return=P,P=ee),y(P)):s(P,C)}return function(P,C,U,ee){try{ui=0;var ve=st(P,C,U,ee);return ds=null,ve}catch(pe){if(pe===us||pe===Nr)throw pe;var Ze=xn(29,pe,null,P.mode);return Ze.lanes=ee,Ze.return=P,Ze}}}var Al=Tm(!0),Nm=Tm(!1),qa=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $a(t,a,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=xr(t),cm(t,null,s),a}return br(t,o,a,s),xr(t)}function fi(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,s|=o,a.lanes=s,Wt(t,s)}}function hu(t,a){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?d=h=y:h=h.next=y,s=s.next}while(s!==null);h===null?d=h=a:h=h.next=a}else d=h=a;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var mu=!1;function hi(){if(mu){var t=cs;if(t!==null)throw t}}function mi(t,a,s,o){mu=!1;var d=t.updateQueue;qa=!1;var h=d.firstBaseUpdate,y=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var D=E,$=D.next;D.next=null,y===null?h=$:y.next=$,y=D;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==y&&(E===null?K.firstBaseUpdate=$:E.next=$,K.lastBaseUpdate=D))}if(h!==null){var ne=d.baseState;y=0,K=$=D=null,E=h;do{var Z=E.lane&-536870913,Y=Z!==E.lane;if(Y?(Le&Z)===Z:(o&Z)===Z){Z!==0&&Z===os&&(mu=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=t,Se=E;Z=a;var st=s;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ne=me.call(st,ne,Z);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,Z=typeof me=="function"?me.call(st,ne,Z):me,Z==null)break e;ne=v({},ne,Z);break e;case 2:qa=!0}}Z=E.callback,Z!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[Z]:Y.push(Z))}else Y={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?($=K=Y,D=ne):K=K.next=Y,y|=Z;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);K===null&&(D=ne),d.baseState=D,d.firstBaseUpdate=$,d.lastBaseUpdate=K,h===null&&(d.shared.lanes=0),Ga|=y,t.lanes=y,t.memoizedState=ne}}function Mm(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function jm(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Mm(s[t],a)}var fs=T(null),Cr=T(0);function Dm(t,a){t=Ma,J(Cr,t),J(fs,a),Ma=t|a.baseLanes}function gu(){J(Cr,Ma),J(fs,fs.current)}function pu(){Ma=Cr.current,q(fs),q(Cr)}var Sn=T(null),Ln=null;function Ha(t){var a=t.alternate;J(Et,Et.current&1),J(Sn,t),Ln===null&&(a===null||fs.current!==null||a.memoizedState!==null)&&(Ln=t)}function vu(t){J(Et,Et.current),J(Sn,t),Ln===null&&(Ln=t)}function Cm(t){t.tag===22?(J(Et,Et.current),J(Sn,t),Ln===null&&(Ln=t)):Za()}function Za(){J(Et,Et.current),J(Sn,Sn.current)}function wn(t){q(Sn),Ln===t&&(Ln=null),q(Et)}var Et=T(0);function Ar(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||Ed(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ba=0,Me=null,at=null,Dt=null,Rr=!1,hs=!1,Rl=!1,kr=0,gi=0,ms=null,US=0;function vt(){throw Error(i(321))}function yu(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!bn(t[s],a[s]))return!1;return!0}function bu(t,a,s,o,d,h){return ba=h,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=t===null||t.memoizedState===null?hg:zu,Rl=!1,h=s(o,d),Rl=!1,hs&&(h=Rm(a,s,o,d)),Am(t),h}function Am(t){R.H=yi;var a=at!==null&&at.next!==null;if(ba=0,Dt=at=Me=null,Rr=!1,gi=0,ms=null,a)throw Error(i(300));t===null||Ct||(t=t.dependencies,t!==null&&_r(t)&&(Ct=!0))}function Rm(t,a,s,o){Me=t;var d=0;do{if(hs&&(ms=null),gi=0,hs=!1,25<=d)throw Error(i(301));if(d+=1,Dt=at=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=mg,h=a(s,o)}while(hs);return h}function $S(){var t=R.H,a=t.useState()[0];return a=typeof a.then=="function"?pi(a):a,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Me.flags|=1024),a}function xu(){var t=kr!==0;return kr=0,t}function Su(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function wu(t){if(Rr){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Rr=!1}ba=0,Dt=at=Me=null,hs=!1,gi=kr=0,ms=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Tt(){if(at===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var a=Dt===null?Me.memoizedState:Dt.next;if(a!==null)Dt=a,at=t;else{if(t===null)throw Me.alternate===null?Error(i(467)):Error(i(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pi(t){var a=gi;return gi+=1,ms===null&&(ms=[]),t=wm(ms,t,a),a=Me,(Dt===null?a.memoizedState:Dt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?hg:zu),t}function Or(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pi(t);if(t.$$typeof===O)return Ft(t)}throw Error(i(438,String(t)))}function _u(t){var a=null,s=Me.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=zr(),Me.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),o=0;o<t;o++)s[o]=re;return a.index++,s}function xa(t,a){return typeof a=="function"?a(t):a}function Pr(t){var a=Tt();return Eu(a,at,t)}function Eu(t,a,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var y=d.next;d.next=h.next,h.next=y}a.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{a=d.next;var E=y=null,D=null,$=a,K=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Le&ne)===ne:(ba&ne)===ne){var Z=$.revertLane;if(Z===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===os&&(K=!0);else if((ba&Z)===Z){$=$.next,Z===os&&(K=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(E=D=ne,y=h):D=D.next=ne,Me.lanes|=Z,Ga|=Z;ne=$.action,Rl&&s(h,ne),h=$.hasEagerState?$.eagerState:s(h,ne)}else Z={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(E=D=Z,y=h):D=D.next=Z,Me.lanes|=ne,Ga|=ne;$=$.next}while($!==null&&$!==a);if(D===null?y=h:D.next=E,!bn(h,t.memoizedState)&&(Ct=!0,K&&(s=cs,s!==null)))throw s;t.memoizedState=h,t.baseState=y,t.baseQueue=D,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Tu(t){var a=Tt(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,h=a.memoizedState;if(d!==null){s.pending=null;var y=d=d.next;do h=t(h,y.action),y=y.next;while(y!==d);bn(h,a.memoizedState)||(Ct=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),s.lastRenderedState=h}return[h,o]}function km(t,a,s){var o=Me,d=Tt(),h=Ue;if(h){if(s===void 0)throw Error(i(407));s=s()}else s=a();var y=!bn((at||d).memoizedState,s);if(y&&(d.memoizedState=s,Ct=!0),d=d.queue,ju(Pm.bind(null,o,d,t),[t]),d.getSnapshot!==a||y||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,gs(9,{destroy:void 0},Om.bind(null,o,d,s,a),null),rt===null)throw Error(i(349));h||(ba&127)!==0||zm(o,a,s)}return s}function zm(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Me.updateQueue,a===null?(a=zr(),Me.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Om(t,a,s,o){a.value=s,a.getSnapshot=o,Bm(a)&&Im(t)}function Pm(t,a,s){return s(function(){Bm(a)&&Im(t)})}function Bm(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!bn(t,s)}catch{return!0}}function Im(t){var a=_l(t,2);a!==null&&gn(a,t,2)}function Nu(t){var a=nn();if(typeof t=="function"){var s=t;if(t=s(),Rl){rn(!0);try{s()}finally{rn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},a}function Lm(t,a,s,o){return t.baseState=s,Eu(t,at,typeof o=="function"?o:xa)}function HS(t,a,s,o,d){if(Lr(t))throw Error(i(485));if(t=a.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};R.T!==null?s(!0):h.isTransition=!1,o(h),s=a.pending,s===null?(h.next=a.pending=h,qm(a,h)):(h.next=s.next,a.pending=s.next=h)}}function qm(t,a){var s=a.action,o=a.payload,d=t.state;if(a.isTransition){var h=R.T,y={};R.T=y;try{var E=s(d,o),D=R.S;D!==null&&D(y,E),Um(t,a,E)}catch($){Mu(t,a,$)}finally{h!==null&&y.types!==null&&(h.types=y.types),R.T=h}}else try{h=s(d,o),Um(t,a,h)}catch($){Mu(t,a,$)}}function Um(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){$m(t,a,o)},function(o){return Mu(t,a,o)}):$m(t,a,s)}function $m(t,a,s){a.status="fulfilled",a.value=s,Hm(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,qm(t,s)))}function Mu(t,a,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,Hm(a),a=a.next;while(a!==o)}t.action=null}function Hm(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Zm(t,a){return a}function Fm(t,a){if(Ue){var s=rt.formState;if(s!==null){e:{var o=Me;if(Ue){if(ut){t:{for(var d=ut,h=In;d.nodeType!==8;){if(!h){d=null;break t}if(d=qn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){ut=qn(d.nextSibling),o=d.data==="F!";break e}}Ia(o)}o=!1}o&&(a=s[0])}}return s=nn(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:a},s.queue=o,s=ug.bind(null,Me,o),o.dispatch=s,o=Nu(!1),h=ku.bind(null,Me,!1,o.queue),o=nn(),d={state:a,dispatch:null,action:t,pending:null},o.queue=d,s=HS.bind(null,Me,d,h,s),d.dispatch=s,o.memoizedState=t,[a,s,!1]}function Ym(t){var a=Tt();return Gm(a,at,t)}function Gm(t,a,s){if(a=Eu(t,a,Zm)[0],t=Pr(xa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=pi(a)}catch(y){throw y===us?Nr:y}else o=a;a=Tt();var d=a.queue,h=d.dispatch;return s!==a.memoizedState&&(Me.flags|=2048,gs(9,{destroy:void 0},ZS.bind(null,d,s),null)),[o,h,t]}function ZS(t,a){t.action=a}function Vm(t){var a=Tt(),s=at;if(s!==null)return Gm(a,s,t);Tt(),a=a.memoizedState,s=Tt();var o=s.queue.dispatch;return s.memoizedState=t,[a,o,!1]}function gs(t,a,s,o){return t={tag:t,create:s,deps:o,inst:a,next:null},a=Me.updateQueue,a===null&&(a=zr(),Me.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,a.lastEffect=t),t}function Km(){return Tt().memoizedState}function Br(t,a,s,o){var d=nn();Me.flags|=t,d.memoizedState=gs(1|a,{destroy:void 0},s,o===void 0?null:o)}function Ir(t,a,s,o){var d=Tt();o=o===void 0?null:o;var h=d.memoizedState.inst;at!==null&&o!==null&&yu(o,at.memoizedState.deps)?d.memoizedState=gs(a,h,s,o):(Me.flags|=t,d.memoizedState=gs(1|a,h,s,o))}function Wm(t,a){Br(8390656,8,t,a)}function ju(t,a){Ir(2048,8,t,a)}function FS(t){Me.flags|=4;var a=Me.updateQueue;if(a===null)a=zr(),Me.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Xm(t){var a=Tt().memoizedState;return FS({ref:a,nextImpl:t}),function(){if((Ve&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Qm(t,a){return Ir(4,2,t,a)}function Jm(t,a){return Ir(4,4,t,a)}function eg(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function tg(t,a,s){s=s!=null?s.concat([t]):null,Ir(4,4,eg.bind(null,a,t),s)}function Du(){}function ng(t,a){var s=Tt();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&yu(a,o[1])?o[0]:(s.memoizedState=[t,a],t)}function ag(t,a){var s=Tt();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&yu(a,o[1]))return o[0];if(o=t(),Rl){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[o,a],o}function Cu(t,a,s){return s===void 0||(ba&1073741824)!==0&&(Le&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=lp(),Me.lanes|=t,Ga|=t,s)}function lg(t,a,s,o){return bn(s,a)?s:fs.current!==null?(t=Cu(t,s,o),bn(t,a)||(Ct=!0),t):(ba&42)===0||(ba&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=s):(t=lp(),Me.lanes|=t,Ga|=t,a)}function sg(t,a,s,o,d){var h=G.p;G.p=h!==0&&8>h?h:8;var y=R.T,E={};R.T=E,ku(t,!1,a,s);try{var D=d(),$=R.S;if($!==null&&$(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=qS(D,o);vi(t,a,K,Tn(t))}else vi(t,a,o,Tn(t))}catch(ne){vi(t,a,{then:function(){},status:"rejected",reason:ne},Tn())}finally{G.p=h,y!==null&&E.types!==null&&(y.types=E.types),R.T=y}}function YS(){}function Au(t,a,s,o){if(t.tag!==5)throw Error(i(476));var d=ig(t).queue;sg(t,d,a,le,s===null?YS:function(){return rg(t),s(o)})}function ig(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:le},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function rg(t){var a=ig(t);a.next===null&&(a=t.alternate.memoizedState),vi(t,a.next.queue,{},Tn())}function Ru(){return Ft(zi)}function og(){return Tt().memoizedState}function cg(){return Tt().memoizedState}function GS(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Tn();t=Ua(s);var o=$a(a,t,s);o!==null&&(gn(o,a,s),fi(o,a,s)),a={cache:ru()},t.payload=a;return}a=a.return}}function VS(t,a,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lr(t)?dg(a,s):(s=Wc(t,a,s,o),s!==null&&(gn(s,t,o),fg(s,a,o)))}function ug(t,a,s){var o=Tn();vi(t,a,s,o)}function vi(t,a,s,o){var d={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lr(t))dg(a,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var y=a.lastRenderedState,E=h(y,s);if(d.hasEagerState=!0,d.eagerState=E,bn(E,y))return br(t,a,d,0),rt===null&&yr(),!1}catch{}if(s=Wc(t,a,d,o),s!==null)return gn(s,t,o),fg(s,a,o),!0}return!1}function ku(t,a,s,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lr(t)){if(a)throw Error(i(479))}else a=Wc(t,s,o,2),a!==null&&gn(a,t,2)}function Lr(t){var a=t.alternate;return t===Me||a!==null&&a===Me}function dg(t,a){hs=Rr=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function fg(t,a,s){if((s&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,s|=o,a.lanes=s,Wt(t,s)}}var yi={readContext:Ft,use:Or,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};yi.useEffectEvent=vt;var hg={readContext:Ft,use:Or,useCallback:function(t,a){return nn().memoizedState=[t,a===void 0?null:a],t},useContext:Ft,useEffect:Wm,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Br(4194308,4,eg.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Br(4194308,4,t,a)},useInsertionEffect:function(t,a){Br(4,2,t,a)},useMemo:function(t,a){var s=nn();a=a===void 0?null:a;var o=t();if(Rl){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[o,a],o},useReducer:function(t,a,s){var o=nn();if(s!==void 0){var d=s(a);if(Rl){rn(!0);try{s(a)}finally{rn(!1)}}}else d=a;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=VS.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var a=nn();return t={current:t},a.memoizedState=t},useState:function(t){t=Nu(t);var a=t.queue,s=ug.bind(null,Me,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Du,useDeferredValue:function(t,a){var s=nn();return Cu(s,t,a)},useTransition:function(){var t=Nu(!1);return t=sg.bind(null,Me,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var o=Me,d=nn();if(Ue){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),rt===null)throw Error(i(349));(Le&127)!==0||zm(o,a,s)}d.memoizedState=s;var h={value:s,getSnapshot:a};return d.queue=h,Wm(Pm.bind(null,o,h,t),[t]),o.flags|=2048,gs(9,{destroy:void 0},Om.bind(null,o,h,s,a),null),s},useId:function(){var t=nn(),a=rt.identifierPrefix;if(Ue){var s=sa,o=la;s=(o&~(1<<32-X(o)-1)).toString(32)+s,a="_"+a+"R_"+s,s=kr++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=US++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Ru,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var a=nn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=ku.bind(null,Me,!0,s),s.dispatch=a,[t,a]},useMemoCache:_u,useCacheRefresh:function(){return nn().memoizedState=GS.bind(null,Me)},useEffectEvent:function(t){var a=nn(),s={impl:t};return a.memoizedState=s,function(){if((Ve&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},zu={readContext:Ft,use:Or,useCallback:ng,useContext:Ft,useEffect:ju,useImperativeHandle:tg,useInsertionEffect:Qm,useLayoutEffect:Jm,useMemo:ag,useReducer:Pr,useRef:Km,useState:function(){return Pr(xa)},useDebugValue:Du,useDeferredValue:function(t,a){var s=Tt();return lg(s,at.memoizedState,t,a)},useTransition:function(){var t=Pr(xa)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:pi(t),a]},useSyncExternalStore:km,useId:og,useHostTransitionStatus:Ru,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,a){var s=Tt();return Lm(s,at,t,a)},useMemoCache:_u,useCacheRefresh:cg};zu.useEffectEvent=Xm;var mg={readContext:Ft,use:Or,useCallback:ng,useContext:Ft,useEffect:ju,useImperativeHandle:tg,useInsertionEffect:Qm,useLayoutEffect:Jm,useMemo:ag,useReducer:Tu,useRef:Km,useState:function(){return Tu(xa)},useDebugValue:Du,useDeferredValue:function(t,a){var s=Tt();return at===null?Cu(s,t,a):lg(s,at.memoizedState,t,a)},useTransition:function(){var t=Tu(xa)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:pi(t),a]},useSyncExternalStore:km,useId:og,useHostTransitionStatus:Ru,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,a){var s=Tt();return at!==null?Lm(s,at,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_u,useCacheRefresh:cg};mg.useEffectEvent=Xm;function Ou(t,a,s,o){a=t.memoizedState,s=s(o,a),s=s==null?a:v({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Pu={enqueueSetState:function(t,a,s){t=t._reactInternals;var o=Tn(),d=Ua(o);d.payload=a,s!=null&&(d.callback=s),a=$a(t,d,o),a!==null&&(gn(a,t,o),fi(a,t,o))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var o=Tn(),d=Ua(o);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=$a(t,d,o),a!==null&&(gn(a,t,o),fi(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Tn(),o=Ua(s);o.tag=2,a!=null&&(o.callback=a),a=$a(t,o,s),a!==null&&(gn(a,t,s),fi(a,t,s))}};function gg(t,a,s,o,d,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,y):a.prototype&&a.prototype.isPureReactComponent?!li(s,o)||!li(d,h):!0}function pg(t,a,s,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==t&&Pu.enqueueReplaceState(a,a.state,null)}function kl(t,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(t=t.defaultProps){s===a&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function vg(t){vr(t)}function yg(t){console.error(t)}function bg(t){vr(t)}function qr(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function xg(t,a,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bu(t,a,s){return s=Ua(s),s.tag=3,s.payload={element:null},s.callback=function(){qr(t,a)},s}function Sg(t){return t=Ua(t),t.tag=3,t}function wg(t,a,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){xg(a,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){xg(a,s,o),typeof d!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function KS(t,a,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&rs(a,s,d,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?Qr():s.alternate===null&&yt===0&&(yt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===Mr?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),od(t,o,d)),!1;case 22:return s.flags|=65536,o===Mr?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),od(t,o,d)),!1}throw Error(i(435,s.tag))}return od(t,o,d),Qr(),!1}if(Ue)return a=Sn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==nu&&(t=Error(i(422),{cause:o}),ri(On(t,s)))):(o!==nu&&(a=Error(i(423),{cause:o}),ri(On(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=On(o,s),d=Bu(t.stateNode,o,d),hu(t,d),yt!==4&&(yt=2)),!1;var h=Error(i(520),{cause:o});if(h=On(h,s),Ni===null?Ni=[h]:Ni.push(h),yt!==4&&(yt=2),a===null)return!0;o=On(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Bu(s.stateNode,o,t),hu(s,t),!1;case 1:if(a=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Sg(d),wg(d,t,s,o),hu(s,d),!1}s=s.return}while(s!==null);return!1}var Iu=Error(i(461)),Ct=!1;function Yt(t,a,s,o){a.child=t===null?Nm(a,null,s,o):Al(a,t.child,s,o)}function _g(t,a,s,o,d){s=s.render;var h=a.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ml(a),o=bu(t,a,s,y,h,d),E=xu(),t!==null&&!Ct?(Su(t,a,d),Sa(t,a,d)):(Ue&&E&&eu(a),a.flags|=1,Yt(t,a,o,d),a.child)}function Eg(t,a,s,o,d){if(t===null){var h=s.type;return typeof h=="function"&&!Xc(h)&&h.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=h,Tg(t,a,h,o,d)):(t=Sr(s.type,null,o,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(h=t.child,!Yu(t,d)){var y=h.memoizedProps;if(s=s.compare,s=s!==null?s:li,s(y,o)&&t.ref===a.ref)return Sa(t,a,d)}return a.flags|=1,t=ga(h,o),t.ref=a.ref,t.return=a,a.child=t}function Tg(t,a,s,o,d){if(t!==null){var h=t.memoizedProps;if(li(h,o)&&t.ref===a.ref)if(Ct=!1,a.pendingProps=o=h,Yu(t,d))(t.flags&131072)!==0&&(Ct=!0);else return a.lanes=t.lanes,Sa(t,a,d)}return Lu(t,a,s,o,d)}function Ng(t,a,s,o){var d=o.children,h=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(o=a.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,a.child=null;return Mg(t,a,h,s,o)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tr(a,h!==null?h.cachePool:null),h!==null?Dm(a,h):gu(),Cm(a);else return o=a.lanes=536870912,Mg(t,a,h!==null?h.baseLanes|s:s,s,o)}else h!==null?(Tr(a,h.cachePool),Dm(a,h),Za(),a.memoizedState=null):(t!==null&&Tr(a,null),gu(),Za());return Yt(t,a,d,s),a.child}function bi(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Mg(t,a,s,o,d){var h=cu();return h=h===null?null:{parent:jt._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},t!==null&&Tr(a,null),gu(),Cm(a),t!==null&&rs(t,a,o,!0),a.childLanes=d,null}function Ur(t,a){return a=Hr({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function jg(t,a,s){return Al(a,t.child,null,s),t=Ur(a,a.pendingProps),t.flags|=2,wn(a),a.memoizedState=null,t}function WS(t,a,s){var o=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=Ur(a,o),a.lanes=536870912,bi(null,t);if(vu(a),(t=ut)?(t=qp(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=dm(t),s.return=a,a.child=s,Zt=a,ut=null)):t=null,t===null)throw Ia(a);return a.lanes=536870912,null}return Ur(a,o)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if(vu(a),d)if(a.flags&256)a.flags&=-257,a=jg(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ct||rs(t,a,s,!1),d=(s&t.childLanes)!==0,Ct||d){if(o=rt,o!==null&&(y=tn(o,s),y!==0&&y!==h.retryLane))throw h.retryLane=y,_l(t,y),gn(o,t,y),Iu;Qr(),a=jg(t,a,s)}else t=h.treeContext,ut=qn(y.nextSibling),Zt=a,Ue=!0,Ba=null,In=!1,t!==null&&mm(a,t),a=Ur(a,o),a.flags|=4096;return a}return t=ga(t.child,{mode:o.mode,children:o.children}),t.ref=a.ref,a.child=t,t.return=a,t}function $r(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Lu(t,a,s,o,d){return Ml(a),s=bu(t,a,s,o,void 0,d),o=xu(),t!==null&&!Ct?(Su(t,a,d),Sa(t,a,d)):(Ue&&o&&eu(a),a.flags|=1,Yt(t,a,s,d),a.child)}function Dg(t,a,s,o,d,h){return Ml(a),a.updateQueue=null,s=Rm(a,o,s,d),Am(t),o=xu(),t!==null&&!Ct?(Su(t,a,h),Sa(t,a,h)):(Ue&&o&&eu(a),a.flags|=1,Yt(t,a,s,h),a.child)}function Cg(t,a,s,o,d){if(Ml(a),a.stateNode===null){var h=as,y=s.contextType;typeof y=="object"&&y!==null&&(h=Ft(y)),h=new s(o,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Pu,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=o,h.state=a.memoizedState,h.refs={},du(a),y=s.contextType,h.context=typeof y=="object"&&y!==null?Ft(y):as,h.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ou(a,s,y,o),h.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Pu.enqueueReplaceState(h,h.state,null),mi(a,o,h,d),hi(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){h=a.stateNode;var E=a.memoizedProps,D=kl(s,E);h.props=D;var $=h.context,K=s.contextType;y=as,typeof K=="object"&&K!==null&&(y=Ft(K));var ne=s.getDerivedStateFromProps;K=typeof ne=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||$!==y)&&pg(a,h,o,y),qa=!1;var Z=a.memoizedState;h.state=Z,mi(a,o,h,d),hi(),$=a.memoizedState,E||Z!==$||qa?(typeof ne=="function"&&(Ou(a,s,ne,o),$=a.memoizedState),(D=qa||gg(a,s,D,o,Z,$,y))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=$),h.props=o,h.state=$,h.context=y,o=D):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{h=a.stateNode,fu(t,a),y=a.memoizedProps,K=kl(s,y),h.props=K,ne=a.pendingProps,Z=h.context,$=s.contextType,D=as,typeof $=="object"&&$!==null&&(D=Ft($)),E=s.getDerivedStateFromProps,($=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==ne||Z!==D)&&pg(a,h,o,D),qa=!1,Z=a.memoizedState,h.state=Z,mi(a,o,h,d),hi();var Y=a.memoizedState;y!==ne||Z!==Y||qa||t!==null&&t.dependencies!==null&&_r(t.dependencies)?(typeof E=="function"&&(Ou(a,s,E,o),Y=a.memoizedState),(K=qa||gg(a,s,K,o,Z,Y,D)||t!==null&&t.dependencies!==null&&_r(t.dependencies))?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Y,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Y,D)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Z===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Z===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=Y),h.props=o,h.state=Y,h.context=D,o=K):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&Z===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Z===t.memoizedState||(a.flags|=1024),o=!1)}return h=o,$r(t,a),o=(a.flags&128)!==0,h||o?(h=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,t!==null&&o?(a.child=Al(a,t.child,null,d),a.child=Al(a,null,s,d)):Yt(t,a,s,d),a.memoizedState=h.state,t=a.child):t=Sa(t,a,d),t}function Ag(t,a,s,o){return Tl(),a.flags|=256,Yt(t,a,s,o),a.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(t){return{baseLanes:t,cachePool:xm()}}function $u(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=En),t}function Rg(t,a,s){var o=a.pendingProps,d=!1,h=(a.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),y&&(d=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ue){if(d?Ha(a):Za(),(t=ut)?(t=qp(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=dm(t),s.return=a,a.child=s,Zt=a,ut=null)):t=null,t===null)throw Ia(a);return Ed(t)?a.lanes=32:a.lanes=536870912,null}var E=o.children;return o=o.fallback,d?(Za(),d=a.mode,E=Hr({mode:"hidden",children:E},d),o=El(o,d,s,null),E.return=a,o.return=a,E.sibling=o,a.child=E,o=a.child,o.memoizedState=Uu(s),o.childLanes=$u(t,y,s),a.memoizedState=qu,bi(null,o)):(Ha(a),Hu(a,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(h)a.flags&256?(Ha(a),a.flags&=-257,a=Zu(t,a,s)):a.memoizedState!==null?(Za(),a.child=t.child,a.flags|=128,a=null):(Za(),E=o.fallback,d=a.mode,o=Hr({mode:"visible",children:o.children},d),E=El(E,d,s,null),E.flags|=2,o.return=a,E.return=a,o.sibling=E,a.child=o,Al(a,t.child,null,s),o=a.child,o.memoizedState=Uu(s),o.childLanes=$u(t,y,s),a.memoizedState=qu,a=bi(null,o));else if(Ha(a),Ed(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var $=y.dgst;y=$,o=Error(i(419)),o.stack="",o.digest=y,ri({value:o,source:null,stack:null}),a=Zu(t,a,s)}else if(Ct||rs(t,a,s,!1),y=(s&t.childLanes)!==0,Ct||y){if(y=rt,y!==null&&(o=tn(y,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,_l(t,o),gn(y,t,o),Iu;_d(E)||Qr(),a=Zu(t,a,s)}else _d(E)?(a.flags|=192,a.child=t.child,a=null):(t=D.treeContext,ut=qn(E.nextSibling),Zt=a,Ue=!0,Ba=null,In=!1,t!==null&&mm(a,t),a=Hu(a,o.children),a.flags|=4096);return a}return d?(Za(),E=o.fallback,d=a.mode,D=t.child,$=D.sibling,o=ga(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,$!==null?E=ga($,E):(E=El(E,d,s,null),E.flags|=2),E.return=a,o.return=a,o.sibling=E,a.child=o,bi(null,o),o=a.child,E=t.child.memoizedState,E===null?E=Uu(s):(d=E.cachePool,d!==null?(D=jt._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=xm(),E={baseLanes:E.baseLanes|s,cachePool:d}),o.memoizedState=E,o.childLanes=$u(t,y,s),a.memoizedState=qu,bi(t.child,o)):(Ha(a),s=t.child,t=s.sibling,s=ga(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,t!==null&&(y=a.deletions,y===null?(a.deletions=[t],a.flags|=16):y.push(t)),a.child=s,a.memoizedState=null,s)}function Hu(t,a){return a=Hr({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Hr(t,a){return t=xn(22,t,null,a),t.lanes=0,t}function Zu(t,a,s){return Al(a,t.child,null,s),t=Hu(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function kg(t,a,s){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),su(t.return,a,s)}function Fu(t,a,s,o,d,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d,treeForkCount:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=d,y.treeForkCount=h)}function zg(t,a,s){var o=a.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var y=Et.current,E=(y&2)!==0;if(E?(y=y&1|2,a.flags|=128):y&=1,J(Et,y),Yt(t,a,o,s),o=Ue?ii:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,s,a);else if(t.tag===19)kg(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&Ar(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),Fu(a,!1,d,s,h,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&Ar(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Fu(a,!0,s,null,h,o);break;case"together":Fu(a,!1,null,null,void 0,o);break;default:a.memoizedState=null}return a.child}function Sa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Ga|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(rs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=ga(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ga(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Yu(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&_r(t)))}function XS(t,a,s){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),La(a,jt,t.memoizedState.cache),Tl();break;case 27:case 5:Ye(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:La(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,vu(a),null;break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ha(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Rg(t,a,s):(Ha(a),t=Sa(t,a,s),t!==null?t.sibling:null);Ha(a);break;case 19:var d=(t.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(rs(t,a,s,!1),o=(s&a.childLanes)!==0),d){if(o)return zg(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Et,Et.current),o)break;return null;case 22:return a.lanes=0,Ng(t,a,s,a.pendingProps);case 24:La(a,jt,t.memoizedState.cache)}return Sa(t,a,s)}function Og(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Ct=!0;else{if(!Yu(t,s)&&(a.flags&128)===0)return Ct=!1,XS(t,a,s);Ct=(t.flags&131072)!==0}else Ct=!1,Ue&&(a.flags&1048576)!==0&&hm(a,ii,a.index);switch(a.lanes=0,a.tag){case 16:e:{var o=a.pendingProps;if(t=Dl(a.elementType),a.type=t,typeof t=="function")Xc(t)?(o=kl(t,o),a.tag=1,a=Cg(null,a,t,o,s)):(a.tag=0,a=Lu(null,a,t,o,s));else{if(t!=null){var d=t.$$typeof;if(d===L){a.tag=11,a=_g(null,a,t,o,s);break e}else if(d===j){a.tag=14,a=Eg(null,a,t,o,s);break e}}throw a=ue(t)||t,Error(i(306,a,""))}}return a;case 0:return Lu(t,a,a.type,a.pendingProps,s);case 1:return o=a.type,d=kl(o,a.pendingProps),Cg(t,a,o,d,s);case 3:e:{if(ke(a,a.stateNode.containerInfo),t===null)throw Error(i(387));o=a.pendingProps;var h=a.memoizedState;d=h.element,fu(t,a),mi(a,o,null,s);var y=a.memoizedState;if(o=y.cache,La(a,jt,o),o!==h.cache&&iu(a,[jt],s,!0),hi(),o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Ag(t,a,o,s);break e}else if(o!==d){d=On(Error(i(424)),a),ri(d),a=Ag(t,a,o,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=qn(t.firstChild),Zt=a,Ue=!0,Ba=null,In=!0,s=Nm(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tl(),o===d){a=Sa(t,a,s);break e}Yt(t,a,o,s)}a=a.child}return a;case 26:return $r(t,a),t===null?(s=Yp(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ue||(s=a.type,t=a.pendingProps,o=so(ge.current).createElement(s),o[Ht]=a,o[cn]=t,Gt(o,s,t),It(o),a.stateNode=o):a.memoizedState=Yp(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ye(a),t===null&&Ue&&(o=a.stateNode=Hp(a.type,a.pendingProps,ge.current),Zt=a,In=!0,d=ut,Qa(a.type)?(Td=d,ut=qn(o.firstChild)):ut=d),Yt(t,a,a.pendingProps.children,s),$r(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ue&&((d=o=ut)&&(o=M1(o,a.type,a.pendingProps,In),o!==null?(a.stateNode=o,Zt=a,ut=qn(o.firstChild),In=!1,d=!0):d=!1),d||Ia(a)),Ye(a),d=a.type,h=a.pendingProps,y=t!==null?t.memoizedProps:null,o=h.children,xd(d,h)?o=null:y!==null&&xd(d,y)&&(a.flags|=32),a.memoizedState!==null&&(d=bu(t,a,$S,null,null,s),zi._currentValue=d),$r(t,a),Yt(t,a,o,s),a.child;case 6:return t===null&&Ue&&((t=s=ut)&&(s=j1(s,a.pendingProps,In),s!==null?(a.stateNode=s,Zt=a,ut=null,t=!0):t=!1),t||Ia(a)),null;case 13:return Rg(t,a,s);case 4:return ke(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Al(a,null,o,s):Yt(t,a,o,s),a.child;case 11:return _g(t,a,a.type,a.pendingProps,s);case 7:return Yt(t,a,a.pendingProps,s),a.child;case 8:return Yt(t,a,a.pendingProps.children,s),a.child;case 12:return Yt(t,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,La(a,a.type,o.value),Yt(t,a,o.children,s),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,Ml(a),d=Ft(d),o=o(d),a.flags|=1,Yt(t,a,o,s),a.child;case 14:return Eg(t,a,a.type,a.pendingProps,s);case 15:return Tg(t,a,a.type,a.pendingProps,s);case 19:return zg(t,a,s);case 31:return WS(t,a,s);case 22:return Ng(t,a,s,a.pendingProps);case 24:return Ml(a),o=Ft(jt),t===null?(d=cu(),d===null&&(d=rt,h=ru(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=s),d=h),a.memoizedState={parent:o,cache:d},du(a),La(a,jt,d)):((t.lanes&s)!==0&&(fu(t,a),mi(a,null,null,s),hi()),d=t.memoizedState,h=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),La(a,jt,o)):(o=h.cache,La(a,jt,o),o!==d.cache&&iu(a,[jt],s,!0))),Yt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function wa(t){t.flags|=4}function Gu(t,a,s,o,d){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(op())t.flags|=8192;else throw Cl=Mr,uu}else t.flags&=-16777217}function Pg(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(a))if(op())t.flags|=8192;else throw Cl=Mr,uu}function Zr(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Mt():536870912,t.lanes|=a,bs|=a)}function xi(t,a){if(!Ue)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,a}function QS(t,a,s){var o=a.pendingProps;switch(tu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return s=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ya(jt),ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(is(a)?wa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,au())),dt(a),null;case 26:var d=a.type,h=a.memoizedState;return t===null?(wa(a),h!==null?(dt(a),Pg(a,h)):(dt(a),Gu(a,d,null,o,s))):h?h!==t.memoizedState?(wa(a),dt(a),Pg(a,h)):(dt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==o&&wa(a),dt(a),Gu(a,d,t,o,s)),null;case 27:if(kt(a),s=ge.current,d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&wa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}t=ae.current,is(a)?gm(a):(t=Hp(d,o,s),a.stateNode=t,wa(a))}return dt(a),null;case 5:if(kt(a),d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&wa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}if(h=ae.current,is(a))gm(a);else{var y=so(ge.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?y.createElement(d,{is:o.is}):y.createElement(d)}}h[Ht]=a,h[cn]=o;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=h;e:switch(Gt(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&wa(a)}}return dt(a),Gu(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&wa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(t=ge.current,is(a)){if(t=a.stateNode,s=a.memoizedProps,o=null,d=Zt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Ht]=a,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Rp(t.nodeValue,s)),t||Ia(a,!0)}else t=so(t).createTextNode(o),t[Ht]=a,a.stateNode=t}return dt(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(o=is(a),s!==null){if(t===null){if(!o)throw Error(i(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Ht]=a}else Tl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),t=!1}else s=au(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(wn(a),a):(wn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return dt(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=is(a),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ht]=a}else Tl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),d=!1}else d=au(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(wn(a),a):(wn(a),null)}return wn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Zr(a,a.updateQueue),dt(a),null);case 4:return ze(),t===null&&gd(a.stateNode.containerInfo),dt(a),null;case 10:return ya(a.type),dt(a),null;case 19:if(q(Et),o=a.memoizedState,o===null)return dt(a),null;if(d=(a.flags&128)!==0,h=o.rendering,h===null)if(d)xi(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(h=Ar(t),h!==null){for(a.flags|=128,xi(o,!1),t=h.updateQueue,a.updateQueue=t,Zr(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)um(s,t),s=s.sibling;return J(Et,Et.current&1|2),Ue&&pa(a,o.treeForkCount),a.child}t=t.sibling}o.tail!==null&&Ie()>Kr&&(a.flags|=128,d=!0,xi(o,!1),a.lanes=4194304)}else{if(!d)if(t=Ar(h),t!==null){if(a.flags|=128,d=!0,t=t.updateQueue,a.updateQueue=t,Zr(a,t),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Ue)return dt(a),null}else 2*Ie()-o.renderingStartTime>Kr&&s!==536870912&&(a.flags|=128,d=!0,xi(o,!1),a.lanes=4194304);o.isBackwards?(h.sibling=a.child,a.child=h):(t=o.last,t!==null?t.sibling=h:a.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,s=Et.current,J(Et,d?s&1|2:s&1),Ue&&pa(a,o.treeForkCount),t):(dt(a),null);case 22:case 23:return wn(a),pu(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),s=a.updateQueue,s!==null&&Zr(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),t!==null&&q(jl),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ya(jt),dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JS(t,a){switch(tu(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ya(jt),ze(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return kt(a),null;case 31:if(a.memoizedState!==null){if(wn(a),a.alternate===null)throw Error(i(340));Tl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(wn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Tl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return q(Et),null;case 4:return ze(),null;case 10:return ya(a.type),null;case 22:case 23:return wn(a),pu(),t!==null&&q(jl),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ya(jt),null;case 25:return null;default:return null}}function Bg(t,a){switch(tu(a),a.tag){case 3:ya(jt),ze();break;case 26:case 27:case 5:kt(a);break;case 4:ze();break;case 31:a.memoizedState!==null&&wn(a);break;case 13:wn(a);break;case 19:q(Et);break;case 10:ya(a.type);break;case 22:case 23:wn(a),pu(),t!==null&&q(jl);break;case 24:ya(jt)}}function Si(t,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var h=s.create,y=s.inst;o=h(),y.destroy=o}s=s.next}while(s!==d)}}catch(E){Qe(a,a.return,E)}}function Fa(t,a,s){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,d=a;var D=s,$=E;try{$()}catch(K){Qe(d,D,K)}}}o=o.next}while(o!==h)}}catch(K){Qe(a,a.return,K)}}function Ig(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{jm(a,s)}catch(o){Qe(t,t.return,o)}}}function Lg(t,a,s){s.props=kl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Qe(t,a,o)}}function wi(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){Qe(t,a,d)}}function ia(t,a){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){Qe(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Qe(t,a,d)}else s.current=null}function qg(t){var a=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){Qe(t,t.return,d)}}function Vu(t,a,s){try{var o=t.stateNode;S1(o,t.type,s,a),o[cn]=a}catch(d){Qe(t,t.return,d)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function Ku(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wu(t,a,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=ha));else if(o!==4&&(o===27&&Qa(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Wu(t,a,s),t=t.sibling;t!==null;)Wu(t,a,s),t=t.sibling}function Fr(t,a,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(o!==4&&(o===27&&Qa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Fr(t,a,s),t=t.sibling;t!==null;)Fr(t,a,s),t=t.sibling}function $g(t){var a=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Gt(a,o,s),a[Ht]=t,a[cn]=s}catch(h){Qe(t,t.return,h)}}var _a=!1,At=!1,Xu=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function e1(t,a){if(t=t.containerInfo,yd=ho,t=tm(t),Zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var y=0,E=-1,D=-1,$=0,K=0,ne=t,Z=null;t:for(;;){for(var Y;ne!==s||d!==0&&ne.nodeType!==3||(E=y+d),ne!==h||o!==0&&ne.nodeType!==3||(D=y+o),ne.nodeType===3&&(y+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)Z=ne,ne=Y;for(;;){if(ne===t)break t;if(Z===s&&++$===d&&(E=y),Z===h&&++K===o&&(D=y),(Y=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=Y}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:t,selectionRange:s},ho=!1,Lt=a;Lt!==null;)if(a=Lt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Lt=t;else for(;Lt!==null;){switch(a=Lt,h=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=a,d=h.memoizedProps,h=h.memoizedState,o=s.stateNode;try{var me=kl(s.type,d);t=o.getSnapshotBeforeUpdate(me,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Qe(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)wd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Lt=t;break}Lt=a.return}}function Zg(t,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ta(t,s),o&4&&Si(5,s);break;case 1:if(Ta(t,s),o&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(y){Qe(s,s.return,y)}else{var d=kl(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Qe(s,s.return,y)}}o&64&&Ig(s),o&512&&wi(s,s.return);break;case 3:if(Ta(t,s),o&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{jm(t,a)}catch(y){Qe(s,s.return,y)}}break;case 27:a===null&&o&4&&$g(s);case 26:case 5:Ta(t,s),a===null&&o&4&&qg(s),o&512&&wi(s,s.return);break;case 12:Ta(t,s);break;case 31:Ta(t,s),o&4&&Gg(t,s);break;case 13:Ta(t,s),o&4&&Vg(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=c1.bind(null,s),D1(t,s))));break;case 22:if(o=s.memoizedState!==null||_a,!o){a=a!==null&&a.memoizedState!==null||At,d=_a;var h=At;_a=o,(At=a)&&!h?Na(t,s,(s.subtreeFlags&8772)!==0):Ta(t,s),_a=d,At=h}break;case 30:break;default:Ta(t,s)}}function Fg(t){var a=t.alternate;a!==null&&(t.alternate=null,Fg(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Mc(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,dn=!1;function Ea(t,a,s){for(s=s.child;s!==null;)Yg(t,a,s),s=s.sibling}function Yg(t,a,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(aa,s)}catch{}switch(s.tag){case 26:At||ia(s,a),Ea(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||ia(s,a);var o=ft,d=dn;Qa(s.type)&&(ft=s.stateNode,dn=!1),Ea(t,a,s),Ai(s.stateNode),ft=o,dn=d;break;case 5:At||ia(s,a);case 6:if(o=ft,d=dn,ft=null,Ea(t,a,s),ft=o,dn=d,ft!==null)if(dn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(h){Qe(s,a,h)}else try{ft.removeChild(s.stateNode)}catch(h){Qe(s,a,h)}break;case 18:ft!==null&&(dn?(t=ft,Ip(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ms(t)):Ip(ft,s.stateNode));break;case 4:o=ft,d=dn,ft=s.stateNode.containerInfo,dn=!0,Ea(t,a,s),ft=o,dn=d;break;case 0:case 11:case 14:case 15:Fa(2,s,a),At||Fa(4,s,a),Ea(t,a,s);break;case 1:At||(ia(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Lg(s,a,o)),Ea(t,a,s);break;case 21:Ea(t,a,s);break;case 22:At=(o=At)||s.memoizedState!==null,Ea(t,a,s),At=o;break;default:Ea(t,a,s)}}function Gg(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ms(t)}catch(s){Qe(a,a.return,s)}}}function Vg(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ms(t)}catch(s){Qe(a,a.return,s)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Hg),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Hg),a;default:throw Error(i(435,t.tag))}}function Yr(t,a){var s=t1(t);a.forEach(function(o){if(!s.has(o)){s.add(o);var d=u1.bind(null,t,o);o.then(d,d)}})}function fn(t,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],h=t,y=a,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Qa(E.type)){ft=E.stateNode,dn=!1;break e}break;case 5:ft=E.stateNode,dn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,dn=!0;break e}E=E.return}if(ft===null)throw Error(i(160));Yg(h,y,d),ft=null,dn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Kg(a,t),a=a.sibling}var Kn=null;function Kg(t,a){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(a,t),hn(t),o&4&&(Fa(3,t,t.return),Si(3,t),Fa(5,t,t.return));break;case 1:fn(a,t),hn(t),o&512&&(At||s===null||ia(s,s.return)),o&64&&_a&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Kn;if(fn(a,t),hn(t),o&512&&(At||s===null||ia(s,s.return)),o&4){var h=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Ks]||h[Ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),Gt(h,o,s),h[Ht]=t,It(h),o=h;break e;case"link":var y=Kp("link","href",d).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}h=d.createElement(o),Gt(h,o,s),d.head.appendChild(h);break;case"meta":if(y=Kp("meta","content",d).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}h=d.createElement(o),Gt(h,o,s),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[Ht]=t,It(h),o=h}t.stateNode=o}else Wp(d,t.type,t.stateNode);else t.stateNode=Vp(d,o,t.memoizedProps);else h!==o?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,o===null?Wp(d,t.type,t.stateNode):Vp(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Vu(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(a,t),hn(t),o&512&&(At||s===null||ia(s,s.return)),s!==null&&o&4&&Vu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(a,t),hn(t),o&512&&(At||s===null||ia(s,s.return)),t.flags&32){d=t.stateNode;try{Wl(d,"")}catch(me){Qe(t,t.return,me)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Vu(t,d,s!==null?s.memoizedProps:d)),o&1024&&(Xu=!0);break;case 6:if(fn(a,t),hn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(me){Qe(t,t.return,me)}}break;case 3:if(oo=null,d=Kn,Kn=io(a.containerInfo),fn(a,t),Kn=d,hn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ms(a.containerInfo)}catch(me){Qe(t,t.return,me)}Xu&&(Xu=!1,Wg(t));break;case 4:o=Kn,Kn=io(t.stateNode.containerInfo),fn(a,t),hn(t),Kn=o;break;case 12:fn(a,t),hn(t);break;case 31:fn(a,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yr(t,o)));break;case 13:fn(a,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vr=Ie()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yr(t,o)));break;case 22:d=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,$=_a,K=At;if(_a=$||d,At=K||D,fn(a,t),At=K,_a=$,hn(t),o&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||D||_a||At||zl(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){D=s=a;try{if(h=D.stateNode,d)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var ne=D.memoizedProps.style,Z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(me){Qe(D,D.return,me)}}}else if(a.tag===6){if(s===null){D=a;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(me){Qe(D,D.return,me)}}}else if(a.tag===18){if(s===null){D=a;try{var Y=D.stateNode;d?Lp(Y,!0):Lp(D.stateNode,!1)}catch(me){Qe(D,D.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yr(t,s))));break;case 19:fn(a,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yr(t,o)));break;case 30:break;case 21:break;default:fn(a,t),hn(t)}}function hn(t){var a=t.flags;if(a&2){try{for(var s,o=t.return;o!==null;){if(Ug(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,h=Ku(t);Fr(t,h,d);break;case 5:var y=s.stateNode;s.flags&32&&(Wl(y,""),s.flags&=-33);var E=Ku(t);Fr(t,E,y);break;case 3:case 4:var D=s.stateNode.containerInfo,$=Ku(t);Wu(t,$,D);break;default:throw Error(i(161))}}catch(K){Qe(t,t.return,K)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Wg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ta(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Zg(t,a.alternate,a),a=a.sibling}function zl(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Fa(4,a,a.return),zl(a);break;case 1:ia(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Lg(a,a.return,s),zl(a);break;case 27:Ai(a.stateNode);case 26:case 5:ia(a,a.return),zl(a);break;case 22:a.memoizedState===null&&zl(a);break;case 30:zl(a);break;default:zl(a)}t=t.sibling}}function Na(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=t,h=a,y=h.flags;switch(h.tag){case 0:case 11:case 15:Na(d,h,s),Si(4,h);break;case 1:if(Na(d,h,s),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Qe(o,o.return,$)}if(o=h,d=o.updateQueue,d!==null){var E=o.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Mm(D[d],E)}catch($){Qe(o,o.return,$)}}s&&y&64&&Ig(h),wi(h,h.return);break;case 27:$g(h);case 26:case 5:Na(d,h,s),s&&o===null&&y&4&&qg(h),wi(h,h.return);break;case 12:Na(d,h,s);break;case 31:Na(d,h,s),s&&y&4&&Gg(d,h);break;case 13:Na(d,h,s),s&&y&4&&Vg(d,h);break;case 22:h.memoizedState===null&&Na(d,h,s),wi(h,h.return);break;case 30:break;default:Na(d,h,s)}a=a.sibling}}function Qu(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&oi(s))}function Ju(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&oi(t))}function Wn(t,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xg(t,a,s,o),a=a.sibling}function Xg(t,a,s,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Wn(t,a,s,o),d&2048&&Si(9,a);break;case 1:Wn(t,a,s,o);break;case 3:Wn(t,a,s,o),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&oi(t)));break;case 12:if(d&2048){Wn(t,a,s,o),t=a.stateNode;try{var h=a.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Qe(a,a.return,D)}}else Wn(t,a,s,o);break;case 31:Wn(t,a,s,o);break;case 13:Wn(t,a,s,o);break;case 23:break;case 22:h=a.stateNode,y=a.alternate,a.memoizedState!==null?h._visibility&2?Wn(t,a,s,o):_i(t,a):h._visibility&2?Wn(t,a,s,o):(h._visibility|=2,ps(t,a,s,o,(a.subtreeFlags&10256)!==0||!1)),d&2048&&Qu(y,a);break;case 24:Wn(t,a,s,o),d&2048&&Ju(a.alternate,a);break;default:Wn(t,a,s,o)}}function ps(t,a,s,o,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=t,y=a,E=s,D=o,$=y.flags;switch(y.tag){case 0:case 11:case 15:ps(h,y,E,D,d),Si(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?ps(h,y,E,D,d):_i(h,y):(K._visibility|=2,ps(h,y,E,D,d)),d&&$&2048&&Qu(y.alternate,y);break;case 24:ps(h,y,E,D,d),d&&$&2048&&Ju(y.alternate,y);break;default:ps(h,y,E,D,d)}a=a.sibling}}function _i(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,o=a,d=o.flags;switch(o.tag){case 22:_i(s,o),d&2048&&Qu(o.alternate,o);break;case 24:_i(s,o),d&2048&&Ju(o.alternate,o);break;default:_i(s,o)}a=a.sibling}}var Ei=8192;function vs(t,a,s){if(t.subtreeFlags&Ei)for(t=t.child;t!==null;)Qg(t,a,s),t=t.sibling}function Qg(t,a,s){switch(t.tag){case 26:vs(t,a,s),t.flags&Ei&&t.memoizedState!==null&&U1(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:vs(t,a,s);break;case 3:case 4:var o=Kn;Kn=io(t.stateNode.containerInfo),vs(t,a,s),Kn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ei,Ei=16777216,vs(t,a,s),Ei=o):vs(t,a,s));break;default:vs(t,a,s)}}function Jg(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Ti(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];Lt=o,tp(o,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Ti(t),t.flags&2048&&Fa(9,t,t.return);break;case 3:Ti(t);break;case 12:Ti(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Gr(t)):Ti(t);break;default:Ti(t)}}function Gr(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];Lt=o,tp(o,t)}Jg(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Fa(8,a,a.return),Gr(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Gr(a));break;default:Gr(a)}t=t.sibling}}function tp(t,a){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Fa(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oi(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Lt=o;else e:for(s=t;Lt!==null;){o=Lt;var d=o.sibling,h=o.return;if(Fg(o),o===s){Lt=null;break e}if(d!==null){d.return=h,Lt=d;break e}Lt=h}}}var n1={getCacheForType:function(t){var a=Ft(jt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Ft(jt).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Ve=0,rt=null,Pe=null,Le=0,Xe=0,_n=null,Ya=!1,ys=!1,ed=!1,Ma=0,yt=0,Ga=0,Ol=0,td=0,En=0,bs=0,Ni=null,mn=null,nd=!1,Vr=0,np=0,Kr=1/0,Wr=null,Va=null,Ot=0,Ka=null,xs=null,ja=0,ad=0,ld=null,ap=null,Mi=0,sd=null;function Tn(){return(Ve&2)!==0&&Le!==0?Le&-Le:R.T!==null?dd():on()}function lp(){if(En===0)if((Le&536870912)===0||Ue){var t=en;en<<=1,(en&3932160)===0&&(en=262144),En=t}else En=536870912;return t=Sn.current,t!==null&&(t.flags|=32),En}function gn(t,a,s){(t===rt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ss(t,0),Wa(t,Le,En,!1)),xe(t,s),((Ve&2)===0||t!==rt)&&(t===rt&&((Ve&2)===0&&(Ol|=s),yt===4&&Wa(t,Le,En,!1)),ra(t))}function sp(t,a,s){if((Ve&6)!==0)throw Error(i(327));var o=!s&&(a&127)===0&&(a&t.expiredLanes)===0||it(t,a),d=o?i1(t,a):rd(t,a,!0),h=o;do{if(d===0){ys&&!o&&Wa(t,a,0,!1);break}else{if(s=t.current.alternate,h&&!l1(s)){d=rd(t,a,!1),h=!1;continue}if(d===2){if(h=a,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var E=t;d=Ni;var D=E.current.memoizedState.isDehydrated;if(D&&(Ss(E,y).flags|=256),y=rd(E,y,!1),y!==2){if(ed&&!D){E.errorRecoveryDisabledLanes|=h,Ol|=h,d=4;break e}h=mn,mn=d,h!==null&&(mn===null?mn=h:mn.push.apply(mn,h))}d=y}if(h=!1,d!==2)continue}}if(d===1){Ss(t,0),Wa(t,a,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Wa(o,a,En,!Ya);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Vr+300-Ie(),10<d)){if(Wa(o,a,En,!Ya),Ge(o,0,!0)!==0)break e;ja=a,o.timeoutHandle=Pp(ip.bind(null,o,s,mn,Wr,nd,a,En,Ol,bs,Ya,h,"Throttled",-0,0),d);break e}ip(o,s,mn,Wr,nd,a,En,Ol,bs,Ya,h,null,-0,0)}}break}while(!0);ra(t)}function ip(t,a,s,o,d,h,y,E,D,$,K,ne,Z,Y){if(t.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ha},Qg(a,h,ne);var me=(h&62914560)===h?Vr-Ie():(h&4194048)===h?np-Ie():0;if(me=$1(ne,me),me!==null){ja=h,t.cancelPendingCommit=me(mp.bind(null,t,a,h,s,o,d,y,E,D,K,ne,null,Z,Y)),Wa(t,h,y,!$);return}}mp(t,a,h,s,o,d,y,E,D)}function l1(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],h=d.getSnapshot;d=d.value;try{if(!bn(h(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wa(t,a,s,o){a&=~td,a&=~Ol,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var d=a;0<d;){var h=31-X(d),y=1<<h;o[h]=-1,d&=~y}s!==0&&Bt(t,s,a)}function Xr(){return(Ve&6)===0?(ji(0),!1):!0}function id(){if(Pe!==null){if(Xe===0)var t=Pe.return;else t=Pe,va=Nl=null,wu(t),ds=null,ui=0,t=Pe;for(;t!==null;)Bg(t.alternate,t),t=t.return;Pe=null}}function Ss(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,E1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ja=0,id(),rt=t,Pe=s=ga(t.current,null),Le=a,Xe=0,_n=null,Ya=!1,ys=it(t,a),ed=!1,bs=En=td=Ol=Ga=yt=0,mn=Ni=null,nd=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var d=31-X(o),h=1<<d;a|=t[d],o&=~h}return Ma=a,yr(),s}function rp(t,a){Me=null,R.H=yi,a===us||a===Nr?(a=_m(),Xe=3):a===uu?(a=_m(),Xe=4):Xe=a===Iu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_n=a,Pe===null&&(yt=1,qr(t,On(a,t.current)))}function op(){var t=Sn.current;return t===null?!0:(Le&4194048)===Le?Ln===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ln:!1}function cp(){var t=R.H;return R.H=yi,t===null?yi:t}function up(){var t=R.A;return R.A=n1,t}function Qr(){yt=4,Ya||(Le&4194048)!==Le&&Sn.current!==null||(ys=!0),(Ga&134217727)===0&&(Ol&134217727)===0||rt===null||Wa(rt,Le,En,!1)}function rd(t,a,s){var o=Ve;Ve|=2;var d=cp(),h=up();(rt!==t||Le!==a)&&(Wr=null,Ss(t,a)),a=!1;var y=yt;e:do try{if(Xe!==0&&Pe!==null){var E=Pe,D=_n;switch(Xe){case 8:id(),y=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(a=!0);var $=Xe;if(Xe=0,_n=null,ws(t,E,D,$),s&&ys){y=0;break e}break;default:$=Xe,Xe=0,_n=null,ws(t,E,D,$)}}s1(),y=yt;break}catch(K){rp(t,K)}while(!0);return a&&t.shellSuspendCounter++,va=Nl=null,Ve=o,R.H=d,R.A=h,Pe===null&&(rt=null,Le=0,yr()),y}function s1(){for(;Pe!==null;)dp(Pe)}function i1(t,a){var s=Ve;Ve|=2;var o=cp(),d=up();rt!==t||Le!==a?(Wr=null,Kr=Ie()+500,Ss(t,a)):ys=it(t,a);e:do try{if(Xe!==0&&Pe!==null){a=Pe;var h=_n;t:switch(Xe){case 1:Xe=0,_n=null,ws(t,a,h,1);break;case 2:case 9:if(Sm(h)){Xe=0,_n=null,fp(a);break}a=function(){Xe!==2&&Xe!==9||rt!==t||(Xe=7),ra(t)},h.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Sm(h)?(Xe=0,_n=null,fp(a)):(Xe=0,_n=null,ws(t,a,h,7));break;case 5:var y=null;switch(Pe.tag){case 26:y=Pe.memoizedState;case 5:case 27:var E=Pe;if(y?Xp(y):E.stateNode.complete){Xe=0,_n=null;var D=E.sibling;if(D!==null)Pe=D;else{var $=E.return;$!==null?(Pe=$,Jr($)):Pe=null}break t}}Xe=0,_n=null,ws(t,a,h,5);break;case 6:Xe=0,_n=null,ws(t,a,h,6);break;case 8:id(),yt=6;break e;default:throw Error(i(462))}}r1();break}catch(K){rp(t,K)}while(!0);return va=Nl=null,R.H=o,R.A=d,Ve=s,Pe!==null?0:(rt=null,Le=0,yr(),yt)}function r1(){for(;Pe!==null&&!_e();)dp(Pe)}function dp(t){var a=Og(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,a===null?Jr(t):Pe=a}function fp(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Dg(s,a,a.pendingProps,a.type,void 0,Le);break;case 11:a=Dg(s,a,a.pendingProps,a.type.render,a.ref,Le);break;case 5:wu(a);default:Bg(s,a),a=Pe=um(a,Ma),a=Og(s,a,Ma)}t.memoizedProps=t.pendingProps,a===null?Jr(t):Pe=a}function ws(t,a,s,o){va=Nl=null,wu(a),ds=null,ui=0;var d=a.return;try{if(KS(t,d,a,s,Le)){yt=1,qr(t,On(s,t.current)),Pe=null;return}}catch(h){if(d!==null)throw Pe=d,h;yt=1,qr(t,On(s,t.current)),Pe=null;return}a.flags&32768?(Ue||o===1?t=!0:ys||(Le&536870912)!==0?t=!1:(Ya=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),hp(a,t)):Jr(a)}function Jr(t){var a=t;do{if((a.flags&32768)!==0){hp(a,Ya);return}t=a.return;var s=QS(a.alternate,a,Ma);if(s!==null){Pe=s;return}if(a=a.sibling,a!==null){Pe=a;return}Pe=a=t}while(a!==null);yt===0&&(yt=5)}function hp(t,a){do{var s=JS(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);yt=6,Pe=null}function mp(t,a,s,o,d,h,y,E,D){t.cancelPendingCommit=null;do eo();while(Ot!==0);if((Ve&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=Kc,nt(t,s,h,y,E,D),t===rt&&(Pe=rt=null,Le=0),xs=a,Ka=t,ja=s,ad=h,ld=d,ap=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,d1(yn,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,d=G.p,G.p=2,y=Ve,Ve|=4;try{e1(t,a,s)}finally{Ve=y,G.p=d,R.T=o}}Ot=1,gp(),pp(),vp()}}function gp(){if(Ot===1){Ot=0;var t=Ka,a=xs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=R.T,R.T=null;var o=G.p;G.p=2;var d=Ve;Ve|=4;try{Kg(a,t);var h=bd,y=tm(t.containerInfo),E=h.focusedElem,D=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(D!==null&&Zc(E)){var $=D.start,K=D.end;if(K===void 0&&(K=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(K,E.value.length);else{var ne=E.ownerDocument||document,Z=ne&&ne.defaultView||window;if(Z.getSelection){var Y=Z.getSelection(),me=E.textContent.length,Se=Math.min(D.start,me),st=D.end===void 0?Se:Math.min(D.end,me);!Y.extend&&Se>st&&(y=st,st=Se,Se=y);var P=Jh(E,Se),C=Jh(E,st);if(P&&C&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==C.node||Y.focusOffset!==C.offset)){var U=ne.createRange();U.setStart(P.node,P.offset),Y.removeAllRanges(),Se>st?(Y.addRange(U),Y.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),Y.addRange(U))}}}}for(ne=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var ee=ne[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ho=!!yd,bd=yd=null}finally{Ve=d,G.p=o,R.T=s}}t.current=a,Ot=2}}function pp(){if(Ot===2){Ot=0;var t=Ka,a=xs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=R.T,R.T=null;var o=G.p;G.p=2;var d=Ve;Ve|=4;try{Zg(t,a.alternate,a)}finally{Ve=d,G.p=o,R.T=s}}Ot=3}}function vp(){if(Ot===4||Ot===3){Ot=0,Ee();var t=Ka,a=xs,s=ja,o=ap;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,xs=Ka=null,yp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Va=null),Cn(s),a=a.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(aa,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=R.T,d=G.p,G.p=2,R.T=null;try{for(var h=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];h(E.value,{componentStack:E.stack})}}finally{R.T=a,G.p=d}}(ja&3)!==0&&eo(),ra(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===sd?Mi++:(Mi=0,sd=t):Mi=0,ji(0)}}function yp(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,oi(a)))}function eo(){return gp(),pp(),vp(),bp()}function bp(){if(Ot!==5)return!1;var t=Ka,a=ad;ad=0;var s=Cn(ja),o=R.T,d=G.p;try{G.p=32>s?32:s,R.T=null,s=ld,ld=null;var h=Ka,y=ja;if(Ot=0,xs=Ka=null,ja=0,(Ve&6)!==0)throw Error(i(331));var E=Ve;if(Ve|=4,ep(h.current),Xg(h,h.current,y,s),Ve=E,ji(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(aa,h)}catch{}return!0}finally{G.p=d,R.T=o,yp(t,a)}}function xp(t,a,s){a=On(s,a),a=Bu(t.stateNode,a,2),t=$a(t,a,2),t!==null&&(xe(t,2),ra(t))}function Qe(t,a,s){if(t.tag===3)xp(t,t,s);else for(;a!==null;){if(a.tag===3){xp(a,t,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))){t=On(s,t),s=Sg(2),o=$a(a,s,2),o!==null&&(wg(s,o,a,t),xe(o,2),ra(o));break}}a=a.return}}function od(t,a,s){var o=t.pingCache;if(o===null){o=t.pingCache=new a1;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(s)||(ed=!0,d.add(s),t=o1.bind(null,t,a,s),a.then(t,t))}function o1(t,a,s){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,rt===t&&(Le&s)===s&&(yt===4||yt===3&&(Le&62914560)===Le&&300>Ie()-Vr?(Ve&2)===0&&Ss(t,0):td|=s,bs===Le&&(bs=0)),ra(t)}function Sp(t,a){a===0&&(a=Mt()),t=_l(t,a),t!==null&&(xe(t,a),ra(t))}function c1(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Sp(t,s)}function u1(t,a){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Sp(t,s)}function d1(t,a){return V(t,a)}var to=null,_s=null,cd=!1,no=!1,ud=!1,Xa=0;function ra(t){t!==_s&&t.next===null&&(_s===null?to=_s=t:_s=_s.next=t),no=!0,cd||(cd=!0,h1())}function ji(t,a){if(!ud&&no){ud=!0;do for(var s=!1,o=to;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var y=o.suspendedLanes,E=o.pingedLanes;h=(1<<31-X(42|t)+1)-1,h&=d&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Tp(o,h))}else h=Le,h=Ge(o,o===rt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||it(o,h)||(s=!0,Tp(o,h));o=o.next}while(s);ud=!1}}function f1(){wp()}function wp(){no=cd=!1;var t=0;Xa!==0&&_1()&&(t=Xa);for(var a=Ie(),s=null,o=to;o!==null;){var d=o.next,h=_p(o,a);h===0?(o.next=null,s===null?to=d:s.next=d,d===null&&(_s=s)):(s=o,(t!==0||(h&3)!==0)&&(no=!0)),o=d}Ot!==0&&Ot!==5||ji(t),Xa!==0&&(Xa=0)}function _p(t,a){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-X(h),E=1<<y,D=d[y];D===-1?((E&s)===0||(E&o)!==0)&&(d[y]=we(E,a)):D<=a&&(t.expiredLanes|=E),h&=~E}if(a=rt,s=Le,s=Ge(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===a&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ie(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||it(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(o!==null&&ie(o),Cn(s)){case 2:case 8:s=zt;break;case 32:s=yn;break;case 268435456:s=vl;break;default:s=yn}return o=Ep.bind(null,t),s=V(s,o),t.callbackPriority=a,t.callbackNode=s,a}return o!==null&&o!==null&&ie(o),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,a){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(eo()&&t.callbackNode!==s)return null;var o=Le;return o=Ge(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(sp(t,o,a),_p(t,Ie()),t.callbackNode!=null&&t.callbackNode===s?Ep.bind(null,t):null)}function Tp(t,a){if(eo())return null;sp(t,a,!0)}function h1(){T1(function(){(Ve&6)!==0?V(Jt,f1):wp()})}function dd(){if(Xa===0){var t=os;t===0&&(t=wt,wt<<=1,(wt&261888)===0&&(wt=256)),Xa=t}return Xa}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ur(""+t)}function Mp(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function m1(t,a,s,o,d){if(a==="submit"&&s&&s.stateNode===d){var h=Np((d[cn]||null).action),y=o.submitter;y&&(a=(a=y[cn]||null)?Np(a.formAction):y.getAttribute("formAction"),a!==null&&(h=a,y=null));var E=new mr("action","action",null,o,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xa!==0){var D=y?Mp(d,y):new FormData(d);Au(s,{pending:!0,data:D,method:d.method,action:h},null,D)}}else typeof h=="function"&&(E.preventDefault(),D=y?Mp(d,y):new FormData(d),Au(s,{pending:!0,data:D,method:d.method,action:h},h,D))},currentTarget:d}]})}}for(var fd=0;fd<Vc.length;fd++){var hd=Vc[fd],g1=hd.toLowerCase(),p1=hd[0].toUpperCase()+hd.slice(1);Vn(g1,"on"+p1)}Vn(lm,"onAnimationEnd"),Vn(sm,"onAnimationIteration"),Vn(im,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(RS,"onTransitionRun"),Vn(kS,"onTransitionStart"),Vn(zS,"onTransitionCancel"),Vn(rm,"onTransitionEnd"),Vl("onMouseEnter",["mouseout","mouseover"]),Vl("onMouseLeave",["mouseout","mouseover"]),Vl("onPointerEnter",["pointerout","pointerover"]),Vl("onPointerLeave",["pointerout","pointerover"]),bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bl("onBeforeInput",["compositionend","keypress","textInput","paste"]),bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Di));function jp(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var h=void 0;if(a)for(var y=o.length-1;0<=y;y--){var E=o[y],D=E.instance,$=E.currentTarget;if(E=E.listener,D!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=$;try{h(d)}catch(K){vr(K)}d.currentTarget=null,h=D}else for(y=0;y<o.length;y++){if(E=o[y],D=E.instance,$=E.currentTarget,E=E.listener,D!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=$;try{h(d)}catch(K){vr(K)}d.currentTarget=null,h=D}}}}function Be(t,a){var s=a[Nc];s===void 0&&(s=a[Nc]=new Set);var o=t+"__bubble";s.has(o)||(Dp(a,t,2,!1),s.add(o))}function md(t,a,s){var o=0;a&&(o|=4),Dp(s,t,o,a)}var ao="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[ao]){t[ao]=!0,wh.forEach(function(s){s!=="selectionchange"&&(v1.has(s)||md(s,!1,t),md(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[ao]||(a[ao]=!0,md("selectionchange",!1,a))}}function Dp(t,a,s,o){switch(lv(a)){case 2:var d=F1;break;case 8:d=Y1;break;default:d=Cd}s=d.bind(null,a,s,t),d=void 0,!Oc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function pd(t,a,s,o,d){var h=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===d)break;if(y===4)for(y=o.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;E!==null;){if(y=Fl(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){o=h=y;continue e}E=E.parentNode}}o=o.return}zh(function(){var $=h,K=kc(s),ne=[];e:{var Z=om.get(t);if(Z!==void 0){var Y=mr,me=t;switch(t){case"keypress":if(fr(s)===0)break e;case"keydown":case"keyup":Y=uS;break;case"focusin":me="focus",Y=Lc;break;case"focusout":me="blur",Y=Lc;break;case"beforeblur":case"afterblur":Y=Lc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=hS;break;case lm:case sm:case im:Y=tS;break;case rm:Y=gS;break;case"scroll":case"scrollend":Y=Wx;break;case"wheel":Y=vS;break;case"copy":case"cut":case"paste":Y=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Lh;break;case"toggle":case"beforetoggle":Y=bS}var Se=(a&4)!==0,st=!Se&&(t==="scroll"||t==="scrollend"),P=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var C=$,U;C!==null;){var ee=C;if(U=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||U===null||P===null||(ee=Xs(C,P),ee!=null&&Se.push(Ci(C,ee,U))),st)break;C=C.return}0<Se.length&&(Z=new Y(Z,me,null,s,K),ne.push({event:Z,listeners:Se}))}}if((a&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Z&&s!==Rc&&(me=s.relatedTarget||s.fromElement)&&(Fl(me)||me[Zl]))break e;if((Y||Z)&&(Z=K.window===K?K:(Z=K.ownerDocument)?Z.defaultView||Z.parentWindow:window,Y?(me=s.relatedTarget||s.toElement,Y=$,me=me?Fl(me):null,me!==null&&(st=c(me),Se=me.tag,me!==st||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Y=null,me=$),Y!==me)){if(Se=Bh,ee="onMouseLeave",P="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Lh,ee="onPointerLeave",P="onPointerEnter",C="pointer"),st=Y==null?Z:Ws(Y),U=me==null?Z:Ws(me),Z=new Se(ee,C+"leave",Y,s,K),Z.target=st,Z.relatedTarget=U,ee=null,Fl(K)===$&&(Se=new Se(P,C+"enter",me,s,K),Se.target=U,Se.relatedTarget=st,ee=Se),st=ee,Y&&me)t:{for(Se=y1,P=Y,C=me,U=0,ee=P;ee;ee=Se(ee))U++;ee=0;for(var ve=C;ve;ve=Se(ve))ee++;for(;0<U-ee;)P=Se(P),U--;for(;0<ee-U;)C=Se(C),ee--;for(;U--;){if(P===C||C!==null&&P===C.alternate){Se=P;break t}P=Se(P),C=Se(C)}Se=null}else Se=null;Y!==null&&Cp(ne,Z,Y,Se,!1),me!==null&&st!==null&&Cp(ne,st,me,Se,!0)}}e:{if(Z=$?Ws($):window,Y=Z.nodeName&&Z.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Z.type==="file")var Ze=Gh;else if(Fh(Z))if(Vh)Ze=DS;else{Ze=MS;var pe=NS}else Y=Z.nodeName,!Y||Y.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?$&&Ac($.elementType)&&(Ze=Gh):Ze=jS;if(Ze&&(Ze=Ze(t,$))){Yh(ne,Ze,s,K);break e}pe&&pe(t,Z,$),t==="focusout"&&$&&Z.type==="number"&&$.memoizedProps.value!=null&&Cc(Z,"number",Z.value)}switch(pe=$?Ws($):window,t){case"focusin":(Fh(pe)||pe.contentEditable==="true")&&(es=pe,Fc=$,si=null);break;case"focusout":si=Fc=es=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,nm(ne,s,K);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":nm(ne,s,K)}var Ce;if(Uc)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Jl?Hh(t,s)&&(qe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(qe="onCompositionStart");qe&&(qh&&s.locale!=="ko"&&(Jl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Jl&&(Ce=Oh()):(Oa=K,Pc="value"in Oa?Oa.value:Oa.textContent,Jl=!0)),pe=lo($,qe),0<pe.length&&(qe=new Ih(qe,t,null,s,K),ne.push({event:qe,listeners:pe}),Ce?qe.data=Ce:(Ce=Zh(s),Ce!==null&&(qe.data=Ce)))),(Ce=SS?wS(t,s):_S(t,s))&&(qe=lo($,"onBeforeInput"),0<qe.length&&(pe=new Ih("onBeforeInput","beforeinput",null,s,K),ne.push({event:pe,listeners:qe}),pe.data=Ce)),m1(ne,t,$,s,K)}jp(ne,a)})}function Ci(t,a,s){return{instance:t,listener:a,currentTarget:s}}function lo(t,a){for(var s=a+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Xs(t,s),d!=null&&o.unshift(Ci(t,d,h)),d=Xs(t,a),d!=null&&o.push(Ci(t,d,h))),t.tag===3)return o;t=t.return}return[]}function y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cp(t,a,s,o,d){for(var h=a._reactName,y=[];s!==null&&s!==o;){var E=s,D=E.alternate,$=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||$===null||(D=$,d?($=Xs(s,h),$!=null&&y.unshift(Ci(s,$,D))):d||($=Xs(s,h),$!=null&&y.push(Ci(s,$,D)))),s=s.return}y.length!==0&&t.push({event:a,listeners:y})}var b1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(b1,`
`).replace(x1,"")}function Rp(t,a){return a=Ap(a),Ap(t)===a}function lt(t,a,s,o,d,h){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Wl(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Wl(t,""+o);break;case"className":or(t,"class",o);break;case"tabIndex":or(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":or(t,s,o);break;case"style":Rh(t,o,h);break;case"data":if(a!=="object"){or(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ur(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(a!=="input"&&lt(t,a,"name",d.name,d,null),lt(t,a,"formEncType",d.formEncType,d,null),lt(t,a,"formMethod",d.formMethod,d,null),lt(t,a,"formTarget",d.formTarget,d,null)):(lt(t,a,"encType",d.encType,d,null),lt(t,a,"method",d.method,d,null),lt(t,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ur(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ha);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ur(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),rr(t,"popover",o);break;case"xlinkActuate":fa(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":fa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":fa(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":fa(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":fa(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":fa(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":fa(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":fa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":fa(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vx.get(s)||s,rr(t,s,o))}}function vd(t,a,s,o,d,h){switch(s){case"style":Rh(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Wl(t,o):(typeof o=="number"||typeof o=="bigint")&&Wl(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_h.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),h=t[cn]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(a,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):rr(t,s,o)}}}function Gt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,d=!1,h;for(h in s)if(s.hasOwnProperty(h)){var y=s[h];if(y!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(t,a,h,y,s,null)}}d&&lt(t,a,"srcSet",s.srcSet,s,null),o&&lt(t,a,"src",s.src,s,null);return;case"input":Be("invalid",t);var E=h=y=d=null,D=null,$=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":d=K;break;case"type":y=K;break;case"checked":D=K;break;case"defaultChecked":$=K;break;case"value":h=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:lt(t,a,o,K,s,null)}}jh(t,h,E,D,$,y,d,!1);return;case"select":Be("invalid",t),o=y=h=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:lt(t,a,d,E,s,null)}a=h,s=y,t.multiple=!!o,a!=null?Kl(t,!!o,a,!1):s!=null&&Kl(t,!!o,s,!0);return;case"textarea":Be("invalid",t),h=d=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:lt(t,a,y,E,s,null)}Ch(t,o,d,h);return;case"option":for(D in s)s.hasOwnProperty(D)&&(o=s[D],o!=null)&&(D==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,a,D,o,s,null));return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<Di.length;o++)Be(Di[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(o=s[$],o!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(t,a,$,o,s,null)}return;default:if(Ac(a)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&vd(t,a,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&lt(t,a,E,o,s,null))}function S1(t,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,y=null,E=null,D=null,$=null,K=null;for(Y in s){var ne=s[Y];if(s.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty(Y)||lt(t,a,Y,null,o,ne)}}for(var Z in o){var Y=o[Z];if(ne=s[Z],o.hasOwnProperty(Z)&&(Y!=null||ne!=null))switch(Z){case"type":h=Y;break;case"name":d=Y;break;case"checked":$=Y;break;case"defaultChecked":K=Y;break;case"value":y=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:Y!==ne&&lt(t,a,Z,Y,o,ne)}}Dc(t,y,E,D,$,K,h,d);return;case"select":Y=y=E=Z=null;for(h in s)if(D=s[h],s.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":Y=D;default:o.hasOwnProperty(h)||lt(t,a,h,null,o,D)}for(d in o)if(h=o[d],D=s[d],o.hasOwnProperty(d)&&(h!=null||D!=null))switch(d){case"value":Z=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==D&&lt(t,a,d,h,o,D)}a=E,s=y,o=Y,Z!=null?Kl(t,!!s,Z,!1):!!o!=!!s&&(a!=null?Kl(t,!!s,a,!0):Kl(t,!!s,s?[]:"",!1));return;case"textarea":Y=Z=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,a,E,null,o,d)}for(y in o)if(d=o[y],h=s[y],o.hasOwnProperty(y)&&(d!=null||h!=null))switch(y){case"value":Z=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&lt(t,a,y,d,o,h)}Dh(t,Z,Y);return;case"option":for(var me in s)Z=s[me],s.hasOwnProperty(me)&&Z!=null&&!o.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:lt(t,a,me,null,o,Z));for(D in o)Z=o[D],Y=s[D],o.hasOwnProperty(D)&&Z!==Y&&(Z!=null||Y!=null)&&(D==="selected"?t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":lt(t,a,D,Z,o,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)Z=s[Se],s.hasOwnProperty(Se)&&Z!=null&&!o.hasOwnProperty(Se)&&lt(t,a,Se,null,o,Z);for($ in o)if(Z=o[$],Y=s[$],o.hasOwnProperty($)&&Z!==Y&&(Z!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:lt(t,a,$,Z,o,Y)}return;default:if(Ac(a)){for(var st in s)Z=s[st],s.hasOwnProperty(st)&&Z!==void 0&&!o.hasOwnProperty(st)&&vd(t,a,st,void 0,o,Z);for(K in o)Z=o[K],Y=s[K],!o.hasOwnProperty(K)||Z===Y||Z===void 0&&Y===void 0||vd(t,a,K,Z,o,Y);return}}for(var P in s)Z=s[P],s.hasOwnProperty(P)&&Z!=null&&!o.hasOwnProperty(P)&&lt(t,a,P,null,o,Z);for(ne in o)Z=o[ne],Y=s[ne],!o.hasOwnProperty(ne)||Z===Y||Z==null&&Y==null||lt(t,a,ne,Z,o,Y)}function kp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var d=s[o],h=d.transferSize,y=d.initiatorType,E=d.duration;if(h&&E&&kp(y)){for(y=0,E=d.responseEnd,o+=1;o<s.length;o++){var D=s[o],$=D.startTime;if($>E)break;var K=D.transferSize,ne=D.initiatorType;K&&kp(ne)&&(D=D.responseEnd,y+=K*(D<E?1:(E-$)/(D-$)))}if(--o,a+=8*(h+y)/(d.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,bd=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function xd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sd=null;function _1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(N1)}:Pp;function N1(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function Ip(t,a){var s=a,o=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(d),Ms(a);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Ai(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ai(s);for(var h=s.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[Ks]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=y}}else s==="body"&&Ai(t.ownerDocument.body);s=d}while(s);Ms(a)}function Lp(t,a){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function wd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wd(s),Mc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function M1(t,a,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ks])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function j1(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function qp(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D1(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function qn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Td=null;function Up(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return qn(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Hp(t,a,s){switch(a=so(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ai(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mc(t)}var Un=new Map,Zp=new Set;function io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Da=G.d;G.d={f:C1,r:A1,D:R1,C:k1,L:z1,m:O1,X:B1,S:P1,M:I1};function C1(){var t=Da.f(),a=Xr();return t||a}function A1(t){var a=Yl(t);a!==null&&a.tag===5&&a.type==="form"?rg(a):Da.r(t)}var Es=typeof document>"u"?null:document;function Fp(t,a,s){var o=Es;if(o&&typeof a=="string"&&a){var d=kn(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Zp.has(d)||(Zp.add(d),t={rel:t,crossOrigin:s,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),Gt(a,"link",t),It(a),o.head.appendChild(a)))}}function R1(t){Da.D(t),Fp("dns-prefetch",t,null)}function k1(t,a){Da.C(t,a),Fp("preconnect",t,a)}function z1(t,a,s){Da.L(t,a,s);var o=Es;if(o&&t&&a){var d='link[rel="preload"][as="'+kn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+kn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+kn(s.imageSizes)+'"]')):d+='[href="'+kn(t)+'"]';var h=d;switch(a){case"style":h=Ts(t);break;case"script":h=Ns(t)}Un.has(h)||(t=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Un.set(h,t),o.querySelector(d)!==null||a==="style"&&o.querySelector(Ri(h))||a==="script"&&o.querySelector(ki(h))||(a=o.createElement("link"),Gt(a,"link",t),It(a),o.head.appendChild(a)))}}function O1(t,a){Da.m(t,a);var s=Es;if(s&&t){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+kn(o)+'"][href="'+kn(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ns(t)}if(!Un.has(h)&&(t=v({rel:"modulepreload",href:t},a),Un.set(h,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ki(h)))return}o=s.createElement("link"),Gt(o,"link",t),It(o),s.head.appendChild(o)}}}function P1(t,a,s){Da.S(t,a,s);var o=Es;if(o&&t){var d=Gl(o).hoistableStyles,h=Ts(t);a=a||"default";var y=d.get(h);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Ri(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Un.get(h))&&Nd(t,s);var D=y=o.createElement("link");It(D),Gt(D,"link",t),D._p=new Promise(function($,K){D.onload=$,D.onerror=K}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ro(y,a,o)}y={type:"stylesheet",instance:y,count:1,state:E},d.set(h,y)}}}function B1(t,a){Da.X(t,a);var s=Es;if(s&&t){var o=Gl(s).hoistableScripts,d=Ns(t),h=o.get(d);h||(h=s.querySelector(ki(d)),h||(t=v({src:t,async:!0},a),(a=Un.get(d))&&Md(t,a),h=s.createElement("script"),It(h),Gt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function I1(t,a){Da.M(t,a);var s=Es;if(s&&t){var o=Gl(s).hoistableScripts,d=Ns(t),h=o.get(d);h||(h=s.querySelector(ki(d)),h||(t=v({src:t,async:!0,type:"module"},a),(a=Un.get(d))&&Md(t,a),h=s.createElement("script"),It(h),Gt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Yp(t,a,s,o){var d=(d=ge.current)?io(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Ts(s.href),s=Gl(d).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ts(s.href);var h=Gl(d).hoistableStyles,y=h.get(t);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=d.querySelector(Ri(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),h||L1(d,t,s,y.state))),a&&o===null)throw Error(i(528,""));return y}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ns(s),s=Gl(d).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ts(t){return'href="'+kn(t)+'"'}function Ri(t){return'link[rel="stylesheet"]['+t+"]"}function Gp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function L1(t,a,s,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Gt(a,"link",s),It(a),t.head.appendChild(a))}function Ns(t){return'[src="'+kn(t)+'"]'}function ki(t){return"script[async]"+t}function Vp(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+kn(s.href)+'"]');if(o)return a.instance=o,It(o),o;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Gt(o,"style",d),ro(o,s.precedence,t),a.instance=o;case"stylesheet":d=Ts(s.href);var h=t.querySelector(Ri(d));if(h)return a.state.loading|=4,a.instance=h,It(h),h;o=Gp(s),(d=Un.get(d))&&Nd(o,d),h=(t.ownerDocument||t).createElement("link"),It(h);var y=h;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Gt(h,"link",o),a.state.loading|=4,ro(h,s.precedence,t),a.instance=h;case"script":return h=Ns(s.src),(d=t.querySelector(ki(h)))?(a.instance=d,It(d),d):(o=s,(d=Un.get(h))&&(o=v({},s),Md(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),It(d),Gt(d,"link",o),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,ro(o,s.precedence,t));return a.instance}function ro(t,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===a)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Nd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Md(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var oo=null;function Kp(t,a,s){if(oo===null){var o=new Map,d=oo=new Map;d.set(s,o)}else d=oo,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var h=s[d];if(!(h[Ks]||h[Ht]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(a)||"";y=t+y;var E=o.get(y);E?E.push(h):o.set(y,[h])}}return o}function Wp(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function q1(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function U1(t,a,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ts(o.href),h=a.querySelector(Ri(d));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=co.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=h,It(h);return}h=a.ownerDocument||a,o=Gp(o),(d=Un.get(d))&&Nd(o,d),h=h.createElement("link"),It(h);var y=h;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Gt(h,"link",o),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=co.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var jd=0;function $1(t,a){return t.stylesheets&&t.count===0&&fo(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&fo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+a);0<t.imgBytes&&jd===0&&(jd=62500*w1());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>jd?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uo=null;function fo(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uo=new Map,a.forEach(H1,t),uo=null,co.call(t))}function H1(t,a){if(!(a.state.loading&4)){var s=uo.get(t);if(s)var o=s.get(null);else{s=new Map,uo.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var y=d[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}d=a.instance,y=d.getAttribute("data-precedence"),h=s.get(y)||o,h===o&&s.set(null,d),s.set(y,d),this.count++,o=co.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var zi={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Z1(t,a,s,o,d,h,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.hiddenUpdates=_t(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Qp(t,a,s,o,d,h,y,E,D,$,K,ne){return t=new Z1(t,a,s,y,D,$,K,ne,E),a=1,h===!0&&(a|=24),h=xn(3,null,null,a),t.current=h,h.stateNode=t,a=ru(),a.refCount++,t.pooledCache=a,a.refCount++,h.memoizedState={element:o,isDehydrated:s,cache:a},du(h),t}function Jp(t){return t?(t=as,t):as}function ev(t,a,s,o,d,h){d=Jp(d),o.context===null?o.context=d:o.pendingContext=d,o=Ua(a),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=$a(t,o,a),s!==null&&(gn(s,t,a),fi(s,t,a))}function tv(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Dd(t,a){tv(t,a),(t=t.alternate)&&tv(t,a)}function nv(t){if(t.tag===13||t.tag===31){var a=_l(t,67108864);a!==null&&gn(a,t,67108864),Dd(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var a=Tn();a=Dn(a);var s=_l(t,a);s!==null&&gn(s,t,a),Dd(t,a)}}var ho=!0;function F1(t,a,s,o){var d=R.T;R.T=null;var h=G.p;try{G.p=2,Cd(t,a,s,o)}finally{G.p=h,R.T=d}}function Y1(t,a,s,o){var d=R.T;R.T=null;var h=G.p;try{G.p=8,Cd(t,a,s,o)}finally{G.p=h,R.T=d}}function Cd(t,a,s,o){if(ho){var d=Ad(o);if(d===null)pd(t,a,o,mo,s),sv(t,o);else if(V1(d,t,a,s,o))o.stopPropagation();else if(sv(t,o),a&4&&-1<G1.indexOf(t)){for(;d!==null;){var h=Yl(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=De(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-X(y);E.entanglements[1]|=D,y&=~D}ra(h),(Ve&6)===0&&(Kr=Ie()+500,ji(0))}}break;case 31:case 13:E=_l(h,2),E!==null&&gn(E,h,2),Xr(),Dd(h,2)}if(h=Ad(o),h===null&&pd(t,a,o,mo,s),h===d)break;d=h}d!==null&&o.stopPropagation()}else pd(t,a,o,null,s)}}function Ad(t){return t=kc(t),Rd(t)}var mo=null;function Rd(t){if(mo=null,t=Fl(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=u(a),t!==null)return t;t=null}else if(s===31){if(t=f(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return mo=t,null}function lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Jt:return 2;case zt:return 8;case yn:case da:return 32;case vl:return 268435456;default:return 32}default:return 32}}var kd=!1,Ja=null,el=null,tl=null,Oi=new Map,Pi=new Map,nl=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,a){switch(t){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":Oi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(a.pointerId)}}function Bi(t,a,s,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},a!==null&&(a=Yl(a),a!==null&&nv(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function V1(t,a,s,o,d){switch(a){case"focusin":return Ja=Bi(Ja,t,a,s,o,d),!0;case"dragenter":return el=Bi(el,t,a,s,o,d),!0;case"mouseover":return tl=Bi(tl,t,a,s,o,d),!0;case"pointerover":var h=d.pointerId;return Oi.set(h,Bi(Oi.get(h)||null,t,a,s,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Pi.set(h,Bi(Pi.get(h)||null,t,a,s,o,d)),!0}return!1}function iv(t){var a=Fl(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){t.blockedOn=a,Gn(t.priority,function(){av(s)});return}}else if(a===31){if(a=f(s),a!==null){t.blockedOn=a,Gn(t.priority,function(){av(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Ad(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Rc=o,s.target.dispatchEvent(o),Rc=null}else return a=Yl(s),a!==null&&nv(a),t.blockedOn=s,!1;a.shift()}return!0}function rv(t,a,s){go(t)&&s.delete(a)}function K1(){kd=!1,Ja!==null&&go(Ja)&&(Ja=null),el!==null&&go(el)&&(el=null),tl!==null&&go(tl)&&(tl=null),Oi.forEach(rv),Pi.forEach(rv)}function po(t,a){t.blockedOn===a&&(t.blockedOn=null,kd||(kd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,K1)))}var vo=null;function ov(t){vo!==t&&(vo=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vo===t&&(vo=null);for(var a=0;a<t.length;a+=3){var s=t[a],o=t[a+1],d=t[a+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var h=Yl(s);h!==null&&(t.splice(a,3),a-=3,Au(h,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ms(t){function a(D){return po(D,t)}Ja!==null&&po(Ja,t),el!==null&&po(el,t),tl!==null&&po(tl,t),Oi.forEach(a),Pi.forEach(a);for(var s=0;s<nl.length;s++){var o=nl[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nl.length&&(s=nl[0],s.blockedOn===null);)iv(s),s.blockedOn===null&&nl.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],h=s[o+1],y=d[cn]||null;if(typeof h=="function")y||ov(s);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,y=h[cn]||null)E=y.formAction;else if(Rd(d)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),ov(s)}}}function cv(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function zd(t){this._internalRoot=t}yo.prototype.render=zd.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=Tn();ev(s,o,t,a,null,null)},yo.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;ev(t.current,2,null,t,null,null),Xr(),a[Zl]=null}};function yo(t){this._internalRoot=t}yo.prototype.unstable_scheduleHydration=function(t){if(t){var a=on();t={blockedOn:null,target:t,priority:a};for(var s=0;s<nl.length&&a!==0&&a<nl[s].priority;s++);nl.splice(s,0,t),s===0&&iv(t)}};var uv=n.version;if(uv!=="19.2.4")throw Error(i(527,uv,"19.2.4"));G.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(a),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var W1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{aa=bo.inject(W1),He=bo}catch{}}return Li.createRoot=function(t,a){if(!r(t))throw Error(i(299));var s=!1,o="",d=vg,h=yg,y=bg;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Qp(t,1,!1,null,null,s,o,null,d,h,y,cv),t[Zl]=a.current,gd(t),new zd(a)},Li.hydrateRoot=function(t,a,s){if(!r(t))throw Error(i(299));var o=!1,d="",h=vg,y=yg,E=bg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),a=Qp(t,1,!0,a,s??null,o,d,D,h,y,E,cv),a.context=Jp(null),s=a.current,o=Tn(),o=Dn(o),d=Ua(o),d.callback=null,$a(s,d,o),s=o,a.current.lanes=s,xe(a,s),ra(a),t[Zl]=a.current,gd(t),new yo(a)},Li.version="19.2.4",Li}var xv;function iw(){if(xv)return Bd.exports;xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Bd.exports=sw(),Bd.exports}var rw=iw(),il=o0();const ow=i0(il),oc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ys(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Gf(e){return"nodeType"in e}function pn(e){var n,l;return e?Ys(e)?e:Gf(e)&&(n=(l=e.ownerDocument)==null?void 0:l.defaultView)!=null?n:window:window}function Vf(e){const{Document:n}=pn(e);return e instanceof n}function ar(e){return Ys(e)?!1:e instanceof pn(e).HTMLElement}function c0(e){return e instanceof pn(e).SVGElement}function Gs(e){return e?Ys(e)?e.document:Gf(e)?Vf(e)?e:ar(e)||c0(e)?e.ownerDocument:document:document:document}const ul=oc?S.useLayoutEffect:S.useEffect;function Kf(e){const n=S.useRef(e);return ul(()=>{n.current=e}),S.useCallback(function(){for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return n.current==null?void 0:n.current(...i)},[])}function cw(){const e=S.useRef(null),n=S.useCallback((i,r)=>{e.current=setInterval(i,r)},[]),l=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,l]}function Gi(e,n){n===void 0&&(n=[e]);const l=S.useRef(e);return ul(()=>{l.current!==e&&(l.current=e)},n),l}function lr(e,n){const l=S.useRef();return S.useMemo(()=>{const i=e(l.current);return l.current=i,i},[...n])}function $o(e){const n=Kf(e),l=S.useRef(null),i=S.useCallback(r=>{r!==l.current&&n?.(r,l.current),l.current=r},[]);return[l,i]}function Sf(e){const n=S.useRef();return S.useEffect(()=>{n.current=e},[e]),n.current}let Ud={};function cc(e,n){return S.useMemo(()=>{if(n)return n;const l=Ud[e]==null?0:Ud[e]+1;return Ud[e]=l,e+"-"+l},[e,n])}function u0(e){return function(n){for(var l=arguments.length,i=new Array(l>1?l-1:0),r=1;r<l;r++)i[r-1]=arguments[r];return i.reduce((c,u)=>{const f=Object.entries(u);for(const[p,g]of f){const b=c[p];b!=null&&(c[p]=b+e*g)}return c},{...n})}}const Is=u0(1),Vi=u0(-1);function uw(e){return"clientX"in e&&"clientY"in e}function d0(e){if(!e)return!1;const{KeyboardEvent:n}=pn(e.target);return n&&e instanceof n}function dw(e){if(!e)return!1;const{TouchEvent:n}=pn(e.target);return n&&e instanceof n}function wf(e){if(dw(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:l}=e.touches[0];return{x:n,y:l}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:l}=e.changedTouches[0];return{x:n,y:l}}}return uw(e)?{x:e.clientX,y:e.clientY}:null}const Ho=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:l}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(l?Math.round(l):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:l}=e;return"scaleX("+n+") scaleY("+l+")"}},Transform:{toString(e){if(e)return[Ho.Translate.toString(e),Ho.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:l,easing:i}=e;return n+" "+l+"ms "+i}}}),Sv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fw(e){return e.matches(Sv)?e:e.querySelector(Sv)}const hw={display:"none"};function mw(e){let{id:n,value:l}=e;return Ut.createElement("div",{id:n,style:hw},l)}function gw(e){let{id:n,announcement:l,ariaLiveType:i="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ut.createElement("div",{id:n,style:r,role:"status","aria-live":i,"aria-atomic":!0},l)}function pw(){const[e,n]=S.useState("");return{announce:S.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const f0=S.createContext(null);function vw(e){const n=S.useContext(f0);S.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function yw(){const[e]=S.useState(()=>new Set),n=S.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[S.useCallback(i=>{let{type:r,event:c}=i;e.forEach(u=>{var f;return(f=u[r])==null?void 0:f.call(u,c)})},[e]),n]}const bw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xw={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:l}=e;return l?"Draggable item "+n.id+" was moved over droppable area "+l.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:l}=e;return l?"Draggable item "+n.id+" was dropped over droppable area "+l.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Sw(e){let{announcements:n=xw,container:l,hiddenTextDescribedById:i,screenReaderInstructions:r=bw}=e;const{announce:c,announcement:u}=pw(),f=cc("DndLiveRegion"),[p,g]=S.useState(!1);if(S.useEffect(()=>{g(!0)},[]),vw(S.useMemo(()=>({onDragStart(v){let{active:x}=v;c(n.onDragStart({active:x}))},onDragMove(v){let{active:x,over:_}=v;n.onDragMove&&c(n.onDragMove({active:x,over:_}))},onDragOver(v){let{active:x,over:_}=v;c(n.onDragOver({active:x,over:_}))},onDragEnd(v){let{active:x,over:_}=v;c(n.onDragEnd({active:x,over:_}))},onDragCancel(v){let{active:x,over:_}=v;c(n.onDragCancel({active:x,over:_}))}}),[c,n])),!p)return null;const b=Ut.createElement(Ut.Fragment,null,Ut.createElement(mw,{id:i,value:r.draggable}),Ut.createElement(gw,{id:f,announcement:u}));return l?il.createPortal(b,l):b}var Pt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Pt||(Pt={}));function Zo(){}function wv(e,n){return S.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function ww(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return S.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const ta=Object.freeze({x:0,y:0});function h0(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function m0(e,n){let{data:{value:l}}=e,{data:{value:i}}=n;return l-i}function _w(e,n){let{data:{value:l}}=e,{data:{value:i}}=n;return i-l}function _v(e){let{left:n,top:l,height:i,width:r}=e;return[{x:n,y:l},{x:n+r,y:l},{x:n,y:l+i},{x:n+r,y:l+i}]}function g0(e,n){if(!e||e.length===0)return null;const[l]=e;return l[n]}function Ev(e,n,l){return n===void 0&&(n=e.left),l===void 0&&(l=e.top),{x:n+e.width*.5,y:l+e.height*.5}}const Ew=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:i}=e;const r=Ev(n,n.left,n.top),c=[];for(const u of i){const{id:f}=u,p=l.get(f);if(p){const g=h0(Ev(p),r);c.push({id:f,data:{droppableContainer:u,value:g}})}}return c.sort(m0)},Tw=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:i}=e;const r=_v(n),c=[];for(const u of i){const{id:f}=u,p=l.get(f);if(p){const g=_v(p),b=r.reduce((x,_,N)=>x+h0(g[N],_),0),v=Number((b/4).toFixed(4));c.push({id:f,data:{droppableContainer:u,value:v}})}}return c.sort(m0)};function Nw(e,n){const l=Math.max(n.top,e.top),i=Math.max(n.left,e.left),r=Math.min(n.left+n.width,e.left+e.width),c=Math.min(n.top+n.height,e.top+e.height),u=r-i,f=c-l;if(i<r&&l<c){const p=n.width*n.height,g=e.width*e.height,b=u*f,v=b/(p+g-b);return Number(v.toFixed(4))}return 0}const Mw=e=>{let{collisionRect:n,droppableRects:l,droppableContainers:i}=e;const r=[];for(const c of i){const{id:u}=c,f=l.get(u);if(f){const p=Nw(f,n);p>0&&r.push({id:u,data:{droppableContainer:c,value:p}})}}return r.sort(_w)};function jw(e,n,l){return{...e,scaleX:n&&l?n.width/l.width:1,scaleY:n&&l?n.height/l.height:1}}function p0(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:ta}function Dw(e){return function(l){for(var i=arguments.length,r=new Array(i>1?i-1:0),c=1;c<i;c++)r[c-1]=arguments[c];return r.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...l})}}const Cw=Dw(1);function Aw(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Rw(e,n,l){const i=Aw(n);if(!i)return e;const{scaleX:r,scaleY:c,x:u,y:f}=i,p=e.left-u-(1-r)*parseFloat(l),g=e.top-f-(1-c)*parseFloat(l.slice(l.indexOf(" ")+1)),b=r?e.width/r:e.width,v=c?e.height/c:e.height;return{width:b,height:v,top:g,right:p+b,bottom:g+v,left:p}}const kw={ignoreTransform:!1};function sr(e,n){n===void 0&&(n=kw);let l=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:b}=pn(e).getComputedStyle(e);g&&(l=Rw(l,g,b))}const{top:i,left:r,width:c,height:u,bottom:f,right:p}=l;return{top:i,left:r,width:c,height:u,bottom:f,right:p}}function Tv(e){return sr(e,{ignoreTransform:!0})}function zw(e){const n=e.innerWidth,l=e.innerHeight;return{top:0,left:0,right:n,bottom:l,width:n,height:l}}function Ow(e,n){return n===void 0&&(n=pn(e).getComputedStyle(e)),n.position==="fixed"}function Pw(e,n){n===void 0&&(n=pn(e).getComputedStyle(e));const l=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const c=n[r];return typeof c=="string"?l.test(c):!1})}function uc(e,n){const l=[];function i(r){if(n!=null&&l.length>=n||!r)return l;if(Vf(r)&&r.scrollingElement!=null&&!l.includes(r.scrollingElement))return l.push(r.scrollingElement),l;if(!ar(r)||c0(r)||l.includes(r))return l;const c=pn(e).getComputedStyle(r);return r!==e&&Pw(r,c)&&l.push(r),Ow(r,c)?l:i(r.parentNode)}return e?i(e):l}function v0(e){const[n]=uc(e,1);return n??null}function $d(e){return!oc||!e?null:Ys(e)?e:Gf(e)?Vf(e)||e===Gs(e).scrollingElement?window:ar(e)?e:null:null}function y0(e){return Ys(e)?e.scrollX:e.scrollLeft}function b0(e){return Ys(e)?e.scrollY:e.scrollTop}function _f(e){return{x:y0(e),y:b0(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function x0(e){return!oc||!e?!1:e===document.scrollingElement}function S0(e){const n={x:0,y:0},l=x0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-l.width,y:e.scrollHeight-l.height},r=e.scrollTop<=n.y,c=e.scrollLeft<=n.x,u=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:r,isLeft:c,isBottom:u,isRight:f,maxScroll:i,minScroll:n}}const Bw={x:.2,y:.2};function Iw(e,n,l,i,r){let{top:c,left:u,right:f,bottom:p}=l;i===void 0&&(i=10),r===void 0&&(r=Bw);const{isTop:g,isBottom:b,isLeft:v,isRight:x}=S0(e),_={x:0,y:0},N={x:0,y:0},w={height:n.height*r.y,width:n.width*r.x};return!g&&c<=n.top+w.height?(_.y=qt.Backward,N.y=i*Math.abs((n.top+w.height-c)/w.height)):!b&&p>=n.bottom-w.height&&(_.y=qt.Forward,N.y=i*Math.abs((n.bottom-w.height-p)/w.height)),!x&&f>=n.right-w.width?(_.x=qt.Forward,N.x=i*Math.abs((n.right-w.width-f)/w.width)):!v&&u<=n.left+w.width&&(_.x=qt.Backward,N.x=i*Math.abs((n.left+w.width-u)/w.width)),{direction:_,speed:N}}function Lw(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:u}=window;return{top:0,left:0,right:c,bottom:u,width:c,height:u}}const{top:n,left:l,right:i,bottom:r}=e.getBoundingClientRect();return{top:n,left:l,right:i,bottom:r,width:e.clientWidth,height:e.clientHeight}}function w0(e){return e.reduce((n,l)=>Is(n,_f(l)),ta)}function qw(e){return e.reduce((n,l)=>n+y0(l),0)}function Uw(e){return e.reduce((n,l)=>n+b0(l),0)}function $w(e,n){if(n===void 0&&(n=sr),!e)return;const{top:l,left:i,bottom:r,right:c}=n(e);v0(e)&&(r<=0||c<=0||l>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Hw=[["x",["left","right"],qw],["y",["top","bottom"],Uw]];class Wf{constructor(n,l){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=uc(l),r=w0(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[c,u,f]of Hw)for(const p of u)Object.defineProperty(this,p,{get:()=>{const g=f(i),b=r[c]-g;return this.rect[p]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hi{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(l=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...l)})},this.target=n}add(n,l,i){var r;(r=this.target)==null||r.addEventListener(n,l,i),this.listeners.push([n,l,i])}}function Zw(e){const{EventTarget:n}=pn(e);return e instanceof n?e:Gs(e)}function Hd(e,n){const l=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(l**2+i**2)>n:"x"in n&&"y"in n?l>n.x&&i>n.y:"x"in n?l>n.x:"y"in n?i>n.y:!1}var $n;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($n||($n={}));function Nv(e){e.preventDefault()}function Fw(e){e.stopPropagation()}var $e;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($e||($e={}));const _0={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},Yw=(e,n)=>{let{currentCoordinates:l}=n;switch(e.code){case $e.Right:return{...l,x:l.x+25};case $e.Left:return{...l,x:l.x-25};case $e.Down:return{...l,y:l.y+25};case $e.Up:return{...l,y:l.y-25}}};class Xf{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:l}}=n;this.props=n,this.listeners=new Hi(Gs(l)),this.windowListeners=new Hi(pn(l)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:l}=this.props,i=n.node.current;i&&$w(i),l(ta)}handleKeyDown(n){if(d0(n)){const{active:l,context:i,options:r}=this.props,{keyboardCodes:c=_0,coordinateGetter:u=Yw,scrollBehavior:f="smooth"}=r,{code:p}=n;if(c.end.includes(p)){this.handleEnd(n);return}if(c.cancel.includes(p)){this.handleCancel(n);return}const{collisionRect:g}=i.current,b=g?{x:g.left,y:g.top}:ta;this.referenceCoordinates||(this.referenceCoordinates=b);const v=u(n,{active:l,context:i.current,currentCoordinates:b});if(v){const x=Vi(v,b),_={x:0,y:0},{scrollableAncestors:N}=i.current;for(const w of N){const M=n.code,{isTop:z,isRight:I,isLeft:O,isBottom:L,maxScroll:H,minScroll:A}=S0(w),j=Lw(w),F={x:Math.min(M===$e.Right?j.right-j.width/2:j.right,Math.max(M===$e.Right?j.left:j.left+j.width/2,v.x)),y:Math.min(M===$e.Down?j.bottom-j.height/2:j.bottom,Math.max(M===$e.Down?j.top:j.top+j.height/2,v.y))},se=M===$e.Right&&!I||M===$e.Left&&!O,re=M===$e.Down&&!L||M===$e.Up&&!z;if(se&&F.x!==v.x){const Q=w.scrollLeft+x.x,ce=M===$e.Right&&Q<=H.x||M===$e.Left&&Q>=A.x;if(ce&&!x.y){w.scrollTo({left:Q,behavior:f});return}ce?_.x=w.scrollLeft-Q:_.x=M===$e.Right?w.scrollLeft-H.x:w.scrollLeft-A.x,_.x&&w.scrollBy({left:-_.x,behavior:f});break}else if(re&&F.y!==v.y){const Q=w.scrollTop+x.y,ce=M===$e.Down&&Q<=H.y||M===$e.Up&&Q>=A.y;if(ce&&!x.x){w.scrollTo({top:Q,behavior:f});return}ce?_.y=w.scrollTop-Q:_.y=M===$e.Down?w.scrollTop-H.y:w.scrollTop-A.y,_.y&&w.scrollBy({top:-_.y,behavior:f});break}}this.handleMove(n,Is(Vi(v,this.referenceCoordinates),_))}}}handleMove(n,l){const{onMove:i}=this.props;n.preventDefault(),i(l)}handleEnd(n){const{onEnd:l}=this.props;n.preventDefault(),this.detach(),l()}handleCancel(n){const{onCancel:l}=this.props;n.preventDefault(),this.detach(),l()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xf.activators=[{eventName:"onKeyDown",handler:(e,n,l)=>{let{keyboardCodes:i=_0,onActivation:r}=n,{active:c}=l;const{code:u}=e.nativeEvent;if(i.start.includes(u)){const f=c.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}}];function Mv(e){return!!(e&&"distance"in e)}function jv(e){return!!(e&&"delay"in e)}class Qf{constructor(n,l,i){var r;i===void 0&&(i=Zw(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=l;const{event:c}=n,{target:u}=c;this.props=n,this.events=l,this.document=Gs(u),this.documentListeners=new Hi(this.document),this.listeners=new Hi(i),this.windowListeners=new Hi(pn(u)),this.initialCoordinates=(r=wf(c))!=null?r:ta,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:l,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,Nv),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,Nv),this.documentListeners.add($n.Keydown,this.handleKeydown),l){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jv(l)){this.timeoutId=setTimeout(this.handleStart,l.delay),this.handlePending(l);return}if(Mv(l)){this.handlePending(l);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,l){const{active:i,onPending:r}=this.props;r(i,n,this.initialCoordinates,l)}handleStart(){const{initialCoordinates:n}=this,{onStart:l}=this.props;n&&(this.activated=!0,this.documentListeners.add($n.Click,Fw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),l(n))}handleMove(n){var l;const{activated:i,initialCoordinates:r,props:c}=this,{onMove:u,options:{activationConstraint:f}}=c;if(!r)return;const p=(l=wf(n))!=null?l:ta,g=Vi(r,p);if(!i&&f){if(Mv(f)){if(f.tolerance!=null&&Hd(g,f.tolerance))return this.handleCancel();if(Hd(g,f.distance))return this.handleStart()}if(jv(f)&&Hd(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}n.cancelable&&n.preventDefault(),u(p)}handleEnd(){const{onAbort:n,onEnd:l}=this.props;this.detach(),this.activated||n(this.props.active),l()}handleCancel(){const{onAbort:n,onCancel:l}=this.props;this.detach(),this.activated||n(this.props.active),l()}handleKeydown(n){n.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Gw={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Jf extends Qf{constructor(n){const{event:l}=n,i=Gs(l.target);super(n,Gw,i)}}Jf.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:i}=n;return!l.isPrimary||l.button!==0?!1:(i?.({event:l}),!0)}}];const Vw={move:{name:"mousemove"},end:{name:"mouseup"}};var Ef;(function(e){e[e.RightClick=2]="RightClick"})(Ef||(Ef={}));class Kw extends Qf{constructor(n){super(n,Vw,Gs(n.event.target))}}Kw.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:i}=n;return l.button===Ef.RightClick?!1:(i?.({event:l}),!0)}}];const Zd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ww extends Qf{constructor(n){super(n,Zd)}static setup(){return window.addEventListener(Zd.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Zd.move.name,n)};function n(){}}}Ww.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:l}=e,{onActivation:i}=n;const{touches:r}=l;return r.length>1?!1:(i?.({event:l}),!0)}}];var Zi;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zi||(Zi={}));var Fo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Fo||(Fo={}));function Xw(e){let{acceleration:n,activator:l=Zi.Pointer,canScroll:i,draggingRect:r,enabled:c,interval:u=5,order:f=Fo.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:b,delta:v,threshold:x}=e;const _=Jw({delta:v,disabled:!c}),[N,w]=cw(),M=S.useRef({x:0,y:0}),z=S.useRef({x:0,y:0}),I=S.useMemo(()=>{switch(l){case Zi.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Zi.DraggableRect:return r}},[l,r,p]),O=S.useRef(null),L=S.useCallback(()=>{const A=O.current;if(!A)return;const j=M.current.x*z.current.x,F=M.current.y*z.current.y;A.scrollBy(j,F)},[]),H=S.useMemo(()=>f===Fo.TreeOrder?[...g].reverse():g,[f,g]);S.useEffect(()=>{if(!c||!g.length||!I){w();return}for(const A of H){if(i?.(A)===!1)continue;const j=g.indexOf(A),F=b[j];if(!F)continue;const{direction:se,speed:re}=Iw(A,F,I,n,x);for(const Q of["x","y"])_[Q][se[Q]]||(re[Q]=0,se[Q]=0);if(re.x>0||re.y>0){w(),O.current=A,N(L,u),M.current=re,z.current=se;return}}M.current={x:0,y:0},z.current={x:0,y:0},w()},[n,L,i,w,c,u,JSON.stringify(I),JSON.stringify(_),N,g,H,b,JSON.stringify(x)])}const Qw={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function Jw(e){let{delta:n,disabled:l}=e;const i=Sf(n);return lr(r=>{if(l||!i||!r)return Qw;const c={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[qt.Backward]:r.x[qt.Backward]||c.x===-1,[qt.Forward]:r.x[qt.Forward]||c.x===1},y:{[qt.Backward]:r.y[qt.Backward]||c.y===-1,[qt.Forward]:r.y[qt.Forward]||c.y===1}}},[l,n,i])}function e_(e,n){const l=n!=null?e.get(n):void 0,i=l?l.node.current:null;return lr(r=>{var c;return n==null?null:(c=i??r)!=null?c:null},[i,n])}function t_(e,n){return S.useMemo(()=>e.reduce((l,i)=>{const{sensor:r}=i,c=r.activators.map(u=>({eventName:u.eventName,handler:n(u.handler,i)}));return[...l,...c]},[]),[e,n])}var Ki;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ki||(Ki={}));var Tf;(function(e){e.Optimized="optimized"})(Tf||(Tf={}));const Dv=new Map;function n_(e,n){let{dragging:l,dependencies:i,config:r}=n;const[c,u]=S.useState(null),{frequency:f,measure:p,strategy:g}=r,b=S.useRef(e),v=M(),x=Gi(v),_=S.useCallback(function(z){z===void 0&&(z=[]),!x.current&&u(I=>I===null?z:I.concat(z.filter(O=>!I.includes(O))))},[x]),N=S.useRef(null),w=lr(z=>{if(v&&!l)return Dv;if(!z||z===Dv||b.current!==e||c!=null){const I=new Map;for(let O of e){if(!O)continue;if(c&&c.length>0&&!c.includes(O.id)&&O.rect.current){I.set(O.id,O.rect.current);continue}const L=O.node.current,H=L?new Wf(p(L),L):null;O.rect.current=H,H&&I.set(O.id,H)}return I}return z},[e,c,l,v,p]);return S.useEffect(()=>{b.current=e},[e]),S.useEffect(()=>{v||_()},[l,v]),S.useEffect(()=>{c&&c.length>0&&u(null)},[JSON.stringify(c)]),S.useEffect(()=>{v||typeof f!="number"||N.current!==null||(N.current=setTimeout(()=>{_(),N.current=null},f))},[f,v,_,...i]),{droppableRects:w,measureDroppableContainers:_,measuringScheduled:c!=null};function M(){switch(g){case Ki.Always:return!1;case Ki.BeforeDragging:return l;default:return!l}}}function E0(e,n){return lr(l=>e?l||(typeof n=="function"?n(e):e):null,[n,e])}function a_(e,n){return E0(e,n)}function l_(e){let{callback:n,disabled:l}=e;const i=Kf(n),r=S.useMemo(()=>{if(l||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(i)},[i,l]);return S.useEffect(()=>()=>r?.disconnect(),[r]),r}function dc(e){let{callback:n,disabled:l}=e;const i=Kf(n),r=S.useMemo(()=>{if(l||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(i)},[l]);return S.useEffect(()=>()=>r?.disconnect(),[r]),r}function s_(e){return new Wf(sr(e),e)}function Cv(e,n,l){n===void 0&&(n=s_);const[i,r]=S.useState(null);function c(){r(p=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=p??l)!=null?g:null}const b=n(e);return JSON.stringify(p)===JSON.stringify(b)?p:b})}const u=l_({callback(p){if(e)for(const g of p){const{type:b,target:v}=g;if(b==="childList"&&v instanceof HTMLElement&&v.contains(e)){c();break}}}}),f=dc({callback:c});return ul(()=>{c(),e?(f?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),u?.disconnect())},[e]),i}function i_(e){const n=E0(e);return p0(e,n)}const Av=[];function r_(e){const n=S.useRef(e),l=lr(i=>e?i&&i!==Av&&e&&n.current&&e.parentNode===n.current.parentNode?i:uc(e):Av,[e]);return S.useEffect(()=>{n.current=e},[e]),l}function o_(e){const[n,l]=S.useState(null),i=S.useRef(e),r=S.useCallback(c=>{const u=$d(c.target);u&&l(f=>f?(f.set(u,_f(u)),new Map(f)):null)},[]);return S.useEffect(()=>{const c=i.current;if(e!==c){u(c);const f=e.map(p=>{const g=$d(p);return g?(g.addEventListener("scroll",r,{passive:!0}),[g,_f(g)]):null}).filter(p=>p!=null);l(f.length?new Map(f):null),i.current=e}return()=>{u(e),u(c)};function u(f){f.forEach(p=>{const g=$d(p);g?.removeEventListener("scroll",r)})}},[r,e]),S.useMemo(()=>e.length?n?Array.from(n.values()).reduce((c,u)=>Is(c,u),ta):w0(e):ta,[e,n])}function Rv(e,n){n===void 0&&(n=[]);const l=S.useRef(null);return S.useEffect(()=>{l.current=null},n),S.useEffect(()=>{const i=e!==ta;i&&!l.current&&(l.current=e),!i&&l.current&&(l.current=null)},[e]),l.current?Vi(e,l.current):ta}function c_(e){S.useEffect(()=>{if(!oc)return;const n=e.map(l=>{let{sensor:i}=l;return i.setup==null?void 0:i.setup()});return()=>{for(const l of n)l?.()}},e.map(n=>{let{sensor:l}=n;return l}))}function u_(e,n){return S.useMemo(()=>e.reduce((l,i)=>{let{eventName:r,handler:c}=i;return l[r]=u=>{c(u,n)},l},{}),[e,n])}function T0(e){return S.useMemo(()=>e?zw(e):null,[e])}const kv=[];function d_(e,n){n===void 0&&(n=sr);const[l]=e,i=T0(l?pn(l):null),[r,c]=S.useState(kv);function u(){c(()=>e.length?e.map(p=>x0(p)?i:new Wf(n(p),p)):kv)}const f=dc({callback:u});return ul(()=>{f?.disconnect(),u(),e.forEach(p=>f?.observe(p))},[e]),r}function f_(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return ar(n)?n:e}function h_(e){let{measure:n}=e;const[l,i]=S.useState(null),r=S.useCallback(g=>{for(const{target:b}of g)if(ar(b)){i(v=>{const x=n(b);return v?{...v,width:x.width,height:x.height}:x});break}},[n]),c=dc({callback:r}),u=S.useCallback(g=>{const b=f_(g);c?.disconnect(),b&&c?.observe(b),i(b?n(b):null)},[n,c]),[f,p]=$o(u);return S.useMemo(()=>({nodeRef:f,rect:l,setRef:p}),[l,f,p])}const m_=[{sensor:Jf,options:{}},{sensor:Xf,options:{}}],g_={current:{}},zo={draggable:{measure:Tv},droppable:{measure:Tv,strategy:Ki.WhileDragging,frequency:Tf.Optimized},dragOverlay:{measure:sr}};class Fi extends Map{get(n){var l;return n!=null&&(l=super.get(n))!=null?l:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:l}=n;return!l})}getNodeFor(n){var l,i;return(l=(i=this.get(n))==null?void 0:i.node.current)!=null?l:void 0}}const p_={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zo,measureDroppableContainers:Zo,windowRect:null,measuringScheduled:!1},v_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zo,draggableNodes:new Map,over:null,measureDroppableContainers:Zo},fc=S.createContext(v_),y_=S.createContext(p_);function b_(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fi}}}function x_(e,n){switch(n.type){case Pt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Pt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case Pt.DragEnd:case Pt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pt.RegisterDroppable:{const{element:l}=n,{id:i}=l,r=new Fi(e.droppable.containers);return r.set(i,l),{...e,droppable:{...e.droppable,containers:r}}}case Pt.SetDroppableDisabled:{const{id:l,key:i,disabled:r}=n,c=e.droppable.containers.get(l);if(!c||i!==c.key)return e;const u=new Fi(e.droppable.containers);return u.set(l,{...c,disabled:r}),{...e,droppable:{...e.droppable,containers:u}}}case Pt.UnregisterDroppable:{const{id:l,key:i}=n,r=e.droppable.containers.get(l);if(!r||i!==r.key)return e;const c=new Fi(e.droppable.containers);return c.delete(l),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function S_(e){let{disabled:n}=e;const{active:l,activatorEvent:i,draggableNodes:r}=S.useContext(fc),c=Sf(i),u=Sf(l?.id);return S.useEffect(()=>{if(!n&&!i&&c&&u!=null){if(!d0(c)||document.activeElement===c.target)return;const f=r.get(u);if(!f)return;const{activatorNode:p,node:g}=f;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const b of[p.current,g.current]){if(!b)continue;const v=fw(b);if(v){v.focus();break}}})}},[i,n,r,u,c]),null}function w_(e,n){let{transform:l,...i}=n;return e!=null&&e.length?e.reduce((r,c)=>c({transform:r,...i}),l):l}function __(e){return S.useMemo(()=>({draggable:{...zo.draggable,...e?.draggable},droppable:{...zo.droppable,...e?.droppable},dragOverlay:{...zo.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function E_(e){let{activeNode:n,measure:l,initialRect:i,config:r=!0}=e;const c=S.useRef(!1),{x:u,y:f}=typeof r=="boolean"?{x:r,y:r}:r;ul(()=>{if(!u&&!f||!n){c.current=!1;return}if(c.current||!i)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const b=l(g),v=p0(b,i);if(u||(v.x=0),f||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=v0(g);x&&x.scrollBy({top:v.y,left:v.x})}},[n,u,f,i,l])}const N0=S.createContext({...ta,scaleX:1,scaleY:1});var sl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(sl||(sl={}));const T_=S.memo(function(n){var l,i,r,c;let{id:u,accessibility:f,autoScroll:p=!0,children:g,sensors:b=m_,collisionDetection:v=Mw,measuring:x,modifiers:_,...N}=n;const w=S.useReducer(x_,void 0,b_),[M,z]=w,[I,O]=yw(),[L,H]=S.useState(sl.Uninitialized),A=L===sl.Initialized,{draggable:{active:j,nodes:F,translate:se},droppable:{containers:re}}=M,Q=j!=null?F.get(j):null,ce=S.useRef({initial:null,translated:null}),k=S.useMemo(()=>{var Te;return j!=null?{id:j,data:(Te=Q?.data)!=null?Te:g_,rect:ce}:null},[j,Q]),ue=S.useRef(null),[de,R]=S.useState(null),[G,le]=S.useState(null),B=Gi(N,Object.values(N)),W=cc("DndDescribedBy",u),T=S.useMemo(()=>re.getEnabled(),[re]),q=__(x),{droppableRects:J,measureDroppableContainers:ae,measuringScheduled:fe}=n_(T,{dragging:A,dependencies:[se.x,se.y],config:q.droppable}),ge=e_(F,j),be=S.useMemo(()=>G?wf(G):null,[G]),ke=en(),ze=a_(ge,q.draggable.measure);E_({activeNode:j!=null?F.get(j):null,config:ke.layoutShiftCompensation,initialRect:ze,measure:q.draggable.measure});const Ye=Cv(ge,q.draggable.measure,ze),kt=Cv(ge?ge.parentElement:null),Nt=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Yn=re.getNodeFor((l=Nt.current.over)==null?void 0:l.id),pt=h_({measure:q.dragOverlay.measure}),Kt=(i=pt.nodeRef.current)!=null?i:ge,Ke=A?(r=pt.rect)!=null?r:Ye:null,Qt=!!(pt.nodeRef.current&&pt.rect),oe=i_(Qt?null:Ye),Oe=T0(Kt?pn(Kt):null),V=r_(A?Yn??ge:null),ie=d_(V),_e=w_(_,{transform:{x:se.x-oe.x,y:se.y-oe.y,scaleX:1,scaleY:1},activatorEvent:G,active:k,activeNodeRect:Ye,containerNodeRect:kt,draggingNodeRect:Ke,over:Nt.current.over,overlayNodeRect:pt.rect,scrollableAncestors:V,scrollableAncestorRects:ie,windowRect:Oe}),Ee=be?Is(be,se):null,Ie=o_(V),sn=Rv(Ie),Jt=Rv(Ie,[Ye]),zt=Is(_e,sn),yn=Ke?Cw(Ke,_e):null,da=k&&yn?v({active:k,collisionRect:yn,droppableRects:J,droppableContainers:T,pointerCoordinates:Ee}):null,vl=g0(da,"id"),[jn,yl]=S.useState(null),aa=Qt?_e:Is(_e,Jt),He=jw(aa,(c=jn?.rect)!=null?c:null,Ye),rn=S.useRef(null),X=S.useCallback((Te,De)=>{let{sensor:Ge,options:it}=De;if(ue.current==null)return;const we=F.get(ue.current);if(!we)return;const Mt=Te.nativeEvent,_t=new Ge({active:ue.current,activeNode:we,event:Mt,options:it,context:Nt,onAbort(nt){if(!F.get(nt))return;const{onDragAbort:Wt}=B.current,tn={id:nt};Wt?.(tn),I({type:"onDragAbort",event:tn})},onPending(nt,Bt,Wt,tn){if(!F.get(nt))return;const{onDragPending:Cn}=B.current,on={id:nt,constraint:Bt,initialCoordinates:Wt,offset:tn};Cn?.(on),I({type:"onDragPending",event:on})},onStart(nt){const Bt=ue.current;if(Bt==null)return;const Wt=F.get(Bt);if(!Wt)return;const{onDragStart:tn}=B.current,Dn={activatorEvent:Mt,active:{id:Bt,data:Wt.data,rect:ce}};il.unstable_batchedUpdates(()=>{tn?.(Dn),H(sl.Initializing),z({type:Pt.DragStart,initialCoordinates:nt,active:Bt}),I({type:"onDragStart",event:Dn}),R(rn.current),le(Mt)})},onMove(nt){z({type:Pt.DragMove,coordinates:nt})},onEnd:xe(Pt.DragEnd),onCancel:xe(Pt.DragCancel)});rn.current=_t;function xe(nt){return async function(){const{active:Wt,collisions:tn,over:Dn,scrollAdjustedTranslate:Cn}=Nt.current;let on=null;if(Wt&&Cn){const{cancelDrop:Gn}=B.current;on={activatorEvent:Mt,active:Wt,collisions:tn,delta:Cn,over:Dn},nt===Pt.DragEnd&&typeof Gn=="function"&&await Promise.resolve(Gn(on))&&(nt=Pt.DragCancel)}ue.current=null,il.unstable_batchedUpdates(()=>{z({type:nt}),H(sl.Uninitialized),yl(null),R(null),le(null),rn.current=null;const Gn=nt===Pt.DragEnd?"onDragEnd":"onDragCancel";if(on){const An=B.current[Gn];An?.(on),I({type:Gn,event:on})}})}}},[F]),he=S.useCallback((Te,De)=>(Ge,it)=>{const we=Ge.nativeEvent,Mt=F.get(it);if(ue.current!==null||!Mt||we.dndKit||we.defaultPrevented)return;const _t={active:Mt};Te(Ge,De.options,_t)===!0&&(we.dndKit={capturedBy:De.sensor},ue.current=it,X(Ge,De))},[F,X]),Ae=t_(b,he);c_(b),ul(()=>{Ye&&L===sl.Initializing&&H(sl.Initialized)},[Ye,L]),S.useEffect(()=>{const{onDragMove:Te}=B.current,{active:De,activatorEvent:Ge,collisions:it,over:we}=Nt.current;if(!De||!Ge)return;const Mt={active:De,activatorEvent:Ge,collisions:it,delta:{x:zt.x,y:zt.y},over:we};il.unstable_batchedUpdates(()=>{Te?.(Mt),I({type:"onDragMove",event:Mt})})},[zt.x,zt.y]),S.useEffect(()=>{const{active:Te,activatorEvent:De,collisions:Ge,droppableContainers:it,scrollAdjustedTranslate:we}=Nt.current;if(!Te||ue.current==null||!De||!we)return;const{onDragOver:Mt}=B.current,_t=it.get(vl),xe=_t&&_t.rect.current?{id:_t.id,rect:_t.rect.current,data:_t.data,disabled:_t.disabled}:null,nt={active:Te,activatorEvent:De,collisions:Ge,delta:{x:we.x,y:we.y},over:xe};il.unstable_batchedUpdates(()=>{yl(xe),Mt?.(nt),I({type:"onDragOver",event:nt})})},[vl]),ul(()=>{Nt.current={activatorEvent:G,active:k,activeNode:ge,collisionRect:yn,collisions:da,droppableRects:J,draggableNodes:F,draggingNode:Kt,draggingNodeRect:Ke,droppableContainers:re,over:jn,scrollableAncestors:V,scrollAdjustedTranslate:zt},ce.current={initial:Ke,translated:yn}},[k,ge,da,yn,F,Kt,Ke,J,re,jn,V,zt]),Xw({...ke,delta:se,draggingRect:yn,pointerCoordinates:Ee,scrollableAncestors:V,scrollableAncestorRects:ie});const We=S.useMemo(()=>({active:k,activeNode:ge,activeNodeRect:Ye,activatorEvent:G,collisions:da,containerNodeRect:kt,dragOverlay:pt,draggableNodes:F,droppableContainers:re,droppableRects:J,over:jn,measureDroppableContainers:ae,scrollableAncestors:V,scrollableAncestorRects:ie,measuringConfiguration:q,measuringScheduled:fe,windowRect:Oe}),[k,ge,Ye,G,da,kt,pt,F,re,J,jn,ae,V,ie,q,fe,Oe]),wt=S.useMemo(()=>({activatorEvent:G,activators:Ae,active:k,activeNodeRect:Ye,ariaDescribedById:{draggable:W},dispatch:z,draggableNodes:F,over:jn,measureDroppableContainers:ae}),[G,Ae,k,Ye,z,W,F,jn,ae]);return Ut.createElement(f0.Provider,{value:O},Ut.createElement(fc.Provider,{value:wt},Ut.createElement(y_.Provider,{value:We},Ut.createElement(N0.Provider,{value:He},g)),Ut.createElement(S_,{disabled:f?.restoreFocus===!1})),Ut.createElement(Sw,{...f,hiddenTextDescribedById:W}));function en(){const Te=de?.autoScrollEnabled===!1,De=typeof p=="object"?p.enabled===!1:p===!1,Ge=A&&!Te&&!De;return typeof p=="object"?{...p,enabled:Ge}:{enabled:Ge}}}),N_=S.createContext(null),zv="button",M_="Draggable";function M0(e){let{id:n,data:l,disabled:i=!1,attributes:r}=e;const c=cc(M_),{activators:u,activatorEvent:f,active:p,activeNodeRect:g,ariaDescribedById:b,draggableNodes:v,over:x}=S.useContext(fc),{role:_=zv,roleDescription:N="draggable",tabIndex:w=0}=r??{},M=p?.id===n,z=S.useContext(M?N0:N_),[I,O]=$o(),[L,H]=$o(),A=u_(u,n),j=Gi(l);ul(()=>(v.set(n,{id:n,key:c,node:I,activatorNode:L,data:j}),()=>{const se=v.get(n);se&&se.key===c&&v.delete(n)}),[v,n]);const F=S.useMemo(()=>({role:_,tabIndex:w,"aria-disabled":i,"aria-pressed":M&&_===zv?!0:void 0,"aria-roledescription":N,"aria-describedby":b.draggable}),[i,_,w,M,N,b.draggable]);return{active:p,activatorEvent:f,activeNodeRect:g,attributes:F,isDragging:M,listeners:i?void 0:A,node:I,over:x,setNodeRef:O,setActivatorNodeRef:H,transform:z}}const j_="Droppable",D_={timeout:25};function j0(e){let{data:n,disabled:l=!1,id:i,resizeObserverConfig:r}=e;const c=cc(j_),{active:u,dispatch:f,over:p,measureDroppableContainers:g}=S.useContext(fc),b=S.useRef({disabled:l}),v=S.useRef(!1),x=S.useRef(null),_=S.useRef(null),{disabled:N,updateMeasurementsFor:w,timeout:M}={...D_,...r},z=Gi(w??i),I=S.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{g(Array.isArray(z.current)?z.current:[z.current]),_.current=null},M)},[M]),O=dc({callback:I,disabled:N||!u}),L=S.useCallback((F,se)=>{O&&(se&&(O.unobserve(se),v.current=!1),F&&O.observe(F))},[O]),[H,A]=$o(L),j=Gi(n);return S.useEffect(()=>{!O||!H.current||(O.disconnect(),v.current=!1,O.observe(H.current))},[H,O]),S.useEffect(()=>(f({type:Pt.RegisterDroppable,element:{id:i,key:c,disabled:l,node:H,rect:x,data:j}}),()=>f({type:Pt.UnregisterDroppable,key:c,id:i})),[i]),S.useEffect(()=>{l!==b.current.disabled&&(f({type:Pt.SetDroppableDisabled,id:i,key:c,disabled:l}),b.current.disabled=l)},[i,c,l,f]),{active:u,rect:x,isOver:p?.id===i,node:H,over:p,setNodeRef:A}}function Yo(e){if(!e)return!1;const n=e.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const C_=[$e.Down,$e.Right,$e.Up,$e.Left],A_=(e,n)=>{let{context:{active:l,collisionRect:i,droppableRects:r,droppableContainers:c,over:u,scrollableAncestors:f}}=n;if(C_.includes(e.code)){if(e.preventDefault(),!l||!i)return;const p=[];c.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=r.get(v.id);if(x)switch(e.code){case $e.Down:i.top<x.top&&p.push(v);break;case $e.Up:i.top>x.top&&p.push(v);break;case $e.Left:i.left>x.left&&p.push(v);break;case $e.Right:i.left<x.left&&p.push(v);break}});const g=Tw({collisionRect:i,droppableRects:r,droppableContainers:p});let b=g0(g,"id");if(b===u?.id&&g.length>1&&(b=g[1].id),b!=null){const v=c.get(l.id),x=c.get(b),_=x?r.get(x.id):null,N=x?.node.current;if(N&&_&&v&&x){const M=uc(N).some((A,j)=>f[j]!==A),z=D0(v,x),I=R_(v,x),O=M||!z?{x:0,y:0}:{x:I?i.width-_.width:0,y:I?i.height-_.height:0},L={x:_.left,y:_.top};return O.x&&O.y?L:Vi(L,O)}}}};function D0(e,n){return!Yo(e)||!Yo(n)?!1:e.data.current.sortable.containerId===n.data.current.sortable.containerId}function R_(e,n){return!Yo(e)||!Yo(n)||!D0(e,n)?!1:e.data.current.sortable.index<n.data.current.sortable.index}const Ov=e=>Symbol.iterator in e,Pv=e=>"entries"in e,Bv=(e,n)=>{const l=e instanceof Map?e:new Map(e.entries()),i=n instanceof Map?n:new Map(n.entries());if(l.size!==i.size)return!1;for(const[r,c]of l)if(!i.has(r)||!Object.is(c,i.get(r)))return!1;return!0},k_=(e,n)=>{const l=e[Symbol.iterator](),i=n[Symbol.iterator]();let r=l.next(),c=i.next();for(;!r.done&&!c.done;){if(!Object.is(r.value,c.value))return!1;r=l.next(),c=i.next()}return!!r.done&&!!c.done};function z_(e,n){return Object.is(e,n)?!0:typeof e!="object"||e===null||typeof n!="object"||n===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(n)?!1:Ov(e)&&Ov(n)?Pv(e)&&Pv(n)?Bv(e,n):k_(e,n):Bv({entries:()=>Object.entries(e)},{entries:()=>Object.entries(n)})}function O_(e){const n=Ut.useRef(void 0);return l=>{const i=e(l);return z_(n.current,i)?n.current:n.current=i}}const P_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,i)=>i?i.toUpperCase():l.toLowerCase()),Iv=e=>{const n=B_(e);return n.charAt(0).toUpperCase()+n.slice(1)},C0=(...e)=>e.filter((n,l,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===l).join(" ").trim(),I_=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var L_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q_=S.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:r="",children:c,iconNode:u,...f},p)=>S.createElement("svg",{ref:p,...L_,width:n,height:n,stroke:e,strokeWidth:i?Number(l)*24/Number(n):l,className:C0("lucide",r),...!c&&!I_(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,b])=>S.createElement(g,b)),...Array.isArray(c)?c:[c]]));const $t=(e,n)=>{const l=S.forwardRef(({className:i,...r},c)=>S.createElement(q_,{ref:c,iconNode:n,className:C0(`lucide-${P_(Iv(e))}`,`lucide-${e}`,i),...r}));return l.displayName=Iv(e),l};const U_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$_=$t("copy",U_);const H_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Z_=$t("external-link",H_);const F_=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Y_=$t("git-branch",F_);const G_=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],V_=$t("grip-vertical",G_);const K_=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],W_=$t("hammer",K_);const X_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eh=$t("link-2",X_);const Q_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],A0=$t("lock",Q_);const J_=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],eE=$t("pin",J_);const tE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nE=$t("plus",tE);const aE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lE=$t("search",aE);const sE=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],iE=$t("sliders-horizontal",sE);const rE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],oE=$t("sparkles",rE);const cE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],R0=$t("trash-2",cE);const uE=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],k0=$t("tree-pine",uE);const dE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fE=$t("triangle-alert",dE);const hE=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],mE=$t("undo-2",hE);const gE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pE=$t("upload",gE);const vE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yE=$t("x",vE),dl=["helmet","chestplate","leggings","boots","ring","bracelet","necklace","weapon"],tt=["helmet","chestplate","leggings","boots","ring1","ring2","bracelet","necklace","weapon"],ua=e=>e==="ring1"||e==="ring2"?"ring":e,Go=e=>{switch(e){case"ring1":return"Ring 1";case"ring2":return"Ring 2";default:return e.charAt(0).toUpperCase()+e.slice(1)}};function th(e){return e==="weapon"?"Weapon":e.charAt(0).toUpperCase()+e.slice(1)}const z0={spear:"Warrior",dagger:"Assassin",wand:"Mage",bow:"Archer",relik:"Shaman"};function Vo(e){return z0[e]??null}function bE(e,n){return e in z0?"weapon":dl.includes(e)?e:n==="weapon"?"weapon":e==="ring"?"ring":null}function O0(e,n){return!n||!e.classReq?!0:e.classReq===n}function xE(e,n){return e.level<=n}const SE=["hp","hpBonus","hprRaw","hprPct","mr","ms","ls","sdPct","sdRaw","mdPct","mdRaw","poison","spd","atkTier","averageDps","strReq","dexReq","intReq","defReq","agiReq","str","dex","int","def","agi","eDef","tDef","wDef","fDef","aDef","eDamPct","tDamPct","wDamPct","fDamPct","aDamPct","damPct","rDamPct","nDamPct","slots","lvl","spPct1","spRaw1","spPct2","spRaw2","spPct3","spRaw3","spPct4","spRaw4"];function je(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const n=Number(e);if(Number.isFinite(n))return n}return 0}function Nn(e){return typeof e=="string"?e:""}function wE(e){return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}function _E(e,n){const l=Nn(e).trim();if(!l)return Vo(n);switch(l.toLowerCase()){case"warrior":return"Warrior";case"assassin":return"Assassin";case"mage":return"Mage";case"archer":return"Archer";case"shaman":return"Shaman";default:return Vo(n)}}function EE(e){return{hp:je(e.hp),hpBonus:je(e.hpBonus),hprRaw:je(e.hprRaw),hprPct:je(e.hprPct),mr:je(e.mr),ms:je(e.ms),ls:je(e.ls),sdPct:je(e.sdPct),sdRaw:je(e.sdRaw),mdPct:je(e.mdPct),mdRaw:je(e.mdRaw),poison:je(e.poison),spd:je(e.spd),atkTier:je(e.atkTier),baseDps:je(e.averageDps),reqStr:je(e.strReq),reqDex:je(e.dexReq),reqInt:je(e.intReq),reqDef:je(e.defReq),reqAgi:je(e.agiReq),spStr:je(e.str),spDex:je(e.dex),spInt:je(e.int),spDef:je(e.def),spAgi:je(e.agi),eDef:je(e.eDef),tDef:je(e.tDef),wDef:je(e.wDef),fDef:je(e.fDef),aDef:je(e.aDef),eDamPct:je(e.eDamPct),tDamPct:je(e.tDamPct),wDamPct:je(e.wDamPct),fDamPct:je(e.fDamPct),aDamPct:je(e.aDamPct),damPct:je(e.damPct),rDamPct:je(e.rDamPct),nDamPct:je(e.nDamPct)}}function TE(e){const n={};for(const l of SE)n[l]=je(e[l]);return n.reqTotal=n.strReq+n.dexReq+n.intReq+n.defReq+n.agiReq,n.skillPointTotal=n.str+n.dex+n.int+n.def+n.agi,n.offenseScore=n.averageDps+n.sdPct*1.4+n.mdPct*1.15+n.sdRaw*.12+n.mdRaw*.12+(n.damPct+n.rDamPct+n.nDamPct)*.8+(n.eDamPct+n.tDamPct+n.wDamPct+n.fDamPct+n.aDamPct)*.5+n.atkTier*7+n.poison*.03,n.ehpProxy=n.hp+n.hpBonus+(n.eDef+n.tDef+n.wDef+n.fDef+n.aDef)*.45+n.hprRaw*1.2+n.hprPct*2.5,n.utilityScore=n.spd*1.8+n.mr*8+n.ms*7+n.ls*6,n.sumSpPct=n.spPct1+n.spPct2+n.spPct3+n.spPct4,n.sumSpRaw=n.spRaw1+n.spRaw2+n.spRaw3+n.spRaw4,n}function NE(e){if(typeof e.remapID<"u")return null;const n=Nn(e.type).toLowerCase(),l=Nn(e.category).toLowerCase(),i=bE(n,l);if(!i)return null;const r=Nn(e.displayName)||Nn(e.name),c=Nn(e.tier)||"Normal",u=je(e.lvl),f=wE(e.majorIds),p=EE(e),g=TE(e),b={baseDps:p.baseDps,offense:g.offenseScore,ehpProxy:g.ehpProxy,utility:g.utilityScore,skillPointTotal:g.skillPointTotal,reqTotal:g.reqTotal},v=[r,Nn(e.name),Nn(e.lore),n,c,l,Nn(e.classReq),...f];return{id:je(e.id),name:Nn(e.name),displayName:r,category:i,type:n,sourceCategory:l,tier:c,level:u,classReq:_E(e.classReq,n),majorIds:f,powderSlots:je(e.slots),atkSpd:Nn(e.atkSpd),restricted:Nn(e.restrict)!=="",deprecated:Nn(e.restrict).toUpperCase()==="DEPRECATED",numeric:p,numericIndex:g,searchText:v.filter(Boolean).join(" ").toLowerCase(),majorIdsText:f.join(" ").toLowerCase(),roughScoreFields:b,legacyRaw:e}}function ME(e,n,l){if(!Number.isFinite(l))return;const i=e[n];if(!i){e[n]={min:l,max:l};return}i.min=Math.min(i.min,l),i.max=Math.max(i.max,l)}function jE(e){const n=e.items.map(NE).filter(w=>w!==null);n.sort((w,M)=>w.displayName.localeCompare(M.displayName));const l=new Map,i=new Map,r=new Map,c=new Map(dl.map(w=>[w,[]])),u=new Set,f=new Set,p=new Set,g=new Set,b={},v=new Map;for(const w of n){l.set(w.id,w),i.set(w.displayName.toLowerCase(),w.id),r.has(w.type)||r.set(w.type,[]),r.get(w.type).push(w.id),c.get(w.category).push(w.id),u.add(w.tier),f.add(w.type),w.classReq&&p.add(w.classReq);for(const M of w.majorIds)M&&g.add(M);for(const[M,z]of Object.entries(w.numericIndex))ME(b,M,z)}const x=e.sets??{},_=new Map;for(const[w,M]of Object.entries(x)){const z=M?.bonuses;if(!Array.isArray(z))continue;const I=[];z.forEach((L,H)=>{L&&typeof L=="object"&&L.illegal&&I.push(H+1)}),I.length>0&&v.set(w,{illegalCounts:I});const O=M?.items;if(Array.isArray(O))for(const L of O)typeof L=="string"&&_.set(L.toLowerCase(),w)}const N=new Map;for(const[w,M]of _){const z=i.get(w);z!=null&&N.set(z,M)}return{version:String(e.version??"unknown"),items:n,itemsById:l,itemIdByName:i,itemsByType:r,itemsByCategory:c,facetsMeta:{categories:[...dl],types:[...f].sort(),tiers:[...u].sort(),classReqs:[...p].sort(),majorIds:[...g].sort(),numericRanges:b},setsMeta:v,itemSetName:N}}class DE{snapshotPromise=null;async getCatalog(){return this.snapshotPromise||(this.snapshotPromise=this.loadCatalog()),this.snapshotPromise}async getItemById(n){return(await this.getCatalog()).itemsById.get(n)}async loadCatalog(){const n=await this.fetchCompressPayload();return jE(n)}async fetchCompressPayload(){const n=["./compress.json","../compress.json","compress.json","/workbench/compress.json","/compress.json"];let l=null;const i=[];for(const r of n)try{const c=await fetch(r,{cache:"force-cache"});if(!c.ok)throw new Error(`Failed to fetch ${r}: ${c.status}`);const u=await c.json();if(!u?.items||!Array.isArray(u.items))throw new Error(`Invalid compress payload from ${r}`);return u}catch(c){l=c,i.push(c instanceof Error?c.message:`Failed to fetch ${r}`)}throw l instanceof Error?new Error(`Unable to load compress.json. Tried: ${n.join(", ")}. Last error: ${l.message}`):new Error(`Unable to load compress.json. Tried: ${n.join(", ")}. Failures: ${i.join(" | ")}`)}}const CE=new DE;function te(e,n,l){function i(f,p){if(f._zod||Object.defineProperty(f,"_zod",{value:{def:p,constr:u,traits:new Set},enumerable:!1}),f._zod.traits.has(e))return;f._zod.traits.add(e),n(f,p);const g=u.prototype,b=Object.keys(g);for(let v=0;v<b.length;v++){const x=b[v];x in f||(f[x]=g[x].bind(f))}}const r=l?.Parent??Object;class c extends r{}Object.defineProperty(c,"name",{value:e});function u(f){var p;const g=l?.Parent?new c:this;i(g,f),(p=g._zod).deferred??(p.deferred=[]);for(const b of g._zod.deferred)b();return g}return Object.defineProperty(u,"init",{value:i}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>l?.Parent&&f instanceof l.Parent?!0:f?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class Ls extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class P0 extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const B0={};function fl(e){return B0}function I0(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>n.indexOf(+i)===-1).map(([i,r])=>r)}function Nf(e,n){return typeof n=="bigint"?n.toString():n}function nh(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function ah(e){return e==null}function lh(e){const n=e.startsWith("^")?1:0,l=e.endsWith("$")?e.length-1:e.length;return e.slice(n,l)}function AE(e,n){const l=(e.toString().split(".")[1]||"").length,i=n.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const p=i.match(/\d?e-(\d?)/);p?.[1]&&(r=Number.parseInt(p[1]))}const c=l>r?l:r,u=Number.parseInt(e.toFixed(c).replace(".","")),f=Number.parseInt(n.toFixed(c).replace(".",""));return u%f/10**c}const Lv=Symbol("evaluating");function et(e,n,l){let i;Object.defineProperty(e,n,{get(){if(i!==Lv)return i===void 0&&(i=Lv,i=l()),i},set(r){Object.defineProperty(e,n,{value:r})},configurable:!0})}function $l(e,n,l){Object.defineProperty(e,n,{value:l,writable:!0,enumerable:!0,configurable:!0})}function gl(...e){const n={};for(const l of e){const i=Object.getOwnPropertyDescriptors(l);Object.assign(n,i)}return Object.defineProperties({},n)}function qv(e){return JSON.stringify(e)}function RE(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const L0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ko(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const kE=nh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Zs(e){if(Ko(e)===!1)return!1;const n=e.constructor;if(n===void 0||typeof n!="function")return!0;const l=n.prototype;return!(Ko(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function q0(e){return Zs(e)?{...e}:Array.isArray(e)?[...e]:e}const zE=new Set(["string","number","symbol"]);function hc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pl(e,n,l){const i=new e._zod.constr(n??e._zod.def);return(!n||l?.parent)&&(i._zod.parent=e),i}function ye(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function OE(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const PE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function BE(e,n){const l=e._zod.def,i=l.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const c=gl(e._zod.def,{get shape(){const u={};for(const f in n){if(!(f in l.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=l.shape[f])}return $l(this,"shape",u),u},checks:[]});return pl(e,c)}function IE(e,n){const l=e._zod.def,i=l.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const c=gl(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const f in n){if(!(f in l.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&delete u[f]}return $l(this,"shape",u),u},checks:[]});return pl(e,c)}function LE(e,n){if(!Zs(n))throw new Error("Invalid input to extend: expected a plain object");const l=e._zod.def.checks;if(l&&l.length>0){const c=e._zod.def.shape;for(const u in n)if(Object.getOwnPropertyDescriptor(c,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=gl(e._zod.def,{get shape(){const c={...e._zod.def.shape,...n};return $l(this,"shape",c),c}});return pl(e,r)}function qE(e,n){if(!Zs(n))throw new Error("Invalid input to safeExtend: expected a plain object");const l=gl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n};return $l(this,"shape",i),i}});return pl(e,l)}function UE(e,n){const l=gl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return $l(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return pl(e,l)}function $E(e,n,l){const r=n._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=gl(n._zod.def,{get shape(){const f=n._zod.def.shape,p={...f};if(l)for(const g in l){if(!(g in f))throw new Error(`Unrecognized key: "${g}"`);l[g]&&(p[g]=e?new e({type:"optional",innerType:f[g]}):f[g])}else for(const g in f)p[g]=e?new e({type:"optional",innerType:f[g]}):f[g];return $l(this,"shape",p),p},checks:[]});return pl(n,u)}function HE(e,n,l){const i=gl(n._zod.def,{get shape(){const r=n._zod.def.shape,c={...r};if(l)for(const u in l){if(!(u in c))throw new Error(`Unrecognized key: "${u}"`);l[u]&&(c[u]=new e({type:"nonoptional",innerType:r[u]}))}else for(const u in r)c[u]=new e({type:"nonoptional",innerType:r[u]});return $l(this,"shape",c),c}});return pl(n,i)}function Os(e,n=0){if(e.aborted===!0)return!0;for(let l=n;l<e.issues.length;l++)if(e.issues[l]?.continue!==!0)return!0;return!1}function Ps(e,n){return n.map(l=>{var i;return(i=l).path??(i.path=[]),l.path.unshift(e),l})}function xo(e){return typeof e=="string"?e:e?.message}function hl(e,n,l){const i={...e,path:e.path??[]};if(!e.message){const r=xo(e.inst?._zod.def?.error?.(e))??xo(n?.error?.(e))??xo(l.customError?.(e))??xo(l.localeError?.(e))??"Invalid input";i.message=r}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}function sh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Wi(...e){const[n,l,i]=e;return typeof n=="string"?{message:n,code:"custom",input:l,inst:i}:{...n}}const U0=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Nf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$0=te("$ZodError",U0),H0=te("$ZodError",U0,{Parent:Error});function ZE(e,n=l=>l.message){const l={},i=[];for(const r of e.issues)r.path.length>0?(l[r.path[0]]=l[r.path[0]]||[],l[r.path[0]].push(n(r))):i.push(n(r));return{formErrors:i,fieldErrors:l}}function FE(e,n=l=>l.message){const l={_errors:[]},i=r=>{for(const c of r.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>i({issues:u}));else if(c.code==="invalid_key")i({issues:c.issues});else if(c.code==="invalid_element")i({issues:c.issues});else if(c.path.length===0)l._errors.push(n(c));else{let u=l,f=0;for(;f<c.path.length;){const p=c.path[f];f===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(c))):u[p]=u[p]||{_errors:[]},u=u[p],f++}}};return i(e),l}const ih=e=>(n,l,i,r)=>{const c=i?Object.assign(i,{async:!1}):{async:!1},u=n._zod.run({value:l,issues:[]},c);if(u instanceof Promise)throw new Ls;if(u.issues.length){const f=new(r?.Err??e)(u.issues.map(p=>hl(p,c,fl())));throw L0(f,r?.callee),f}return u.value},rh=e=>async(n,l,i,r)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:l,issues:[]},c);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(r?.Err??e)(u.issues.map(p=>hl(p,c,fl())));throw L0(f,r?.callee),f}return u.value},mc=e=>(n,l,i)=>{const r=i?{...i,async:!1}:{async:!1},c=n._zod.run({value:l,issues:[]},r);if(c instanceof Promise)throw new Ls;return c.issues.length?{success:!1,error:new(e??$0)(c.issues.map(u=>hl(u,r,fl())))}:{success:!0,data:c.value}},YE=mc(H0),gc=e=>async(n,l,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let c=n._zod.run({value:l,issues:[]},r);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(u=>hl(u,r,fl())))}:{success:!0,data:c.value}},GE=gc(H0),VE=e=>(n,l,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ih(e)(n,l,r)},KE=e=>(n,l,i)=>ih(e)(n,l,i),WE=e=>async(n,l,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return rh(e)(n,l,r)},XE=e=>async(n,l,i)=>rh(e)(n,l,i),QE=e=>(n,l,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return mc(e)(n,l,r)},JE=e=>(n,l,i)=>mc(e)(n,l,i),e2=e=>async(n,l,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return gc(e)(n,l,r)},t2=e=>async(n,l,i)=>gc(e)(n,l,i),n2=/^[cC][^\s-]{8,}$/,a2=/^[0-9a-z]+$/,l2=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,s2=/^[0-9a-vA-V]{20}$/,i2=/^[A-Za-z0-9]{27}$/,r2=/^[a-zA-Z0-9_-]{21}$/,o2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,c2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Uv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,u2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,d2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function f2(){return new RegExp(d2,"u")}const h2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,m2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,g2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,p2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Z0=/^[A-Za-z0-9_-]*$/,y2=/^\+[1-9]\d{6,14}$/,F0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",b2=new RegExp(`^${F0}$`);function Y0(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function x2(e){return new RegExp(`^${Y0(e)}$`)}function S2(e){const n=Y0({precision:e.precision}),l=["Z"];e.local&&l.push(""),e.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${l.join("|")})`;return new RegExp(`^${F0}T(?:${i})$`)}const w2=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},_2=/^-?\d+$/,G0=/^-?\d+(?:\.\d+)?$/,E2=/^(?:true|false)$/i,T2=/^[^A-Z]*$/,N2=/^[^a-z]*$/,vn=te("$ZodCheck",(e,n)=>{var l;e._zod??(e._zod={}),e._zod.def=n,(l=e._zod).onattach??(l.onattach=[])}),V0={number:"number",bigint:"bigint",object:"date"},K0=te("$ZodCheckLessThan",(e,n)=>{vn.init(e,n);const l=V0[typeof n.value];e._zod.onattach.push(i=>{const r=i._zod.bag,c=(n.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<c&&(n.inclusive?r.maximum=n.value:r.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:l,code:"too_big",maximum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),W0=te("$ZodCheckGreaterThan",(e,n)=>{vn.init(e,n);const l=V0[typeof n.value];e._zod.onattach.push(i=>{const r=i._zod.bag,c=(n.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>c&&(n.inclusive?r.minimum=n.value:r.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:l,code:"too_small",minimum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),M2=te("$ZodCheckMultipleOf",(e,n)=>{vn.init(e,n),e._zod.onattach.push(l=>{var i;(i=l._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=l=>{if(typeof l.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%n.value===BigInt(0):AE(l.value,n.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:n.value,input:l.value,inst:e,continue:!n.abort})}}),j2=te("$ZodCheckNumberFormat",(e,n)=>{vn.init(e,n),n.format=n.format||"float64";const l=n.format?.includes("int"),i=l?"int":"number",[r,c]=PE[n.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=n.format,f.minimum=r,f.maximum=c,l&&(f.pattern=_2)}),e._zod.check=u=>{const f=u.value;if(l){if(!Number.isInteger(f)){u.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!n.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!n.abort});return}}f<r&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!n.abort}),f>c&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:c,inclusive:!0,inst:e,continue:!n.abort})}}),D2=te("$ZodCheckMaxLength",(e,n)=>{var l;vn.init(e,n),(l=e._zod.def).when??(l.when=i=>{const r=i.value;return!ah(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<r&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=n.maximum)return;const u=sh(r);i.issues.push({origin:u,code:"too_big",maximum:n.maximum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),C2=te("$ZodCheckMinLength",(e,n)=>{var l;vn.init(e,n),(l=e._zod.def).when??(l.when=i=>{const r=i.value;return!ah(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>r&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=n.minimum)return;const u=sh(r);i.issues.push({origin:u,code:"too_small",minimum:n.minimum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),A2=te("$ZodCheckLengthEquals",(e,n)=>{var l;vn.init(e,n),(l=e._zod.def).when??(l.when=i=>{const r=i.value;return!ah(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=n.length,r.maximum=n.length,r.length=n.length}),e._zod.check=i=>{const r=i.value,c=r.length;if(c===n.length)return;const u=sh(r),f=c>n.length;i.issues.push({origin:u,...f?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),pc=te("$ZodCheckStringFormat",(e,n)=>{var l,i;vn.init(e,n),e._zod.onattach.push(r=>{const c=r._zod.bag;c.format=n.format,n.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(n.pattern))}),n.pattern?(l=e._zod).check??(l.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:n.format,input:r.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),R2=te("$ZodCheckRegex",(e,n)=>{pc.init(e,n),e._zod.check=l=>{n.pattern.lastIndex=0,!n.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),k2=te("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=T2),pc.init(e,n)}),z2=te("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=N2),pc.init(e,n)}),O2=te("$ZodCheckIncludes",(e,n)=>{vn.init(e,n);const l=hc(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${l}`:l);n.pattern=i,e._zod.onattach.push(r=>{const c=r._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(i)}),e._zod.check=r=>{r.value.includes(n.includes,n.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:r.value,inst:e,continue:!n.abort})}}),P2=te("$ZodCheckStartsWith",(e,n)=>{vn.init(e,n);const l=new RegExp(`^${hc(n.prefix)}.*`);n.pattern??(n.pattern=l),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(l)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),B2=te("$ZodCheckEndsWith",(e,n)=>{vn.init(e,n);const l=new RegExp(`.*${hc(n.suffix)}$`);n.pattern??(n.pattern=l),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(l)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),I2=te("$ZodCheckOverwrite",(e,n)=>{vn.init(e,n),e._zod.check=l=>{l.value=n.tx(l.value)}});class L2{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(u=>u),r=Math.min(...i.map(u=>u.length-u.trimStart().length)),c=i.map(u=>u.slice(r)).map(u=>" ".repeat(this.indent*2)+u);for(const u of c)this.content.push(u)}compile(){const n=Function,l=this?.args,r=[...(this?.content??[""]).map(c=>`  ${c}`)];return new n(...l,r.join(`
`))}}const q2={major:4,minor:3,patch:6},xt=te("$ZodType",(e,n)=>{var l;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=q2;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const c of r._zod.onattach)c(e);if(i.length===0)(l=e._zod).deferred??(l.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const r=(u,f,p)=>{let g=Os(u),b;for(const v of f){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(g)continue;const x=u.issues.length,_=v._zod.check(u);if(_ instanceof Promise&&p?.async===!1)throw new Ls;if(b||_ instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await _,u.issues.length!==x&&(g||(g=Os(u,x)))});else{if(u.issues.length===x)continue;g||(g=Os(u,x))}}return b?b.then(()=>u):u},c=(u,f,p)=>{if(Os(u))return u.aborted=!0,u;const g=r(f,i,p);if(g instanceof Promise){if(p.async===!1)throw new Ls;return g.then(b=>e._zod.parse(b,p))}return e._zod.parse(g,p)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(b=>c(b,u,f)):c(g,u,f)}const p=e._zod.parse(u,f);if(p instanceof Promise){if(f.async===!1)throw new Ls;return p.then(g=>r(g,i,f))}return r(p,i,f)}}et(e,"~standard",()=>({validate:r=>{try{const c=YE(e,r);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return GE(e,r).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),oh=te("$ZodString",(e,n)=>{xt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??w2(e._zod.bag),e._zod.parse=(l,i)=>{if(n.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:e}),l}}),mt=te("$ZodStringFormat",(e,n)=>{pc.init(e,n),oh.init(e,n)}),U2=te("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=c2),mt.init(e,n)}),$2=te("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Uv(i))}else n.pattern??(n.pattern=Uv());mt.init(e,n)}),H2=te("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=u2),mt.init(e,n)}),Z2=te("$ZodURL",(e,n)=>{mt.init(e,n),e._zod.check=l=>{try{const i=l.value.trim(),r=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(r.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:l.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:l.value,inst:e,continue:!n.abort})),n.normalize?l.value=r.href:l.value=i;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:e,continue:!n.abort})}}}),F2=te("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=f2()),mt.init(e,n)}),Y2=te("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=r2),mt.init(e,n)}),G2=te("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=n2),mt.init(e,n)}),V2=te("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=a2),mt.init(e,n)}),K2=te("$ZodULID",(e,n)=>{n.pattern??(n.pattern=l2),mt.init(e,n)}),W2=te("$ZodXID",(e,n)=>{n.pattern??(n.pattern=s2),mt.init(e,n)}),X2=te("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=i2),mt.init(e,n)}),Q2=te("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=S2(n)),mt.init(e,n)}),J2=te("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=b2),mt.init(e,n)}),eT=te("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=x2(n)),mt.init(e,n)}),tT=te("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=o2),mt.init(e,n)}),nT=te("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=h2),mt.init(e,n),e._zod.bag.format="ipv4"}),aT=te("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=m2),mt.init(e,n),e._zod.bag.format="ipv6",e._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:e,continue:!n.abort})}}}),lT=te("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=g2),mt.init(e,n)}),sT=te("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=p2),mt.init(e,n),e._zod.check=l=>{const i=l.value.split("/");try{if(i.length!==2)throw new Error;const[r,c]=i;if(!c)throw new Error;const u=Number(c);if(`${u}`!==c)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${r}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:e,continue:!n.abort})}}});function X0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const iT=te("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=v2),mt.init(e,n),e._zod.bag.contentEncoding="base64",e._zod.check=l=>{X0(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:e,continue:!n.abort})}});function rT(e){if(!Z0.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),l=n.padEnd(Math.ceil(n.length/4)*4,"=");return X0(l)}const oT=te("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=Z0),mt.init(e,n),e._zod.bag.contentEncoding="base64url",e._zod.check=l=>{rT(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:e,continue:!n.abort})}}),cT=te("$ZodE164",(e,n)=>{n.pattern??(n.pattern=y2),mt.init(e,n)});function uT(e,n=null){try{const l=e.split(".");if(l.length!==3)return!1;const[i]=l;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||n&&(!("alg"in r)||r.alg!==n))}catch{return!1}}const dT=te("$ZodJWT",(e,n)=>{mt.init(e,n),e._zod.check=l=>{uT(l.value,n.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:e,continue:!n.abort})}}),Q0=te("$ZodNumber",(e,n)=>{xt.init(e,n),e._zod.pattern=e._zod.bag.pattern??G0,e._zod.parse=(l,i)=>{if(n.coerce)try{l.value=Number(l.value)}catch{}const r=l.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return l;const c=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...c?{received:c}:{}}),l}}),fT=te("$ZodNumberFormat",(e,n)=>{j2.init(e,n),Q0.init(e,n)}),hT=te("$ZodBoolean",(e,n)=>{xt.init(e,n),e._zod.pattern=E2,e._zod.parse=(l,i)=>{if(n.coerce)try{l.value=!!l.value}catch{}const r=l.value;return typeof r=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),l}}),mT=te("$ZodUnknown",(e,n)=>{xt.init(e,n),e._zod.parse=l=>l}),gT=te("$ZodNever",(e,n)=>{xt.init(e,n),e._zod.parse=(l,i)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:e}),l)});function $v(e,n,l){e.issues.length&&n.issues.push(...Ps(l,e.issues)),n.value[l]=e.value}const pT=te("$ZodArray",(e,n)=>{xt.init(e,n),e._zod.parse=(l,i)=>{const r=l.value;if(!Array.isArray(r))return l.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),l;l.value=Array(r.length);const c=[];for(let u=0;u<r.length;u++){const f=r[u],p=n.element._zod.run({value:f,issues:[]},i);p instanceof Promise?c.push(p.then(g=>$v(g,l,u))):$v(p,l,u)}return c.length?Promise.all(c).then(()=>l):l}});function Wo(e,n,l,i,r){if(e.issues.length){if(r&&!(l in i))return;n.issues.push(...Ps(l,e.issues))}e.value===void 0?l in i&&(n.value[l]=void 0):n.value[l]=e.value}function J0(e){const n=Object.keys(e.shape);for(const i of n)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const l=OE(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(l)}}function eb(e,n,l,i,r,c){const u=[],f=r.keySet,p=r.catchall._zod,g=p.def.type,b=p.optout==="optional";for(const v in n){if(f.has(v))continue;if(g==="never"){u.push(v);continue}const x=p.run({value:n[v],issues:[]},i);x instanceof Promise?e.push(x.then(_=>Wo(_,l,v,n,b))):Wo(x,l,v,n,b)}return u.length&&l.issues.push({code:"unrecognized_keys",keys:u,input:n,inst:c}),e.length?Promise.all(e).then(()=>l):l}const vT=te("$ZodObject",(e,n)=>{if(xt.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const f=n.shape;Object.defineProperty(n,"shape",{get:()=>{const p={...f};return Object.defineProperty(n,"shape",{value:p}),p}})}const i=nh(()=>J0(n));et(e._zod,"propValues",()=>{const f=n.shape,p={};for(const g in f){const b=f[g]._zod;if(b.values){p[g]??(p[g]=new Set);for(const v of b.values)p[g].add(v)}}return p});const r=Ko,c=n.catchall;let u;e._zod.parse=(f,p)=>{u??(u=i.value);const g=f.value;if(!r(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f;f.value={};const b=[],v=u.shape;for(const x of u.keys){const _=v[x],N=_._zod.optout==="optional",w=_._zod.run({value:g[x],issues:[]},p);w instanceof Promise?b.push(w.then(M=>Wo(M,f,x,g,N))):Wo(w,f,x,g,N)}return c?eb(b,g,f,p,i.value,e):b.length?Promise.all(b).then(()=>f):f}}),yT=te("$ZodObjectJIT",(e,n)=>{vT.init(e,n);const l=e._zod.parse,i=nh(()=>J0(n)),r=x=>{const _=new L2(["shape","payload","ctx"]),N=i.value,w=O=>{const L=qv(O);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};_.write("const input = payload.value;");const M=Object.create(null);let z=0;for(const O of N.keys)M[O]=`key_${z++}`;_.write("const newResult = {};");for(const O of N.keys){const L=M[O],H=qv(O),j=x[O]?._zod?.optout==="optional";_.write(`const ${L} = ${w(O)};`),j?_.write(`
        if (${L}.issues.length) {
          if (${H} in input) {
            payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${H}, ...iss.path] : [${H}]
            })));
          }
        }
        
        if (${L}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${L}.value;
        }
        
      `):_.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        if (${L}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${L}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const I=_.compile();return(O,L)=>I(x,O,L)};let c;const u=Ko,f=!B0.jitless,g=f&&kE.value,b=n.catchall;let v;e._zod.parse=(x,_)=>{v??(v=i.value);const N=x.value;return u(N)?f&&g&&_?.async===!1&&_.jitless!==!0?(c||(c=r(n.shape)),x=c(x,_),b?eb([],N,x,_,v,e):x):l(x,_):(x.issues.push({expected:"object",code:"invalid_type",input:N,inst:e}),x)}});function Hv(e,n,l,i){for(const c of e)if(c.issues.length===0)return n.value=c.value,n;const r=e.filter(c=>!Os(c));return r.length===1?(n.value=r[0].value,r[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:l,errors:e.map(c=>c.issues.map(u=>hl(u,i,fl())))}),n)}const bT=te("$ZodUnion",(e,n)=>{xt.init(e,n),et(e._zod,"optin",()=>n.options.some(r=>r._zod.optin==="optional")?"optional":void 0),et(e._zod,"optout",()=>n.options.some(r=>r._zod.optout==="optional")?"optional":void 0),et(e._zod,"values",()=>{if(n.options.every(r=>r._zod.values))return new Set(n.options.flatMap(r=>Array.from(r._zod.values)))}),et(e._zod,"pattern",()=>{if(n.options.every(r=>r._zod.pattern)){const r=n.options.map(c=>c._zod.pattern);return new RegExp(`^(${r.map(c=>lh(c.source)).join("|")})$`)}});const l=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(r,c)=>{if(l)return i(r,c);let u=!1;const f=[];for(const p of n.options){const g=p._zod.run({value:r.value,issues:[]},c);if(g instanceof Promise)f.push(g),u=!0;else{if(g.issues.length===0)return g;f.push(g)}}return u?Promise.all(f).then(p=>Hv(p,r,e,c)):Hv(f,r,e,c)}}),xT=te("$ZodIntersection",(e,n)=>{xt.init(e,n),e._zod.parse=(l,i)=>{const r=l.value,c=n.left._zod.run({value:r,issues:[]},i),u=n.right._zod.run({value:r,issues:[]},i);return c instanceof Promise||u instanceof Promise?Promise.all([c,u]).then(([p,g])=>Zv(l,p,g)):Zv(l,c,u)}});function Mf(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Zs(e)&&Zs(n)){const l=Object.keys(n),i=Object.keys(e).filter(c=>l.indexOf(c)!==-1),r={...e,...n};for(const c of i){const u=Mf(e[c],n[c]);if(!u.valid)return{valid:!1,mergeErrorPath:[c,...u.mergeErrorPath]};r[c]=u.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let i=0;i<e.length;i++){const r=e[i],c=n[i],u=Mf(r,c);if(!u.valid)return{valid:!1,mergeErrorPath:[i,...u.mergeErrorPath]};l.push(u.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Zv(e,n,l){const i=new Map;let r;for(const f of n.issues)if(f.code==="unrecognized_keys"){r??(r=f);for(const p of f.keys)i.has(p)||i.set(p,{}),i.get(p).l=!0}else e.issues.push(f);for(const f of l.issues)if(f.code==="unrecognized_keys")for(const p of f.keys)i.has(p)||i.set(p,{}),i.get(p).r=!0;else e.issues.push(f);const c=[...i].filter(([,f])=>f.l&&f.r).map(([f])=>f);if(c.length&&r&&e.issues.push({...r,keys:c}),Os(e))return e;const u=Mf(n.value,l.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const ST=te("$ZodRecord",(e,n)=>{xt.init(e,n),e._zod.parse=(l,i)=>{const r=l.value;if(!Zs(r))return l.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),l;const c=[],u=n.keyType._zod.values;if(u){l.value={};const f=new Set;for(const g of u)if(typeof g=="string"||typeof g=="number"||typeof g=="symbol"){f.add(typeof g=="number"?g.toString():g);const b=n.valueType._zod.run({value:r[g],issues:[]},i);b instanceof Promise?c.push(b.then(v=>{v.issues.length&&l.issues.push(...Ps(g,v.issues)),l.value[g]=v.value})):(b.issues.length&&l.issues.push(...Ps(g,b.issues)),l.value[g]=b.value)}let p;for(const g in r)f.has(g)||(p=p??[],p.push(g));p&&p.length>0&&l.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:p})}else{l.value={};for(const f of Reflect.ownKeys(r)){if(f==="__proto__")continue;let p=n.keyType._zod.run({value:f,issues:[]},i);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof f=="string"&&G0.test(f)&&p.issues.length){const v=n.keyType._zod.run({value:Number(f),issues:[]},i);if(v instanceof Promise)throw new Error("Async schemas not supported in object keys currently");v.issues.length===0&&(p=v)}if(p.issues.length){n.mode==="loose"?l.value[f]=r[f]:l.issues.push({code:"invalid_key",origin:"record",issues:p.issues.map(v=>hl(v,i,fl())),input:f,path:[f],inst:e});continue}const b=n.valueType._zod.run({value:r[f],issues:[]},i);b instanceof Promise?c.push(b.then(v=>{v.issues.length&&l.issues.push(...Ps(f,v.issues)),l.value[p.value]=v.value})):(b.issues.length&&l.issues.push(...Ps(f,b.issues)),l.value[p.value]=b.value)}}return c.length?Promise.all(c).then(()=>l):l}}),wT=te("$ZodEnum",(e,n)=>{xt.init(e,n);const l=I0(n.entries),i=new Set(l);e._zod.values=i,e._zod.pattern=new RegExp(`^(${l.filter(r=>zE.has(typeof r)).map(r=>typeof r=="string"?hc(r):r.toString()).join("|")})$`),e._zod.parse=(r,c)=>{const u=r.value;return i.has(u)||r.issues.push({code:"invalid_value",values:l,input:u,inst:e}),r}}),_T=te("$ZodTransform",(e,n)=>{xt.init(e,n),e._zod.parse=(l,i)=>{if(i.direction==="backward")throw new P0(e.constructor.name);const r=n.transform(l.value,l);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(u=>(l.value=u,l));if(r instanceof Promise)throw new Ls;return l.value=r,l}});function Fv(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const tb=te("$ZodOptional",(e,n)=>{xt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",et(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),et(e._zod,"pattern",()=>{const l=n.innerType._zod.pattern;return l?new RegExp(`^(${lh(l.source)})?$`):void 0}),e._zod.parse=(l,i)=>{if(n.innerType._zod.optin==="optional"){const r=n.innerType._zod.run(l,i);return r instanceof Promise?r.then(c=>Fv(c,l.value)):Fv(r,l.value)}return l.value===void 0?l:n.innerType._zod.run(l,i)}}),ET=te("$ZodExactOptional",(e,n)=>{tb.init(e,n),et(e._zod,"values",()=>n.innerType._zod.values),et(e._zod,"pattern",()=>n.innerType._zod.pattern),e._zod.parse=(l,i)=>n.innerType._zod.run(l,i)}),TT=te("$ZodNullable",(e,n)=>{xt.init(e,n),et(e._zod,"optin",()=>n.innerType._zod.optin),et(e._zod,"optout",()=>n.innerType._zod.optout),et(e._zod,"pattern",()=>{const l=n.innerType._zod.pattern;return l?new RegExp(`^(${lh(l.source)}|null)$`):void 0}),et(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(l,i)=>l.value===null?l:n.innerType._zod.run(l,i)}),NT=te("$ZodDefault",(e,n)=>{xt.init(e,n),e._zod.optin="optional",et(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,i)=>{if(i.direction==="backward")return n.innerType._zod.run(l,i);if(l.value===void 0)return l.value=n.defaultValue,l;const r=n.innerType._zod.run(l,i);return r instanceof Promise?r.then(c=>Yv(c,n)):Yv(r,n)}});function Yv(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const MT=te("$ZodPrefault",(e,n)=>{xt.init(e,n),e._zod.optin="optional",et(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,i)=>(i.direction==="backward"||l.value===void 0&&(l.value=n.defaultValue),n.innerType._zod.run(l,i))}),jT=te("$ZodNonOptional",(e,n)=>{xt.init(e,n),et(e._zod,"values",()=>{const l=n.innerType._zod.values;return l?new Set([...l].filter(i=>i!==void 0)):void 0}),e._zod.parse=(l,i)=>{const r=n.innerType._zod.run(l,i);return r instanceof Promise?r.then(c=>Gv(c,e)):Gv(r,e)}});function Gv(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const DT=te("$ZodCatch",(e,n)=>{xt.init(e,n),et(e._zod,"optin",()=>n.innerType._zod.optin),et(e._zod,"optout",()=>n.innerType._zod.optout),et(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(l,i)=>{if(i.direction==="backward")return n.innerType._zod.run(l,i);const r=n.innerType._zod.run(l,i);return r instanceof Promise?r.then(c=>(l.value=c.value,c.issues.length&&(l.value=n.catchValue({...l,error:{issues:c.issues.map(u=>hl(u,i,fl()))},input:l.value}),l.issues=[]),l)):(l.value=r.value,r.issues.length&&(l.value=n.catchValue({...l,error:{issues:r.issues.map(c=>hl(c,i,fl()))},input:l.value}),l.issues=[]),l)}}),CT=te("$ZodPipe",(e,n)=>{xt.init(e,n),et(e._zod,"values",()=>n.in._zod.values),et(e._zod,"optin",()=>n.in._zod.optin),et(e._zod,"optout",()=>n.out._zod.optout),et(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(l,i)=>{if(i.direction==="backward"){const c=n.out._zod.run(l,i);return c instanceof Promise?c.then(u=>So(u,n.in,i)):So(c,n.in,i)}const r=n.in._zod.run(l,i);return r instanceof Promise?r.then(c=>So(c,n.out,i)):So(r,n.out,i)}});function So(e,n,l){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},l)}const AT=te("$ZodReadonly",(e,n)=>{xt.init(e,n),et(e._zod,"propValues",()=>n.innerType._zod.propValues),et(e._zod,"values",()=>n.innerType._zod.values),et(e._zod,"optin",()=>n.innerType?._zod?.optin),et(e._zod,"optout",()=>n.innerType?._zod?.optout),e._zod.parse=(l,i)=>{if(i.direction==="backward")return n.innerType._zod.run(l,i);const r=n.innerType._zod.run(l,i);return r instanceof Promise?r.then(Vv):Vv(r)}});function Vv(e){return e.value=Object.freeze(e.value),e}const RT=te("$ZodCustom",(e,n)=>{vn.init(e,n),xt.init(e,n),e._zod.parse=(l,i)=>l,e._zod.check=l=>{const i=l.value,r=n.fn(i);if(r instanceof Promise)return r.then(c=>Kv(c,l,i,e));Kv(r,l,i,e)}});function Kv(e,n,l,i){if(!e){const r={code:"custom",input:l,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),n.issues.push(Wi(r))}}var Wv;class kT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...l){const i=l[0];return this._map.set(n,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,n),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const l=this._map.get(n);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(n),this}get(n){const l=n._zod.parent;if(l){const i={...this.get(l)??{}};delete i.id;const r={...i,...this._map.get(n)};return Object.keys(r).length?r:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function zT(){return new kT}(Wv=globalThis).__zod_globalRegistry??(Wv.__zod_globalRegistry=zT());const $i=globalThis.__zod_globalRegistry;function OT(e,n){return new e({type:"string",...ye(n)})}function PT(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ye(n)})}function Xv(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ye(n)})}function BT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ye(n)})}function IT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ye(n)})}function LT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ye(n)})}function qT(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ye(n)})}function UT(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ye(n)})}function $T(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ye(n)})}function HT(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ye(n)})}function ZT(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ye(n)})}function FT(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ye(n)})}function YT(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ye(n)})}function GT(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ye(n)})}function VT(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ye(n)})}function KT(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ye(n)})}function WT(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ye(n)})}function XT(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ye(n)})}function QT(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ye(n)})}function JT(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ye(n)})}function eN(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ye(n)})}function tN(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ye(n)})}function nN(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ye(n)})}function aN(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ye(n)})}function lN(e,n){return new e({type:"string",format:"date",check:"string_format",...ye(n)})}function sN(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...ye(n)})}function iN(e,n){return new e({type:"string",format:"duration",check:"string_format",...ye(n)})}function rN(e,n){return new e({type:"number",checks:[],...ye(n)})}function oN(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ye(n)})}function cN(e,n){return new e({type:"boolean",...ye(n)})}function uN(e){return new e({type:"unknown"})}function dN(e,n){return new e({type:"never",...ye(n)})}function Qv(e,n){return new K0({check:"less_than",...ye(n),value:e,inclusive:!1})}function Fd(e,n){return new K0({check:"less_than",...ye(n),value:e,inclusive:!0})}function Jv(e,n){return new W0({check:"greater_than",...ye(n),value:e,inclusive:!1})}function Yd(e,n){return new W0({check:"greater_than",...ye(n),value:e,inclusive:!0})}function ey(e,n){return new M2({check:"multiple_of",...ye(n),value:e})}function nb(e,n){return new D2({check:"max_length",...ye(n),maximum:e})}function Xo(e,n){return new C2({check:"min_length",...ye(n),minimum:e})}function ab(e,n){return new A2({check:"length_equals",...ye(n),length:e})}function fN(e,n){return new R2({check:"string_format",format:"regex",...ye(n),pattern:e})}function hN(e){return new k2({check:"string_format",format:"lowercase",...ye(e)})}function mN(e){return new z2({check:"string_format",format:"uppercase",...ye(e)})}function gN(e,n){return new O2({check:"string_format",format:"includes",...ye(n),includes:e})}function pN(e,n){return new P2({check:"string_format",format:"starts_with",...ye(n),prefix:e})}function vN(e,n){return new B2({check:"string_format",format:"ends_with",...ye(n),suffix:e})}function Vs(e){return new I2({check:"overwrite",tx:e})}function yN(e){return Vs(n=>n.normalize(e))}function bN(){return Vs(e=>e.trim())}function xN(){return Vs(e=>e.toLowerCase())}function SN(){return Vs(e=>e.toUpperCase())}function wN(){return Vs(e=>RE(e))}function _N(e,n,l){return new e({type:"array",element:n,...ye(l)})}function EN(e,n,l){return new e({type:"custom",check:"custom",fn:n,...ye(l)})}function TN(e){const n=NN(l=>(l.addIssue=i=>{if(typeof i=="string")l.issues.push(Wi(i,l.value,n._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=l.value),r.inst??(r.inst=n),r.continue??(r.continue=!n._zod.def.abort),l.issues.push(Wi(r))}},e(l.value,l)));return n}function NN(e,n){const l=new vn({check:"custom",...ye(n)});return l._zod.check=e,l}function lb(e){let n=e?.target??"draft-2020-12";return n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??$i,target:n,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Rt(e,n,l={path:[],schemaPath:[]}){var i;const r=e._zod.def,c=n.seen.get(e);if(c)return c.count++,l.schemaPath.includes(e)&&(c.cycle=l.path),c.schema;const u={schema:{},count:1,cycle:void 0,path:l.path};n.seen.set(e,u);const f=e._zod.toJSONSchema?.();if(f)u.schema=f;else{const b={...l,schemaPath:[...l.schemaPath,e],path:l.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(n,u.schema,b);else{const x=u.schema,_=n.processors[r.type];if(!_)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);_(e,n,x,b)}const v=e._zod.parent;v&&(u.ref||(u.ref=v),Rt(v,n,b),n.seen.get(v).isParent=!0)}const p=n.metadataRegistry.get(e);return p&&Object.assign(u.schema,p),n.io==="input"&&ln(e)&&(delete u.schema.examples,delete u.schema.default),n.io==="input"&&u.schema._prefault&&((i=u.schema).default??(i.default=u.schema._prefault)),delete u.schema._prefault,n.seen.get(e).schema}function sb(e,n){const l=e.seen.get(n);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const u of e.seen.entries()){const f=e.metadataRegistry.get(u[0])?.id;if(f){const p=i.get(f);if(p&&p!==u[0])throw new Error(`Duplicate schema id "${f}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(f,u[0])}}const r=u=>{const f=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const v=e.external.registry.get(u[0])?.id,x=e.external.uri??(N=>N);if(v)return{ref:x(v)};const _=u[1].defId??u[1].schema.id??`schema${e.counter++}`;return u[1].defId=_,{defId:_,ref:`${x("__shared")}#/${f}/${_}`}}if(u[1]===l)return{ref:"#"};const g=`#/${f}/`,b=u[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:g+b}},c=u=>{if(u[1].schema.$ref)return;const f=u[1],{ref:p,defId:g}=r(u);f.def={...f.schema},g&&(f.defId=g);const b=f.schema;for(const v in b)delete b[v];b.$ref=p};if(e.cycles==="throw")for(const u of e.seen.entries()){const f=u[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of e.seen.entries()){const f=u[1];if(n===u[0]){c(u);continue}if(e.external){const g=e.external.registry.get(u[0])?.id;if(n!==u[0]&&g){c(u);continue}}if(e.metadataRegistry.get(u[0])?.id){c(u);continue}if(f.cycle){c(u);continue}if(f.count>1&&e.reused==="ref"){c(u);continue}}}function ib(e,n){const l=e.seen.get(n);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{const f=e.seen.get(u);if(f.ref===null)return;const p=f.def??f.schema,g={...p},b=f.ref;if(f.ref=null,b){i(b);const x=e.seen.get(b),_=x.schema;if(_.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(_)):Object.assign(p,_),Object.assign(p,g),u._zod.parent===b)for(const w in p)w==="$ref"||w==="allOf"||w in g||delete p[w];if(_.$ref&&x.def)for(const w in p)w==="$ref"||w==="allOf"||w in x.def&&JSON.stringify(p[w])===JSON.stringify(x.def[w])&&delete p[w]}const v=u._zod.parent;if(v&&v!==b){i(v);const x=e.seen.get(v);if(x?.schema.$ref&&(p.$ref=x.schema.$ref,x.def))for(const _ in p)_==="$ref"||_==="allOf"||_ in x.def&&JSON.stringify(p[_])===JSON.stringify(x.def[_])&&delete p[_]}e.override({zodSchema:u,jsonSchema:p,path:f.path??[]})};for(const u of[...e.seen.entries()].reverse())i(u[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const u=e.external.registry.get(n)?.id;if(!u)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(u)}Object.assign(r,l.def??l.schema);const c=e.external?.defs??{};for(const u of e.seen.entries()){const f=u[1];f.def&&f.defId&&(c[f.defId]=f.def)}e.external||Object.keys(c).length>0&&(e.target==="draft-2020-12"?r.$defs=c:r.definitions=c);try{const u=JSON.parse(JSON.stringify(r));return Object.defineProperty(u,"~standard",{value:{...n["~standard"],jsonSchema:{input:Qo(n,"input",e.processors),output:Qo(n,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function ln(e,n){const l=n??{seen:new Set};if(l.seen.has(e))return!1;l.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return ln(i.element,l);if(i.type==="set")return ln(i.valueType,l);if(i.type==="lazy")return ln(i.getter(),l);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return ln(i.innerType,l);if(i.type==="intersection")return ln(i.left,l)||ln(i.right,l);if(i.type==="record"||i.type==="map")return ln(i.keyType,l)||ln(i.valueType,l);if(i.type==="pipe")return ln(i.in,l)||ln(i.out,l);if(i.type==="object"){for(const r in i.shape)if(ln(i.shape[r],l))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(ln(r,l))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(ln(r,l))return!0;return!!(i.rest&&ln(i.rest,l))}return!1}const MN=(e,n={})=>l=>{const i=lb({...l,processors:n});return Rt(e,i),sb(i,e),ib(i,e)},Qo=(e,n,l={})=>i=>{const{libraryOptions:r,target:c}=i??{},u=lb({...r??{},target:c,io:n,processors:l});return Rt(e,u),sb(u,e),ib(u,e)},jN={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},DN=(e,n,l,i)=>{const r=l;r.type="string";const{minimum:c,maximum:u,format:f,patterns:p,contentEncoding:g}=e._zod.bag;if(typeof c=="number"&&(r.minLength=c),typeof u=="number"&&(r.maxLength=u),f&&(r.format=jN[f]??f,r.format===""&&delete r.format,f==="time"&&delete r.format),g&&(r.contentEncoding=g),p&&p.size>0){const b=[...p];b.length===1?r.pattern=b[0].source:b.length>1&&(r.allOf=[...b.map(v=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:v.source}))])}},CN=(e,n,l,i)=>{const r=l,{minimum:c,maximum:u,format:f,multipleOf:p,exclusiveMaximum:g,exclusiveMinimum:b}=e._zod.bag;typeof f=="string"&&f.includes("int")?r.type="integer":r.type="number",typeof b=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(r.minimum=b,r.exclusiveMinimum=!0):r.exclusiveMinimum=b),typeof c=="number"&&(r.minimum=c,typeof b=="number"&&n.target!=="draft-04"&&(b>=c?delete r.minimum:delete r.exclusiveMinimum)),typeof g=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(r.maximum=g,r.exclusiveMaximum=!0):r.exclusiveMaximum=g),typeof u=="number"&&(r.maximum=u,typeof g=="number"&&n.target!=="draft-04"&&(g<=u?delete r.maximum:delete r.exclusiveMaximum)),typeof p=="number"&&(r.multipleOf=p)},AN=(e,n,l,i)=>{l.type="boolean"},RN=(e,n,l,i)=>{l.not={}},kN=(e,n,l,i)=>{},zN=(e,n,l,i)=>{const r=e._zod.def,c=I0(r.entries);c.every(u=>typeof u=="number")&&(l.type="number"),c.every(u=>typeof u=="string")&&(l.type="string"),l.enum=c},ON=(e,n,l,i)=>{if(n.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},PN=(e,n,l,i)=>{if(n.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},BN=(e,n,l,i)=>{const r=l,c=e._zod.def,{minimum:u,maximum:f}=e._zod.bag;typeof u=="number"&&(r.minItems=u),typeof f=="number"&&(r.maxItems=f),r.type="array",r.items=Rt(c.element,n,{...i,path:[...i.path,"items"]})},IN=(e,n,l,i)=>{const r=l,c=e._zod.def;r.type="object",r.properties={};const u=c.shape;for(const g in u)r.properties[g]=Rt(u[g],n,{...i,path:[...i.path,"properties",g]});const f=new Set(Object.keys(u)),p=new Set([...f].filter(g=>{const b=c.shape[g]._zod;return n.io==="input"?b.optin===void 0:b.optout===void 0}));p.size>0&&(r.required=Array.from(p)),c.catchall?._zod.def.type==="never"?r.additionalProperties=!1:c.catchall?c.catchall&&(r.additionalProperties=Rt(c.catchall,n,{...i,path:[...i.path,"additionalProperties"]})):n.io==="output"&&(r.additionalProperties=!1)},LN=(e,n,l,i)=>{const r=e._zod.def,c=r.inclusive===!1,u=r.options.map((f,p)=>Rt(f,n,{...i,path:[...i.path,c?"oneOf":"anyOf",p]}));c?l.oneOf=u:l.anyOf=u},qN=(e,n,l,i)=>{const r=e._zod.def,c=Rt(r.left,n,{...i,path:[...i.path,"allOf",0]}),u=Rt(r.right,n,{...i,path:[...i.path,"allOf",1]}),f=g=>"allOf"in g&&Object.keys(g).length===1,p=[...f(c)?c.allOf:[c],...f(u)?u.allOf:[u]];l.allOf=p},UN=(e,n,l,i)=>{const r=l,c=e._zod.def;r.type="object";const u=c.keyType,p=u._zod.bag?.patterns;if(c.mode==="loose"&&p&&p.size>0){const b=Rt(c.valueType,n,{...i,path:[...i.path,"patternProperties","*"]});r.patternProperties={};for(const v of p)r.patternProperties[v.source]=b}else(n.target==="draft-07"||n.target==="draft-2020-12")&&(r.propertyNames=Rt(c.keyType,n,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=Rt(c.valueType,n,{...i,path:[...i.path,"additionalProperties"]});const g=u._zod.values;if(g){const b=[...g].filter(v=>typeof v=="string"||typeof v=="number");b.length>0&&(r.required=b)}},$N=(e,n,l,i)=>{const r=e._zod.def,c=Rt(r.innerType,n,i),u=n.seen.get(e);n.target==="openapi-3.0"?(u.ref=r.innerType,l.nullable=!0):l.anyOf=[c,{type:"null"}]},HN=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType},ZN=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType,l.default=JSON.parse(JSON.stringify(r.defaultValue))},FN=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType,n.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},YN=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType;let u;try{u=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=u},GN=(e,n,l,i)=>{const r=e._zod.def,c=n.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Rt(c,n,i);const u=n.seen.get(e);u.ref=c},VN=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType,l.readOnly=!0},rb=(e,n,l,i)=>{const r=e._zod.def;Rt(r.innerType,n,i);const c=n.seen.get(e);c.ref=r.innerType},KN=te("ZodISODateTime",(e,n)=>{Q2.init(e,n),gt.init(e,n)});function WN(e){return aN(KN,e)}const XN=te("ZodISODate",(e,n)=>{J2.init(e,n),gt.init(e,n)});function QN(e){return lN(XN,e)}const JN=te("ZodISOTime",(e,n)=>{eT.init(e,n),gt.init(e,n)});function eM(e){return sN(JN,e)}const tM=te("ZodISODuration",(e,n)=>{tT.init(e,n),gt.init(e,n)});function nM(e){return iN(tM,e)}const aM=(e,n)=>{$0.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:l=>FE(e,l)},flatten:{value:l=>ZE(e,l)},addIssue:{value:l=>{e.issues.push(l),e.message=JSON.stringify(e.issues,Nf,2)}},addIssues:{value:l=>{e.issues.push(...l),e.message=JSON.stringify(e.issues,Nf,2)}},isEmpty:{get(){return e.issues.length===0}}})},Fn=te("ZodError",aM,{Parent:Error}),lM=ih(Fn),sM=rh(Fn),iM=mc(Fn),rM=gc(Fn),oM=VE(Fn),cM=KE(Fn),uM=WE(Fn),dM=XE(Fn),fM=QE(Fn),hM=JE(Fn),mM=e2(Fn),gM=t2(Fn),St=te("ZodType",(e,n)=>(xt.init(e,n),Object.assign(e["~standard"],{jsonSchema:{input:Qo(e,"input"),output:Qo(e,"output")}}),e.toJSONSchema=MN(e,{}),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...l)=>e.clone(gl(n,{checks:[...n.checks??[],...l.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(l,i)=>pl(e,l,i),e.brand=()=>e,e.register=((l,i)=>(l.add(e,i),e)),e.parse=(l,i)=>lM(e,l,i,{callee:e.parse}),e.safeParse=(l,i)=>iM(e,l,i),e.parseAsync=async(l,i)=>sM(e,l,i,{callee:e.parseAsync}),e.safeParseAsync=async(l,i)=>rM(e,l,i),e.spa=e.safeParseAsync,e.encode=(l,i)=>oM(e,l,i),e.decode=(l,i)=>cM(e,l,i),e.encodeAsync=async(l,i)=>uM(e,l,i),e.decodeAsync=async(l,i)=>dM(e,l,i),e.safeEncode=(l,i)=>fM(e,l,i),e.safeDecode=(l,i)=>hM(e,l,i),e.safeEncodeAsync=async(l,i)=>mM(e,l,i),e.safeDecodeAsync=async(l,i)=>gM(e,l,i),e.refine=(l,i)=>e.check(oj(l,i)),e.superRefine=l=>e.check(cj(l)),e.overwrite=l=>e.check(Vs(l)),e.optional=()=>ly(e),e.exactOptional=()=>KM(e),e.nullable=()=>sy(e),e.nullish=()=>ly(sy(e)),e.nonoptional=l=>tj(e,l),e.array=()=>Zn(e),e.or=l=>$M([e,l]),e.and=l=>ZM(e,l),e.transform=l=>iy(e,GM(l)),e.default=l=>QM(e,l),e.prefault=l=>ej(e,l),e.catch=l=>aj(e,l),e.pipe=l=>iy(e,l),e.readonly=()=>ij(e),e.describe=l=>{const i=e.clone();return $i.add(i,{description:l}),i},Object.defineProperty(e,"description",{get(){return $i.get(e)?.description},configurable:!0}),e.meta=(...l)=>{if(l.length===0)return $i.get(e);const i=e.clone();return $i.add(i,l[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=l=>l(e),e)),ob=te("_ZodString",(e,n)=>{oh.init(e,n),St.init(e,n),e._zod.processJSONSchema=(i,r,c)=>DN(e,i,r);const l=e._zod.bag;e.format=l.format??null,e.minLength=l.minimum??null,e.maxLength=l.maximum??null,e.regex=(...i)=>e.check(fN(...i)),e.includes=(...i)=>e.check(gN(...i)),e.startsWith=(...i)=>e.check(pN(...i)),e.endsWith=(...i)=>e.check(vN(...i)),e.min=(...i)=>e.check(Xo(...i)),e.max=(...i)=>e.check(nb(...i)),e.length=(...i)=>e.check(ab(...i)),e.nonempty=(...i)=>e.check(Xo(1,...i)),e.lowercase=i=>e.check(hN(i)),e.uppercase=i=>e.check(mN(i)),e.trim=()=>e.check(bN()),e.normalize=(...i)=>e.check(yN(...i)),e.toLowerCase=()=>e.check(xN()),e.toUpperCase=()=>e.check(SN()),e.slugify=()=>e.check(wN())}),pM=te("ZodString",(e,n)=>{oh.init(e,n),ob.init(e,n),e.email=l=>e.check(PT(vM,l)),e.url=l=>e.check(UT(yM,l)),e.jwt=l=>e.check(nN(kM,l)),e.emoji=l=>e.check($T(bM,l)),e.guid=l=>e.check(Xv(ty,l)),e.uuid=l=>e.check(BT(wo,l)),e.uuidv4=l=>e.check(IT(wo,l)),e.uuidv6=l=>e.check(LT(wo,l)),e.uuidv7=l=>e.check(qT(wo,l)),e.nanoid=l=>e.check(HT(xM,l)),e.guid=l=>e.check(Xv(ty,l)),e.cuid=l=>e.check(ZT(SM,l)),e.cuid2=l=>e.check(FT(wM,l)),e.ulid=l=>e.check(YT(_M,l)),e.base64=l=>e.check(JT(CM,l)),e.base64url=l=>e.check(eN(AM,l)),e.xid=l=>e.check(GT(EM,l)),e.ksuid=l=>e.check(VT(TM,l)),e.ipv4=l=>e.check(KT(NM,l)),e.ipv6=l=>e.check(WT(MM,l)),e.cidrv4=l=>e.check(XT(jM,l)),e.cidrv6=l=>e.check(QT(DM,l)),e.e164=l=>e.check(tN(RM,l)),e.datetime=l=>e.check(WN(l)),e.date=l=>e.check(QN(l)),e.time=l=>e.check(eM(l)),e.duration=l=>e.check(nM(l))});function Hn(e){return OT(pM,e)}const gt=te("ZodStringFormat",(e,n)=>{mt.init(e,n),ob.init(e,n)}),vM=te("ZodEmail",(e,n)=>{H2.init(e,n),gt.init(e,n)}),ty=te("ZodGUID",(e,n)=>{U2.init(e,n),gt.init(e,n)}),wo=te("ZodUUID",(e,n)=>{$2.init(e,n),gt.init(e,n)}),yM=te("ZodURL",(e,n)=>{Z2.init(e,n),gt.init(e,n)}),bM=te("ZodEmoji",(e,n)=>{F2.init(e,n),gt.init(e,n)}),xM=te("ZodNanoID",(e,n)=>{Y2.init(e,n),gt.init(e,n)}),SM=te("ZodCUID",(e,n)=>{G2.init(e,n),gt.init(e,n)}),wM=te("ZodCUID2",(e,n)=>{V2.init(e,n),gt.init(e,n)}),_M=te("ZodULID",(e,n)=>{K2.init(e,n),gt.init(e,n)}),EM=te("ZodXID",(e,n)=>{W2.init(e,n),gt.init(e,n)}),TM=te("ZodKSUID",(e,n)=>{X2.init(e,n),gt.init(e,n)}),NM=te("ZodIPv4",(e,n)=>{nT.init(e,n),gt.init(e,n)}),MM=te("ZodIPv6",(e,n)=>{aT.init(e,n),gt.init(e,n)}),jM=te("ZodCIDRv4",(e,n)=>{lT.init(e,n),gt.init(e,n)}),DM=te("ZodCIDRv6",(e,n)=>{sT.init(e,n),gt.init(e,n)}),CM=te("ZodBase64",(e,n)=>{iT.init(e,n),gt.init(e,n)}),AM=te("ZodBase64URL",(e,n)=>{oT.init(e,n),gt.init(e,n)}),RM=te("ZodE164",(e,n)=>{cT.init(e,n),gt.init(e,n)}),kM=te("ZodJWT",(e,n)=>{dT.init(e,n),gt.init(e,n)}),cb=te("ZodNumber",(e,n)=>{Q0.init(e,n),St.init(e,n),e._zod.processJSONSchema=(i,r,c)=>CN(e,i,r),e.gt=(i,r)=>e.check(Jv(i,r)),e.gte=(i,r)=>e.check(Yd(i,r)),e.min=(i,r)=>e.check(Yd(i,r)),e.lt=(i,r)=>e.check(Qv(i,r)),e.lte=(i,r)=>e.check(Fd(i,r)),e.max=(i,r)=>e.check(Fd(i,r)),e.int=i=>e.check(ny(i)),e.safe=i=>e.check(ny(i)),e.positive=i=>e.check(Jv(0,i)),e.nonnegative=i=>e.check(Yd(0,i)),e.negative=i=>e.check(Qv(0,i)),e.nonpositive=i=>e.check(Fd(0,i)),e.multipleOf=(i,r)=>e.check(ey(i,r)),e.step=(i,r)=>e.check(ey(i,r)),e.finite=()=>e;const l=e._zod.bag;e.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),e.isFinite=!0,e.format=l.format??null});function Qn(e){return rN(cb,e)}const zM=te("ZodNumberFormat",(e,n)=>{fT.init(e,n),cb.init(e,n)});function ny(e){return oN(zM,e)}const OM=te("ZodBoolean",(e,n)=>{hT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>AN(e,l,i)});function Oo(e){return cN(OM,e)}const PM=te("ZodUnknown",(e,n)=>{mT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>kN()});function ay(){return uN(PM)}const BM=te("ZodNever",(e,n)=>{gT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>RN(e,l,i)});function IM(e){return dN(BM,e)}const LM=te("ZodArray",(e,n)=>{pT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>BN(e,l,i,r),e.element=n.element,e.min=(l,i)=>e.check(Xo(l,i)),e.nonempty=l=>e.check(Xo(1,l)),e.max=(l,i)=>e.check(nb(l,i)),e.length=(l,i)=>e.check(ab(l,i)),e.unwrap=()=>e.element});function Zn(e,n){return _N(LM,e,n)}const qM=te("ZodObject",(e,n)=>{yT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>IN(e,l,i,r),et(e,"shape",()=>n.shape),e.keyof=()=>Yi(Object.keys(e._zod.def.shape)),e.catchall=l=>e.clone({...e._zod.def,catchall:l}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ay()}),e.loose=()=>e.clone({...e._zod.def,catchall:ay()}),e.strict=()=>e.clone({...e._zod.def,catchall:IM()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=l=>LE(e,l),e.safeExtend=l=>qE(e,l),e.merge=l=>UE(e,l),e.pick=l=>BE(e,l),e.omit=l=>IE(e,l),e.partial=(...l)=>$E(ub,e,l[0]),e.required=(...l)=>HE(db,e,l[0])});function Xi(e,n){const l={type:"object",shape:e??{},...ye(n)};return new qM(l)}const UM=te("ZodUnion",(e,n)=>{bT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>LN(e,l,i,r),e.options=n.options});function $M(e,n){return new UM({type:"union",options:e,...ye(n)})}const HM=te("ZodIntersection",(e,n)=>{xT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>qN(e,l,i,r)});function ZM(e,n){return new HM({type:"intersection",left:e,right:n})}const FM=te("ZodRecord",(e,n)=>{ST.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>UN(e,l,i,r),e.keyType=n.keyType,e.valueType=n.valueType});function Po(e,n,l){return new FM({type:"record",keyType:e,valueType:n,...ye(l)})}const jf=te("ZodEnum",(e,n)=>{wT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(i,r,c)=>zN(e,i,r),e.enum=n.entries,e.options=Object.values(n.entries);const l=new Set(Object.keys(n.entries));e.extract=(i,r)=>{const c={};for(const u of i)if(l.has(u))c[u]=n.entries[u];else throw new Error(`Key ${u} not found in enum`);return new jf({...n,checks:[],...ye(r),entries:c})},e.exclude=(i,r)=>{const c={...n.entries};for(const u of i)if(l.has(u))delete c[u];else throw new Error(`Key ${u} not found in enum`);return new jf({...n,checks:[],...ye(r),entries:c})}});function Yi(e,n){const l=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new jf({type:"enum",entries:l,...ye(n)})}const YM=te("ZodTransform",(e,n)=>{_T.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>PN(e,l),e._zod.parse=(l,i)=>{if(i.direction==="backward")throw new P0(e.constructor.name);l.addIssue=c=>{if(typeof c=="string")l.issues.push(Wi(c,l.value,n));else{const u=c;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=l.value),u.inst??(u.inst=e),l.issues.push(Wi(u))}};const r=n.transform(l.value,l);return r instanceof Promise?r.then(c=>(l.value=c,l)):(l.value=r,l)}});function GM(e){return new YM({type:"transform",transform:e})}const ub=te("ZodOptional",(e,n)=>{tb.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>rb(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function ly(e){return new ub({type:"optional",innerType:e})}const VM=te("ZodExactOptional",(e,n)=>{ET.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>rb(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function KM(e){return new VM({type:"optional",innerType:e})}const WM=te("ZodNullable",(e,n)=>{TT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>$N(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function sy(e){return new WM({type:"nullable",innerType:e})}const XM=te("ZodDefault",(e,n)=>{NT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>ZN(e,l,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function QM(e,n){return new XM({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():q0(n)}})}const JM=te("ZodPrefault",(e,n)=>{MT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>FN(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function ej(e,n){return new JM({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():q0(n)}})}const db=te("ZodNonOptional",(e,n)=>{jT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>HN(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function tj(e,n){return new db({type:"nonoptional",innerType:e,...ye(n)})}const nj=te("ZodCatch",(e,n)=>{DT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>YN(e,l,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function aj(e,n){return new nj({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const lj=te("ZodPipe",(e,n)=>{CT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>GN(e,l,i,r),e.in=n.in,e.out=n.out});function iy(e,n){return new lj({type:"pipe",in:e,out:n})}const sj=te("ZodReadonly",(e,n)=>{AT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>VN(e,l,i,r),e.unwrap=()=>e._zod.def.innerType});function ij(e){return new sj({type:"readonly",innerType:e})}const rj=te("ZodCustom",(e,n)=>{RT.init(e,n),St.init(e,n),e._zod.processJSONSchema=(l,i,r)=>ON(e,l)});function oj(e,n={}){return EN(rj,e,n)}function cj(e){return TN(e)}const uj=["relevance","level","baseDps","ehpProxy","offenseScore","skillPointTotal"],dj=["list","grid"],Jn={text:"",categories:[],types:[],tiers:[],classReqs:[],majorIds:[],numericRanges:{},onlyWearableAtLevel:106,onlyClassCompatible:!1,excludeRestricted:!1,sort:"relevance",sortDescending:!0,viewMode:"list"},fj=Xi({min:Qn().finite().optional(),max:Qn().finite().optional()}),hj=Xi({text:Hn().catch(Jn.text),categories:Zn(Hn()).catch([]),types:Zn(Hn()).catch([]),tiers:Zn(Hn()).catch([]),classReqs:Zn(Yi(["Warrior","Assassin","Mage","Archer","Shaman"])).catch([]),majorIds:Zn(Hn()).catch([]),numericRanges:Po(Hn(),fj).catch({}),onlyWearableAtLevel:Qn().int().min(1).max(106).nullable().catch(106),onlyClassCompatible:Oo().catch(!1),excludeRestricted:Oo().catch(!1),sort:Yi(uj).catch("relevance"),sortDescending:Oo().catch(!0),viewMode:Yi(dj).catch("list")});function fb(e){const n=hj.parse(e);return{text:n.text,categories:n.categories,types:n.types,tiers:n.tiers,classReqs:n.classReqs,majorIds:n.majorIds,numericRanges:n.numericRanges,onlyWearableAtLevel:n.onlyWearableAtLevel,onlyClassCompatible:n.onlyClassCompatible,excludeRestricted:n.excludeRestricted,sort:n.sort,sortDescending:n.sortDescending,viewMode:n.viewMode}}function mj(e,n){return fb({...e,...n,numericRanges:{...e.numericRanges,...n.numericRanges??{}}})}const gj="ENTRIES",hb="KEYS",mb="VALUES",Vt="";class Gd{constructor(n,l){const i=n._tree,r=Array.from(i.keys());this.set=n,this._type=l,this._path=r.length>0?[{node:i,keys:r}]:[]}next(){const n=this.dive();return this.backtrack(),n}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:n,keys:l}=js(this._path);if(js(l)===Vt)return{done:!1,value:this.result()};const i=n.get(js(l));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const n=js(this._path).keys;n.pop(),!(n.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:n})=>js(n)).filter(n=>n!==Vt).join("")}value(){return js(this._path).node.get(Vt)}result(){switch(this._type){case mb:return this.value();case hb:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const js=e=>e[e.length-1],pj=(e,n,l)=>{const i=new Map;if(n===void 0)return i;const r=n.length+1,c=r+l,u=new Uint8Array(c*r).fill(l+1);for(let f=0;f<r;++f)u[f]=f;for(let f=1;f<c;++f)u[f*r]=f;return gb(e,n,l,i,u,1,r,""),i},gb=(e,n,l,i,r,c,u,f)=>{const p=c*u;e:for(const g of e.keys())if(g===Vt){const b=r[p-1];b<=l&&i.set(f,[e.get(g),b])}else{let b=c;for(let v=0;v<g.length;++v,++b){const x=g[v],_=u*b,N=_-u;let w=r[_];const M=Math.max(0,b-l-1),z=Math.min(u-1,b+l);for(let I=M;I<z;++I){const O=x!==n[I],L=r[N+I]+ +O,H=r[N+I+1]+1,A=r[_+I]+1,j=r[_+I+1]=Math.min(L,H,A);j<w&&(w=j)}if(w>l)continue e}gb(e.get(g),n,l,i,r,b,u,f+g)}};class rl{constructor(n=new Map,l=""){this._size=void 0,this._tree=n,this._prefix=l}atPrefix(n){if(!n.startsWith(this._prefix))throw new Error("Mismatched prefix");const[l,i]=Jo(this._tree,n.slice(this._prefix.length));if(l===void 0){const[r,c]=ch(i);for(const u of r.keys())if(u!==Vt&&u.startsWith(c)){const f=new Map;return f.set(u.slice(c.length),r.get(u)),new rl(f,n)}}return new rl(l,n)}clear(){this._size=void 0,this._tree.clear()}delete(n){return this._size=void 0,vj(this._tree,n)}entries(){return new Gd(this,gj)}forEach(n){for(const[l,i]of this)n(l,i,this)}fuzzyGet(n,l){return pj(this._tree,n,l)}get(n){const l=Df(this._tree,n);return l!==void 0?l.get(Vt):void 0}has(n){const l=Df(this._tree,n);return l!==void 0&&l.has(Vt)}keys(){return new Gd(this,hb)}set(n,l){if(typeof n!="string")throw new Error("key must be a string");return this._size=void 0,Vd(this._tree,n).set(Vt,l),this}get size(){if(this._size)return this._size;this._size=0;const n=this.entries();for(;!n.next().done;)this._size+=1;return this._size}update(n,l){if(typeof n!="string")throw new Error("key must be a string");this._size=void 0;const i=Vd(this._tree,n);return i.set(Vt,l(i.get(Vt))),this}fetch(n,l){if(typeof n!="string")throw new Error("key must be a string");this._size=void 0;const i=Vd(this._tree,n);let r=i.get(Vt);return r===void 0&&i.set(Vt,r=l()),r}values(){return new Gd(this,mb)}[Symbol.iterator](){return this.entries()}static from(n){const l=new rl;for(const[i,r]of n)l.set(i,r);return l}static fromObject(n){return rl.from(Object.entries(n))}}const Jo=(e,n,l=[])=>{if(n.length===0||e==null)return[e,l];for(const i of e.keys())if(i!==Vt&&n.startsWith(i))return l.push([e,i]),Jo(e.get(i),n.slice(i.length),l);return l.push([e,n]),Jo(void 0,"",l)},Df=(e,n)=>{if(n.length===0||e==null)return e;for(const l of e.keys())if(l!==Vt&&n.startsWith(l))return Df(e.get(l),n.slice(l.length))},Vd=(e,n)=>{const l=n.length;e:for(let i=0;e&&i<l;){for(const c of e.keys())if(c!==Vt&&n[i]===c[0]){const u=Math.min(l-i,c.length);let f=1;for(;f<u&&n[i+f]===c[f];)++f;const p=e.get(c);if(f===c.length)e=p;else{const g=new Map;g.set(c.slice(f),p),e.set(n.slice(i,i+f),g),e.delete(c),e=g}i+=f;continue e}const r=new Map;return e.set(n.slice(i),r),r}return e},vj=(e,n)=>{const[l,i]=Jo(e,n);if(l!==void 0){if(l.delete(Vt),l.size===0)pb(i);else if(l.size===1){const[r,c]=l.entries().next().value;vb(i,r,c)}}},pb=e=>{if(e.length===0)return;const[n,l]=ch(e);if(n.delete(l),n.size===0)pb(e.slice(0,-1));else if(n.size===1){const[i,r]=n.entries().next().value;i!==Vt&&vb(e.slice(0,-1),i,r)}},vb=(e,n,l)=>{if(e.length===0)return;const[i,r]=ch(e);i.set(r+n,l),i.delete(r)},ch=e=>e[e.length-1],uh="or",yb="and",yj="and_not";class qs{constructor(n){if(n?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');const l=n.autoVacuum==null||n.autoVacuum===!0?Xd:n.autoVacuum;this._options={...Wd,...n,autoVacuum:l,searchOptions:{...ry,...n.searchOptions||{}},autoSuggestOptions:{..._j,...n.autoSuggestOptions||{}}},this._index=new rl,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Af,this.addFields(this._options.fields)}add(n){const{extractField:l,stringifyField:i,tokenize:r,processTerm:c,fields:u,idField:f}=this._options,p=l(n,f);if(p==null)throw new Error(`MiniSearch: document does not have ID field "${f}"`);if(this._idToShortId.has(p))throw new Error(`MiniSearch: duplicate ID ${p}`);const g=this.addDocumentId(p);this.saveStoredFields(g,n);for(const b of u){const v=l(n,b);if(v==null)continue;const x=r(i(v,b),b),_=this._fieldIds[b],N=new Set(x).size;this.addFieldLength(g,_,this._documentCount-1,N);for(const w of x){const M=c(w,b);if(Array.isArray(M))for(const z of M)this.addTerm(_,g,z);else M&&this.addTerm(_,g,M)}}}addAll(n){for(const l of n)this.add(l)}addAllAsync(n,l={}){const{chunkSize:i=10}=l,r={chunk:[],promise:Promise.resolve()},{chunk:c,promise:u}=n.reduce(({chunk:f,promise:p},g,b)=>(f.push(g),(b+1)%i===0?{chunk:[],promise:p.then(()=>new Promise(v=>setTimeout(v,0))).then(()=>this.addAll(f))}:{chunk:f,promise:p}),r);return u.then(()=>this.addAll(c))}remove(n){const{tokenize:l,processTerm:i,extractField:r,stringifyField:c,fields:u,idField:f}=this._options,p=r(n,f);if(p==null)throw new Error(`MiniSearch: document does not have ID field "${f}"`);const g=this._idToShortId.get(p);if(g==null)throw new Error(`MiniSearch: cannot remove document with ID ${p}: it is not in the index`);for(const b of u){const v=r(n,b);if(v==null)continue;const x=l(c(v,b),b),_=this._fieldIds[b],N=new Set(x).size;this.removeFieldLength(g,_,this._documentCount,N);for(const w of x){const M=i(w,b);if(Array.isArray(M))for(const z of M)this.removeTerm(_,g,z);else M&&this.removeTerm(_,g,M)}}this._storedFields.delete(g),this._documentIds.delete(g),this._idToShortId.delete(p),this._fieldLength.delete(g),this._documentCount-=1}removeAll(n){if(n)for(const l of n)this.remove(l);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new rl,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(n){const l=this._idToShortId.get(n);if(l==null)throw new Error(`MiniSearch: cannot discard document with ID ${n}: it is not in the index`);this._idToShortId.delete(n),this._documentIds.delete(l),this._storedFields.delete(l),(this._fieldLength.get(l)||[]).forEach((i,r)=>{this.removeFieldLength(l,r,this._documentCount,i)}),this._fieldLength.delete(l),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:n,minDirtCount:l,batchSize:i,batchWait:r}=this._options.autoVacuum;this.conditionalVacuum({batchSize:i,batchWait:r},{minDirtCount:l,minDirtFactor:n})}discardAll(n){const l=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const i of n)this.discard(i)}finally{this._options.autoVacuum=l}this.maybeAutoVacuum()}replace(n){const{idField:l,extractField:i}=this._options,r=i(n,l);this.discard(r),this.add(n)}vacuum(n={}){return this.conditionalVacuum(n)}conditionalVacuum(n,l){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&l,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const i=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Af,this.performVacuuming(n,i)}),this._enqueuedVacuum)):this.vacuumConditionsMet(l)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(n),this._currentVacuum)}async performVacuuming(n,l){const i=this._dirtCount;if(this.vacuumConditionsMet(l)){const r=n.batchSize||Cf.batchSize,c=n.batchWait||Cf.batchWait;let u=1;for(const[f,p]of this._index){for(const[g,b]of p)for(const[v]of b)this._documentIds.has(v)||(b.size<=1?p.delete(g):b.delete(v));this._index.get(f).size===0&&this._index.delete(f),u%r===0&&await new Promise(g=>setTimeout(g,c)),u+=1}this._dirtCount-=i}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(n){if(n==null)return!0;let{minDirtCount:l,minDirtFactor:i}=n;return l=l||Xd.minDirtCount,i=i||Xd.minDirtFactor,this.dirtCount>=l&&this.dirtFactor>=i}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(n){return this._idToShortId.has(n)}getStoredFields(n){const l=this._idToShortId.get(n);if(l!=null)return this._storedFields.get(l)}search(n,l={}){const{searchOptions:i}=this._options,r={...i,...l},c=this.executeQuery(n,l),u=[];for(const[f,{score:p,terms:g,match:b}]of c){const v=g.length||1,x={id:this._documentIds.get(f),score:p*v,terms:Object.keys(b),queryTerms:g,match:b};Object.assign(x,this._storedFields.get(f)),(r.filter==null||r.filter(x))&&u.push(x)}return n===qs.wildcard&&r.boostDocument==null||u.sort(cy),u}autoSuggest(n,l={}){l={...this._options.autoSuggestOptions,...l};const i=new Map;for(const{score:c,terms:u}of this.search(n,l)){const f=u.join(" "),p=i.get(f);p!=null?(p.score+=c,p.count+=1):i.set(f,{score:c,terms:u,count:1})}const r=[];for(const[c,{score:u,terms:f,count:p}]of i)r.push({suggestion:c,terms:f,score:u/p});return r.sort(cy),r}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(n,l){if(l==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(n),l)}static async loadJSONAsync(n,l){if(l==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(n),l)}static getDefault(n){if(Wd.hasOwnProperty(n))return Kd(Wd,n);throw new Error(`MiniSearch: unknown option "${n}"`)}static loadJS(n,l){const{index:i,documentIds:r,fieldLength:c,storedFields:u,serializationVersion:f}=n,p=this.instantiateMiniSearch(n,l);p._documentIds=_o(r),p._fieldLength=_o(c),p._storedFields=_o(u);for(const[g,b]of p._documentIds)p._idToShortId.set(b,g);for(const[g,b]of i){const v=new Map;for(const x of Object.keys(b)){let _=b[x];f===1&&(_=_.ds),v.set(parseInt(x,10),_o(_))}p._index.set(g,v)}return p}static async loadJSAsync(n,l){const{index:i,documentIds:r,fieldLength:c,storedFields:u,serializationVersion:f}=n,p=this.instantiateMiniSearch(n,l);p._documentIds=await Eo(r),p._fieldLength=await Eo(c),p._storedFields=await Eo(u);for(const[b,v]of p._documentIds)p._idToShortId.set(v,b);let g=0;for(const[b,v]of i){const x=new Map;for(const _ of Object.keys(v)){let N=v[_];f===1&&(N=N.ds),x.set(parseInt(_,10),await Eo(N))}++g%1e3===0&&await bb(0),p._index.set(b,x)}return p}static instantiateMiniSearch(n,l){const{documentCount:i,nextId:r,fieldIds:c,averageFieldLength:u,dirtCount:f,serializationVersion:p}=n;if(p!==1&&p!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const g=new qs(l);return g._documentCount=i,g._nextId=r,g._idToShortId=new Map,g._fieldIds=c,g._avgFieldLength=u,g._dirtCount=f||0,g._index=new rl,g}executeQuery(n,l={}){if(n===qs.wildcard)return this.executeWildcardQuery(l);if(typeof n!="string"){const x={...l,...n,queries:void 0},_=n.queries.map(N=>this.executeQuery(N,x));return this.combineResults(_,x.combineWith)}const{tokenize:i,processTerm:r,searchOptions:c}=this._options,u={tokenize:i,processTerm:r,...c,...l},{tokenize:f,processTerm:p}=u,v=f(n).flatMap(x=>p(x)).filter(x=>!!x).map(wj(u)).map(x=>this.executeQuerySpec(x,u));return this.combineResults(v,u.combineWith)}executeQuerySpec(n,l){const i={...this._options.searchOptions,...l},r=(i.fields||this._options.fields).reduce((w,M)=>({...w,[M]:Kd(i.boost,M)||1}),{}),{boostDocument:c,weights:u,maxFuzzy:f,bm25:p}=i,{fuzzy:g,prefix:b}={...ry.weights,...u},v=this._index.get(n.term),x=this.termResults(n.term,n.term,1,n.termBoost,v,r,c,p);let _,N;if(n.prefix&&(_=this._index.atPrefix(n.term)),n.fuzzy){const w=n.fuzzy===!0?.2:n.fuzzy,M=w<1?Math.min(f,Math.round(n.term.length*w)):w;M&&(N=this._index.fuzzyGet(n.term,M))}if(_)for(const[w,M]of _){const z=w.length-n.term.length;if(!z)continue;N?.delete(w);const I=b*w.length/(w.length+.3*z);this.termResults(n.term,w,I,n.termBoost,M,r,c,p,x)}if(N)for(const w of N.keys()){const[M,z]=N.get(w);if(!z)continue;const I=g*w.length/(w.length+z);this.termResults(n.term,w,I,n.termBoost,M,r,c,p,x)}return x}executeWildcardQuery(n){const l=new Map,i={...this._options.searchOptions,...n};for(const[r,c]of this._documentIds){const u=i.boostDocument?i.boostDocument(c,"",this._storedFields.get(r)):1;l.set(r,{score:u,terms:[],match:{}})}return l}combineResults(n,l=uh){if(n.length===0)return new Map;const i=l.toLowerCase(),r=bj[i];if(!r)throw new Error(`Invalid combination operator: ${l}`);return n.reduce(r)||new Map}toJSON(){const n=[];for(const[l,i]of this._index){const r={};for(const[c,u]of i)r[c]=Object.fromEntries(u);n.push([l,r])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:n,serializationVersion:2}}termResults(n,l,i,r,c,u,f,p,g=new Map){if(c==null)return g;for(const b of Object.keys(u)){const v=u[b],x=this._fieldIds[b],_=c.get(x);if(_==null)continue;let N=_.size;const w=this._avgFieldLength[x];for(const M of _.keys()){if(!this._documentIds.has(M)){this.removeTerm(x,M,l),N-=1;continue}const z=f?f(this._documentIds.get(M),l,this._storedFields.get(M)):1;if(!z)continue;const I=_.get(M),O=this._fieldLength.get(M)[x],L=Sj(I,N,this._documentCount,O,w,p),H=i*r*v*z*L,A=g.get(M);if(A){A.score+=H,Ej(A.terms,n);const j=Kd(A.match,l);j?j.push(b):A.match[l]=[b]}else g.set(M,{score:H,terms:[n],match:{[l]:[b]}})}}return g}addTerm(n,l,i){const r=this._index.fetch(i,uy);let c=r.get(n);if(c==null)c=new Map,c.set(l,1),r.set(n,c);else{const u=c.get(l);c.set(l,(u||0)+1)}}removeTerm(n,l,i){if(!this._index.has(i)){this.warnDocumentChanged(l,n,i);return}const r=this._index.fetch(i,uy),c=r.get(n);c==null||c.get(l)==null?this.warnDocumentChanged(l,n,i):c.get(l)<=1?c.size<=1?r.delete(n):c.delete(l):c.set(l,c.get(l)-1),this._index.get(i).size===0&&this._index.delete(i)}warnDocumentChanged(n,l,i){for(const r of Object.keys(this._fieldIds))if(this._fieldIds[r]===l){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(n)} has changed before removal: term "${i}" was not present in field "${r}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(n){const l=this._nextId;return this._idToShortId.set(n,l),this._documentIds.set(l,n),this._documentCount+=1,this._nextId+=1,l}addFields(n){for(let l=0;l<n.length;l++)this._fieldIds[n[l]]=l}addFieldLength(n,l,i,r){let c=this._fieldLength.get(n);c==null&&this._fieldLength.set(n,c=[]),c[l]=r;const f=(this._avgFieldLength[l]||0)*i+r;this._avgFieldLength[l]=f/(i+1)}removeFieldLength(n,l,i,r){if(i===1){this._avgFieldLength[l]=0;return}const c=this._avgFieldLength[l]*i-r;this._avgFieldLength[l]=c/(i-1)}saveStoredFields(n,l){const{storeFields:i,extractField:r}=this._options;if(i==null||i.length===0)return;let c=this._storedFields.get(n);c==null&&this._storedFields.set(n,c={});for(const u of i){const f=r(l,u);f!==void 0&&(c[u]=f)}}}qs.wildcard=Symbol("*");const Kd=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)?e[n]:void 0,bj={[uh]:(e,n)=>{for(const l of n.keys()){const i=e.get(l);if(i==null)e.set(l,n.get(l));else{const{score:r,terms:c,match:u}=n.get(l);i.score=i.score+r,i.match=Object.assign(i.match,u),oy(i.terms,c)}}return e},[yb]:(e,n)=>{const l=new Map;for(const i of n.keys()){const r=e.get(i);if(r==null)continue;const{score:c,terms:u,match:f}=n.get(i);oy(r.terms,u),l.set(i,{score:r.score+c,terms:r.terms,match:Object.assign(r.match,f)})}return l},[yj]:(e,n)=>{for(const l of n.keys())e.delete(l);return e}},xj={k:1.2,b:.7,d:.5},Sj=(e,n,l,i,r,c)=>{const{k:u,b:f,d:p}=c;return Math.log(1+(l-n+.5)/(n+.5))*(p+e*(u+1)/(e+u*(1-f+f*i/r)))},wj=e=>(n,l,i)=>{const r=typeof e.fuzzy=="function"?e.fuzzy(n,l,i):e.fuzzy||!1,c=typeof e.prefix=="function"?e.prefix(n,l,i):e.prefix===!0,u=typeof e.boostTerm=="function"?e.boostTerm(n,l,i):1;return{term:n,fuzzy:r,prefix:c,termBoost:u}},Wd={idField:"id",extractField:(e,n)=>e[n],stringifyField:(e,n)=>e.toString(),tokenize:e=>e.split(Tj),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,n)=>{typeof console?.[e]=="function"&&console[e](n)},autoVacuum:!0},ry={combineWith:uh,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:xj},_j={combineWith:yb,prefix:(e,n,l)=>n===l.length-1},Cf={batchSize:1e3,batchWait:10},Af={minDirtFactor:.1,minDirtCount:20},Xd={...Cf,...Af},Ej=(e,n)=>{e.includes(n)||e.push(n)},oy=(e,n)=>{for(const l of n)e.includes(l)||e.push(l)},cy=({score:e},{score:n})=>n-e,uy=()=>new Map,_o=e=>{const n=new Map;for(const l of Object.keys(e))n.set(parseInt(l,10),e[l]);return n},Eo=async e=>{const n=new Map;let l=0;for(const i of Object.keys(e))n.set(parseInt(i,10),e[i]),++l%1e3===0&&await bb(0);return n},bb=e=>new Promise(n=>setTimeout(n,e)),Tj=/[\n\r\p{Z}\p{P}]+/u;function Nj(e,n){switch(n){case"level":return e.level;case"powderSlots":return e.powderSlots;default:return e.numericIndex[n]??0}}function Mj(e,n){return n.length===0||n.includes(e.category)}function dy(e,n){return n.length===0?!0:e?n.includes(e):!1}function jj(e,n){for(const[l,i]of Object.entries(n.numericRanges)){if(!i)continue;const r=Nj(e,l);if(typeof i.min=="number"&&r<i.min||typeof i.max=="number"&&r>i.max)return!1}return!0}function Dj(e,n){if(n.excludeRestricted&&(e.restricted||e.deprecated)||n.onlyWearableAtLevel!==null&&!xE(e,n.onlyWearableAtLevel))return!1;if(n.onlyClassCompatible){const l=n.classReqs[0]??null;if(!O0(e,l))return!1}return!0}function Cj(e,n){return n.length===0?!0:e.majorIds.length===0?!1:n.every(l=>e.majorIds.includes(l))}function Aj(e,n){return!(!Mj(e,n.categories)||!dy(e.type,n.types)||!dy(e.tier,n.tiers)||n.classReqs.length>0&&(e.classReq===null||!n.classReqs.includes(e.classReq))||!Cj(e,n.majorIds)||!jj(e,n)||!Dj(e,n))}function fy(e,n){switch(n){case"level":return e.level;case"baseDps":return e.roughScoreFields.baseDps;case"ehpProxy":return e.roughScoreFields.ehpProxy;case"offenseScore":return e.roughScoreFields.offense;case"skillPointTotal":return e.roughScoreFields.skillPointTotal;default:return 0}}function Rj(e,n,l){const i=n.trim().toLowerCase();if(!i)return 0;const r=e.displayName.toLowerCase();return r===i?l+5e3:r.startsWith(i)?l+3e3:r.includes(i)?l+1200:e.searchText.includes(i)?l+300:l}function kj(e,n,l){const i=l.sortDescending?-1:1;if(l.sort==="relevance"){if(e.relevance!==n.relevance)return(e.relevance>n.relevance?-1:1)*(l.sortDescending?1:-1)}else{const r=fy(e.item,l.sort),c=fy(n.item,l.sort);if(r!==c)return r<c?-i:i}return e.item.level!==n.item.level?e.item.level<n.item.level?1:-1:e.item.displayName.localeCompare(n.item.displayName)}function zj(){return{categories:{},types:{},tiers:{},majorIds:{}}}function Qd(e,n){n&&(e[n]=(e[n]??0)+1)}class Oj{miniSearch;itemsById;allItems;constructor(n){this.allItems=n,this.itemsById=new Map(n.map(l=>[l.id,l])),this.miniSearch=new qs({fields:["displayName","searchText","majorIdsText"],storeFields:["id"],idField:"id",searchOptions:{boost:{displayName:6,searchText:2,majorIdsText:2},prefix:!0,fuzzy:.2,combineWith:"OR"}}),this.miniSearch.addAll(n.map(l=>({id:l.id,displayName:l.displayName,searchText:l.searchText,majorIdsText:l.majorIdsText})))}search(n){const l=n.text.trim(),i=l?this.miniSearch.search(l,{prefix:!0,fuzzy:.2,boost:{displayName:8,searchText:2,majorIdsText:2}}):[],r=new Map;for(const g of i){const b=this.itemsById.get(g.id);b&&r.set(b.id,Rj(b,l,Number(g.score??0)))}const c=l?[...this.allItems]:this.allItems,u=[],f=zj();for(const g of c){const b=r.get(g.id)??0;if(!(l&&b===0&&!g.searchText.includes(l.toLowerCase()))&&Aj(g,n)){u.push({item:g,relevance:b}),f.categories[g.category]=(f.categories[g.category]??0)+1,Qd(f.types,g.type),Qd(f.tiers,g.tier);for(const v of g.majorIds)Qd(f.majorIds,v)}}u.sort((g,b)=>kj(g,b,n));const p=u.map(({item:g,relevance:b})=>({id:g.id,relevance:b}));return{total:p.length,rows:p,facetCounts:f}}}class Pj{worker=null;fallbackEngine=null;requestId=0;pending=new Map;initialized=!1;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL(""+new URL("search-worker-BUmtuaoB.js",import.meta.url).href,import.meta.url),{type:"module"}),this.worker.onmessage=n=>{const l=n.data,i=this.pending.get(l.requestId);i&&(this.pending.delete(l.requestId),l.type==="error"?i.reject(new Error(l.message)):l.type==="ready"?i.resolve(void 0):i.resolve(l.result))},this.worker.onerror=n=>{console.error(n),this.worker?.terminate(),this.worker=null})}async init(n){if(!this.initialized){if(this.worker){await this.send({type:"init",items:n}),this.initialized=!0;return}this.fallbackEngine=new Oj(n),this.initialized=!0}}async search(n){if(!this.initialized)throw new Error("SearchWorkerClient.init() must be called before search()");if(this.worker)return this.send({type:"search",state:n});if(!this.fallbackEngine)throw new Error("Fallback search engine unavailable");return this.fallbackEngine.search(n)}dispose(){this.worker?.terminate(),this.worker=null,this.fallbackEngine=null,this.pending.clear()}send(n){if(!this.worker)return Promise.reject(new Error("Search worker unavailable"));const l=++this.requestId;return new Promise((i,r)=>{this.pending.set(l,{resolve:i,reject:r}),this.worker.postMessage({...n,requestId:l})})}}function Ds(e,n,l){let i=l.initialDeps??[],r,c=!0;function u(){var f,p,g;let b;l.key&&((f=l.debug)!=null&&f.call(l))&&(b=Date.now());const v=e();if(!(v.length!==i.length||v.some((N,w)=>i[w]!==N)))return r;i=v;let _;if(l.key&&((p=l.debug)!=null&&p.call(l))&&(_=Date.now()),r=n(...v),l.key&&((g=l.debug)!=null&&g.call(l))){const N=Math.round((Date.now()-b)*100)/100,w=Math.round((Date.now()-_)*100)/100,M=w/16,z=(I,O)=>{for(I=String(I);I.length<O;)I=" "+I;return I};console.info(`%c ${z(w,5)} /${z(N,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,l?.key)}return l?.onChange&&!(c&&l.skipInitialOnChange)&&l.onChange(r),c=!1,r}return u.updateDeps=f=>{i=f},u}function hy(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Bj=(e,n)=>Math.abs(e-n)<1.01,Ij=(e,n,l)=>{let i;return function(...r){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,r),l)}},my=e=>{const{offsetWidth:n,offsetHeight:l}=e;return{width:n,height:l}},Lj=e=>e,qj=e=>{const n=Math.max(e.startIndex-e.overscan,0),l=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let r=n;r<=l;r++)i.push(r);return i},Uj=(e,n)=>{const l=e.scrollElement;if(!l)return;const i=e.targetWindow;if(!i)return;const r=u=>{const{width:f,height:p}=u;n({width:Math.round(f),height:Math.round(p)})};if(r(my(l)),!i.ResizeObserver)return()=>{};const c=new i.ResizeObserver(u=>{const f=()=>{const p=u[0];if(p?.borderBoxSize){const g=p.borderBoxSize[0];if(g){r({width:g.inlineSize,height:g.blockSize});return}}r(my(l))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(f):f()});return c.observe(l,{box:"border-box"}),()=>{c.unobserve(l)}},gy={passive:!0},py=typeof window>"u"?!0:"onscrollend"in window,$j=(e,n)=>{const l=e.scrollElement;if(!l)return;const i=e.targetWindow;if(!i)return;let r=0;const c=e.options.useScrollendEvent&&py?()=>{}:Ij(i,()=>{n(r,!1)},e.options.isScrollingResetDelay),u=b=>()=>{const{horizontal:v,isRtl:x}=e.options;r=v?l.scrollLeft*(x&&-1||1):l.scrollTop,c(),n(r,b)},f=u(!0),p=u(!1);l.addEventListener("scroll",f,gy);const g=e.options.useScrollendEvent&&py;return g&&l.addEventListener("scrollend",p,gy),()=>{l.removeEventListener("scroll",f),g&&l.removeEventListener("scrollend",p)}},Hj=(e,n,l)=>{if(n?.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[l.options.horizontal?"inlineSize":"blockSize"])}return e[l.options.horizontal?"offsetWidth":"offsetHeight"]},Zj=(e,{adjustments:n=0,behavior:l},i)=>{var r,c;const u=e+n;(c=(r=i.scrollElement)==null?void 0:r.scrollTo)==null||c.call(r,{[i.options.horizontal?"left":"top"]:u,behavior:l})};class Fj{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let l=null;const i=()=>l||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:l=new this.targetWindow.ResizeObserver(r=>{r.forEach(c=>{const u=()=>{this._measureElement(c.target,c)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()})}));return{disconnect:()=>{var r;(r=i())==null||r.disconnect(),l=null},observe:r=>{var c;return(c=i())==null?void 0:c.observe(r,{box:"border-box"})},unobserve:r=>{var c;return(c=i())==null?void 0:c.unobserve(r)}}})(),this.range=null,this.setOptions=l=>{Object.entries(l).forEach(([i,r])=>{typeof r>"u"&&delete l[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Lj,rangeExtractor:qj,onChange:()=>{},measureElement:Hj,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...l}},this.notify=l=>{var i,r;(r=(i=this.options).onChange)==null||r.call(i,this,l)},this.maybeNotify=Ds(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),l=>{this.notify(l)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(l=>l()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var l;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((l=this.scrollElement)==null?void 0:l.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,c)=>{this.scrollAdjustments=0,this.scrollDirection=c?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=c,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(l,i)=>{const r=new Map,c=new Map;for(let u=i-1;u>=0;u--){const f=l[u];if(r.has(f.lane))continue;const p=c.get(f.lane);if(p==null||f.end>p.end?c.set(f.lane,f):f.end<p.end&&r.set(f.lane,!0),r.size===this.options.lanes)break}return c.size===this.options.lanes?Array.from(c.values()).sort((u,f)=>u.end===f.end?u.index-f.index:u.end-f.end)[0]:void 0},this.getMeasurementOptions=Ds(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(l,i,r,c,u,f)=>(this.prevLanes!==void 0&&this.prevLanes!==f&&(this.lanesChangedFlag=!0),this.prevLanes=f,this.pendingMeasuredCacheIndexes=[],{count:l,paddingStart:i,scrollMargin:r,getItemKey:c,enabled:u,lanes:f}),{key:!1}),this.getMeasurements=Ds(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:l,paddingStart:i,scrollMargin:r,getItemKey:c,enabled:u,lanes:f},p)=>{if(!u)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>l)for(const x of this.laneAssignments.keys())x>=l&&this.laneAssignments.delete(x);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(x=>{this.itemSizeCache.set(x.key,x.size)}));const g=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===l&&(this.lanesSettling=!1);const b=this.measurementsCache.slice(0,g),v=new Array(f).fill(void 0);for(let x=0;x<g;x++){const _=b[x];_&&(v[_.lane]=x)}for(let x=g;x<l;x++){const _=c(x),N=this.laneAssignments.get(x);let w,M;if(N!==void 0&&this.options.lanes>1){w=N;const L=v[w],H=L!==void 0?b[L]:void 0;M=H?H.end+this.options.gap:i+r}else{const L=this.options.lanes===1?b[x-1]:this.getFurthestMeasurement(b,x);M=L?L.end+this.options.gap:i+r,w=L?L.lane:x%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(x,w)}const z=p.get(_),I=typeof z=="number"?z:this.options.estimateSize(x),O=M+I;b[x]={index:x,start:M,size:I,end:O,key:_,lane:w},v[w]=x}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ds(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(l,i,r,c)=>this.range=l.length>0&&i>0?Yj({measurements:l,outerSize:i,scrollOffset:r,lanes:c}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ds(()=>{let l=null,i=null;const r=this.calculateRange();return r&&(l=r.startIndex,i=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,l,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,l,i]},(l,i,r,c,u)=>c===null||u===null?[]:l({startIndex:c,endIndex:u,overscan:i,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=l=>{const i=this.options.indexAttribute,r=l.getAttribute(i);return r?parseInt(r,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(l,i)=>{const r=this.indexFromElement(l),c=this.measurementsCache[r];if(!c)return;const u=c.key,f=this.elementsCache.get(u);f!==l&&(f&&this.observer.unobserve(f),this.observer.observe(l),this.elementsCache.set(u,l)),l.isConnected&&this.resizeItem(r,this.options.measureElement(l,i,this))},this.resizeItem=(l,i)=>{const r=this.measurementsCache[l];if(!r)return;const c=this.itemSizeCache.get(r.key)??r.size,u=i-c;u!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,u,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=u,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,i)),this.notify(!1))},this.measureElement=l=>{if(!l){this.elementsCache.forEach((i,r)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(r))});return}this._measureElement(l,void 0)},this.getVirtualItems=Ds(()=>[this.getVirtualIndexes(),this.getMeasurements()],(l,i)=>{const r=[];for(let c=0,u=l.length;c<u;c++){const f=l[c],p=i[f];r.push(p)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=l=>{const i=this.getMeasurements();if(i.length!==0)return hy(i[xb(0,i.length-1,r=>hy(i[r]).start,l)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const l=this.scrollElement.document.documentElement;return this.options.horizontal?l.scrollWidth-this.scrollElement.innerWidth:l.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(l,i,r=0)=>{if(!this.scrollElement)return 0;const c=this.getSize(),u=this.getScrollOffset();i==="auto"&&(i=l>=u+c?"end":"start"),i==="center"?l+=(r-c)/2:i==="end"&&(l-=c);const f=this.getMaxScrollOffset();return Math.max(Math.min(f,l),0)},this.getOffsetForIndex=(l,i="auto")=>{l=Math.max(0,Math.min(l,this.options.count-1));const r=this.measurementsCache[l];if(!r)return;const c=this.getSize(),u=this.getScrollOffset();if(i==="auto")if(r.end>=u+c-this.options.scrollPaddingEnd)i="end";else if(r.start<=u+this.options.scrollPaddingStart)i="start";else return[u,i];if(i==="end"&&l===this.options.count-1)return[this.getMaxScrollOffset(),i];const f=i==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(f,i,r.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(l,{align:i="start",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(l,i),{adjustments:void 0,behavior:r})},this.scrollToIndex=(l,{align:i="auto",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),l=Math.max(0,Math.min(l,this.options.count-1)),this.currentScrollToIndex=l;let c=0;const u=10,f=g=>{if(!this.targetWindow)return;const b=this.getOffsetForIndex(l,g);if(!b){console.warn("Failed to get offset for index:",l);return}const[v,x]=b;this._scrollToOffset(v,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==l)return;const N=this.getScrollOffset(),w=this.getOffsetForIndex(l,x);if(!w){console.warn("Failed to get offset for index:",l);return}Bj(w[0],N)||p(x)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},p=g=>{this.targetWindow&&this.currentScrollToIndex===l&&(c++,c<u?this.targetWindow.requestAnimationFrame(()=>f(g)):console.warn(`Failed to scroll to index ${l} after ${u} attempts.`))};f(i)},this.scrollBy=(l,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+l,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var l;const i=this.getMeasurements();let r;if(i.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((l=i[i.length-1])==null?void 0:l.end)??0;else{const c=Array(this.options.lanes).fill(null);let u=i.length-1;for(;u>=0&&c.some(f=>f===null);){const f=i[u];c[f.lane]===null&&(c[f.lane]=f.end),u--}r=Math.max(...c.filter(f=>f!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(l,{adjustments:i,behavior:r})=>{this.options.scrollToFn(l,{behavior:r,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(n)}}const xb=(e,n,l,i)=>{for(;e<=n;){const r=(e+n)/2|0,c=l(r);if(c<i)e=r+1;else if(c>i)n=r-1;else return r}return e>0?e-1:0};function Yj({measurements:e,outerSize:n,scrollOffset:l,lanes:i}){const r=e.length-1,c=p=>e[p].start;if(e.length<=i)return{startIndex:0,endIndex:r};let u=xb(0,r,c,l),f=u;if(i===1)for(;f<r&&e[f].end<l+n;)f++;else if(i>1){const p=Array(i).fill(0);for(;f<r&&p.some(b=>b<l+n);){const b=e[f];p[b.lane]=b.end,f++}const g=Array(i).fill(l+n);for(;u>=0&&g.some(b=>b>=l);){const b=e[u];g[b.lane]=b.start,u--}u=Math.max(0,u-u%i),f=Math.min(r,f+(i-1-f%i))}return{startIndex:u,endIndex:f}}const vy=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Gj({useFlushSync:e=!0,...n}){const l=S.useReducer(()=>({}),{})[1],i={...n,onChange:(c,u)=>{var f;e&&u?il.flushSync(l):l(),(f=n.onChange)==null||f.call(n,c,u)}},[r]=S.useState(()=>new Fj(i));return r.setOptions(i),vy(()=>r._didMount(),[]),vy(()=>r._willUpdate()),r}function Vj(e){return Gj({observeElementRect:Uj,observeElementOffset:$j,scrollToFn:Zj,...e})}function ol(e,n,{checkForDefaultPrevented:l=!0}={}){return function(r){if(e?.(r),l===!1||!r.defaultPrevented)return n?.(r)}}function yy(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Sb(...e){return n=>{let l=!1;const i=e.map(r=>{const c=yy(r,n);return!l&&typeof c=="function"&&(l=!0),c});if(l)return()=>{for(let r=0;r<i.length;r++){const c=i[r];typeof c=="function"?c():yy(e[r],null)}}}}function Hl(...e){return S.useCallback(Sb(...e),e)}function Kj(e,n){const l=S.createContext(n),i=c=>{const{children:u,...f}=c,p=S.useMemo(()=>f,Object.values(f));return m.jsx(l.Provider,{value:p,children:u})};i.displayName=e+"Provider";function r(c){const u=S.useContext(l);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,r]}function Wj(e,n=[]){let l=[];function i(c,u){const f=S.createContext(u),p=l.length;l=[...l,u];const g=v=>{const{scope:x,children:_,...N}=v,w=x?.[e]?.[p]||f,M=S.useMemo(()=>N,Object.values(N));return m.jsx(w.Provider,{value:M,children:_})};g.displayName=c+"Provider";function b(v,x){const _=x?.[e]?.[p]||f,N=S.useContext(_);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[g,b]}const r=()=>{const c=l.map(u=>S.createContext(u));return function(f){const p=f?.[e]||c;return S.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return r.scopeName=e,[i,Xj(r,...n)]}function Xj(...e){const n=e[0];if(e.length===1)return n;const l=()=>{const i=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const u=i.reduce((f,{useScope:p,scopeName:g})=>{const v=p(c)[`__scope${g}`];return{...f,...v}},{});return S.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return l.scopeName=n.scopeName,l}var Qi=globalThis?.document?S.useLayoutEffect:()=>{},Qj=r0[" useId ".trim().toString()]||(()=>{}),Jj=0;function Jd(e){const[n,l]=S.useState(Qj());return Qi(()=>{l(i=>i??String(Jj++))},[e]),e||(n?`radix-${n}`:"")}var eD=r0[" useInsertionEffect ".trim().toString()]||Qi;function tD({prop:e,defaultProp:n,onChange:l=()=>{},caller:i}){const[r,c,u]=nD({defaultProp:n,onChange:l}),f=e!==void 0,p=f?e:r;{const b=S.useRef(e!==void 0);S.useEffect(()=>{const v=b.current;v!==f&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=f},[f,i])}const g=S.useCallback(b=>{if(f){const v=aD(b)?b(e):b;v!==e&&u.current?.(v)}else c(b)},[f,e,c,u]);return[p,g]}function nD({defaultProp:e,onChange:n}){const[l,i]=S.useState(e),r=S.useRef(l),c=S.useRef(n);return eD(()=>{c.current=n},[n]),S.useEffect(()=>{r.current!==l&&(c.current?.(l),r.current=l)},[l,r]),[l,i,c]}function aD(e){return typeof e=="function"}function wb(e){const n=lD(e),l=S.forwardRef((i,r)=>{const{children:c,...u}=i,f=S.Children.toArray(c),p=f.find(iD);if(p){const g=p.props.children,b=f.map(v=>v===p?S.Children.count(g)>1?S.Children.only(null):S.isValidElement(g)?g.props.children:null:v);return m.jsx(n,{...u,ref:r,children:S.isValidElement(g)?S.cloneElement(g,void 0,b):null})}return m.jsx(n,{...u,ref:r,children:c})});return l.displayName=`${e}.Slot`,l}function lD(e){const n=S.forwardRef((l,i)=>{const{children:r,...c}=l;if(S.isValidElement(r)){const u=oD(r),f=rD(c,r.props);return r.type!==S.Fragment&&(f.ref=i?Sb(i,u):u),S.cloneElement(r,f)}return S.Children.count(r)>1?S.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var sD=Symbol("radix.slottable");function iD(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sD}function rD(e,n){const l={...n};for(const i in n){const r=e[i],c=n[i];/^on[A-Z]/.test(i)?r&&c?l[i]=(...f)=>{const p=c(...f);return r(...f),p}:r&&(l[i]=r):i==="style"?l[i]={...r,...c}:i==="className"&&(l[i]=[r,c].filter(Boolean).join(" "))}return{...e,...l}}function oD(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?e.props.ref:e.props.ref||e.ref)}var cD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],za=cD.reduce((e,n)=>{const l=wb(`Primitive.${n}`),i=S.forwardRef((r,c)=>{const{asChild:u,...f}=r,p=u?l:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(p,{...f,ref:c})});return i.displayName=`Primitive.${n}`,{...e,[n]:i}},{});function uD(e,n){e&&il.flushSync(()=>e.dispatchEvent(n))}function Ji(e){const n=S.useRef(e);return S.useEffect(()=>{n.current=e}),S.useMemo(()=>(...l)=>n.current?.(...l),[])}function dD(e,n=globalThis?.document){const l=Ji(e);S.useEffect(()=>{const i=r=>{r.key==="Escape"&&l(r)};return n.addEventListener("keydown",i,{capture:!0}),()=>n.removeEventListener("keydown",i,{capture:!0})},[l,n])}var fD="DismissableLayer",Rf="dismissableLayer.update",hD="dismissableLayer.pointerDownOutside",mD="dismissableLayer.focusOutside",by,_b=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eb=S.forwardRef((e,n)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...p}=e,g=S.useContext(_b),[b,v]=S.useState(null),x=b?.ownerDocument??globalThis?.document,[,_]=S.useState({}),N=Hl(n,j=>v(j)),w=Array.from(g.layers),[M]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),z=w.indexOf(M),I=b?w.indexOf(b):-1,O=g.layersWithOutsidePointerEventsDisabled.size>0,L=I>=z,H=vD(j=>{const F=j.target,se=[...g.branches].some(re=>re.contains(F));!L||se||(r?.(j),u?.(j),j.defaultPrevented||f?.())},x),A=yD(j=>{const F=j.target;[...g.branches].some(re=>re.contains(F))||(c?.(j),u?.(j),j.defaultPrevented||f?.())},x);return dD(j=>{I===g.layers.size-1&&(i?.(j),!j.defaultPrevented&&f&&(j.preventDefault(),f()))},x),S.useEffect(()=>{if(b)return l&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(by=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(b)),g.layers.add(b),xy(),()=>{l&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=by)}},[b,x,l,g]),S.useEffect(()=>()=>{b&&(g.layers.delete(b),g.layersWithOutsidePointerEventsDisabled.delete(b),xy())},[b,g]),S.useEffect(()=>{const j=()=>_({});return document.addEventListener(Rf,j),()=>document.removeEventListener(Rf,j)},[]),m.jsx(za.div,{...p,ref:N,style:{pointerEvents:O?L?"auto":"none":void 0,...e.style},onFocusCapture:ol(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ol(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ol(e.onPointerDownCapture,H.onPointerDownCapture)})});Eb.displayName=fD;var gD="DismissableLayerBranch",pD=S.forwardRef((e,n)=>{const l=S.useContext(_b),i=S.useRef(null),r=Hl(n,i);return S.useEffect(()=>{const c=i.current;if(c)return l.branches.add(c),()=>{l.branches.delete(c)}},[l.branches]),m.jsx(za.div,{...e,ref:r})});pD.displayName=gD;function vD(e,n=globalThis?.document){const l=Ji(e),i=S.useRef(!1),r=S.useRef(()=>{});return S.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let p=function(){Tb(hD,l,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",r.current),r.current=p,n.addEventListener("click",r.current,{once:!0})):p()}else n.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",c),n.removeEventListener("click",r.current)}},[n,l]),{onPointerDownCapture:()=>i.current=!0}}function yD(e,n=globalThis?.document){const l=Ji(e),i=S.useRef(!1);return S.useEffect(()=>{const r=c=>{c.target&&!i.current&&Tb(mD,l,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",r),()=>n.removeEventListener("focusin",r)},[n,l]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function xy(){const e=new CustomEvent(Rf);document.dispatchEvent(e)}function Tb(e,n,l,{discrete:i}){const r=l.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:l});n&&r.addEventListener(e,n,{once:!0}),i?uD(r,c):r.dispatchEvent(c)}var ef="focusScope.autoFocusOnMount",tf="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0},bD="FocusScope",Nb=S.forwardRef((e,n)=>{const{loop:l=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:c,...u}=e,[f,p]=S.useState(null),g=Ji(r),b=Ji(c),v=S.useRef(null),x=Hl(n,w=>p(w)),_=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let w=function(O){if(_.paused||!f)return;const L=O.target;f.contains(L)?v.current=L:ll(v.current,{select:!0})},M=function(O){if(_.paused||!f)return;const L=O.relatedTarget;L!==null&&(f.contains(L)||ll(v.current,{select:!0}))},z=function(O){if(document.activeElement===document.body)for(const H of O)H.removedNodes.length>0&&ll(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",M);const I=new MutationObserver(z);return f&&I.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",M),I.disconnect()}}},[i,f,_.paused]),S.useEffect(()=>{if(f){_y.add(_);const w=document.activeElement;if(!f.contains(w)){const z=new CustomEvent(ef,Sy);f.addEventListener(ef,g),f.dispatchEvent(z),z.defaultPrevented||(xD(TD(Mb(f)),{select:!0}),document.activeElement===w&&ll(f))}return()=>{f.removeEventListener(ef,g),setTimeout(()=>{const z=new CustomEvent(tf,Sy);f.addEventListener(tf,b),f.dispatchEvent(z),z.defaultPrevented||ll(w??document.body,{select:!0}),f.removeEventListener(tf,b),_y.remove(_)},0)}}},[f,g,b,_]);const N=S.useCallback(w=>{if(!l&&!i||_.paused)return;const M=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,z=document.activeElement;if(M&&z){const I=w.currentTarget,[O,L]=SD(I);O&&L?!w.shiftKey&&z===L?(w.preventDefault(),l&&ll(O,{select:!0})):w.shiftKey&&z===O&&(w.preventDefault(),l&&ll(L,{select:!0})):z===I&&w.preventDefault()}},[l,i,_.paused]);return m.jsx(za.div,{tabIndex:-1,...u,ref:x,onKeyDown:N})});Nb.displayName=bD;function xD(e,{select:n=!1}={}){const l=document.activeElement;for(const i of e)if(ll(i,{select:n}),document.activeElement!==l)return}function SD(e){const n=Mb(e),l=wy(n,e),i=wy(n.reverse(),e);return[l,i]}function Mb(e){const n=[],l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)n.push(l.currentNode);return n}function wy(e,n){for(const l of e)if(!wD(l,{upTo:n}))return l}function wD(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _D(e){return e instanceof HTMLInputElement&&"select"in e}function ll(e,{select:n=!1}={}){if(e&&e.focus){const l=document.activeElement;e.focus({preventScroll:!0}),e!==l&&_D(e)&&n&&e.select()}}var _y=ED();function ED(){let e=[];return{add(n){const l=e[0];n!==l&&l?.pause(),e=Ey(e,n),e.unshift(n)},remove(n){e=Ey(e,n),e[0]?.resume()}}}function Ey(e,n){const l=[...e],i=l.indexOf(n);return i!==-1&&l.splice(i,1),l}function TD(e){return e.filter(n=>n.tagName!=="A")}var ND="Portal",jb=S.forwardRef((e,n)=>{const{container:l,...i}=e,[r,c]=S.useState(!1);Qi(()=>c(!0),[]);const u=l||r&&globalThis?.document?.body;return u?ow.createPortal(m.jsx(za.div,{...i,ref:n}),u):null});jb.displayName=ND;function MD(e,n){return S.useReducer((l,i)=>n[l][i]??l,e)}var vc=e=>{const{present:n,children:l}=e,i=jD(n),r=typeof l=="function"?l({present:i.isPresent}):S.Children.only(l),c=Hl(i.ref,DD(r));return typeof l=="function"||i.isPresent?S.cloneElement(r,{ref:c}):null};vc.displayName="Presence";function jD(e){const[n,l]=S.useState(),i=S.useRef(null),r=S.useRef(e),c=S.useRef("none"),u=e?"mounted":"unmounted",[f,p]=MD(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const g=To(i.current);c.current=f==="mounted"?g:"none"},[f]),Qi(()=>{const g=i.current,b=r.current;if(b!==e){const x=c.current,_=To(g);e?p("MOUNT"):_==="none"||g?.display==="none"?p("UNMOUNT"):p(b&&x!==_?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,p]),Qi(()=>{if(n){let g;const b=n.ownerDocument.defaultView??window,v=_=>{const w=To(i.current).includes(CSS.escape(_.animationName));if(_.target===n&&w&&(p("ANIMATION_END"),!r.current)){const M=n.style.animationFillMode;n.style.animationFillMode="forwards",g=b.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=M)})}},x=_=>{_.target===n&&(c.current=To(i.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",v),n.addEventListener("animationend",v),()=>{b.clearTimeout(g),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",v),n.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:S.useCallback(g=>{i.current=g?getComputedStyle(g):null,l(g)},[])}}function To(e){return e?.animationName||"none"}function DD(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning;return l?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,l=n&&"isReactWarning"in n&&n.isReactWarning,l?e.props.ref:e.props.ref||e.ref)}var nf=0;function CD(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ty()),document.body.insertAdjacentElement("beforeend",e[1]??Ty()),nf++,()=>{nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),nf--}},[])}function Ty(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ca=function(){return ca=Object.assign||function(n){for(var l,i=1,r=arguments.length;i<r;i++){l=arguments[i];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])}return n},ca.apply(this,arguments)};function Db(e,n){var l={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(l[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(l[i[r]]=e[i[r]]);return l}function AD(e,n,l){if(l||arguments.length===2)for(var i=0,r=n.length,c;i<r;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}var Bo="right-scroll-bar-position",Io="width-before-scroll-bar",RD="with-scroll-bars-hidden",kD="--removed-body-scroll-bar-size";function af(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function zD(e,n){var l=S.useState(function(){return{value:e,callback:n,facade:{get current(){return l.value},set current(i){var r=l.value;r!==i&&(l.value=i,l.callback(i,r))}}}})[0];return l.callback=n,l.facade}var OD=typeof window<"u"?S.useLayoutEffect:S.useEffect,Ny=new WeakMap;function PD(e,n){var l=zD(null,function(i){return e.forEach(function(r){return af(r,i)})});return OD(function(){var i=Ny.get(l);if(i){var r=new Set(i),c=new Set(e),u=l.current;r.forEach(function(f){c.has(f)||af(f,null)}),c.forEach(function(f){r.has(f)||af(f,u)})}Ny.set(l,e)},[e]),l}function BD(e){return e}function ID(e,n){n===void 0&&(n=BD);var l=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:e},useMedium:function(c){var u=n(c,i);return l.push(u),function(){l=l.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;l.length;){var u=l;l=[],u.forEach(c)}l={push:function(f){return c(f)},filter:function(){return l}}},assignMedium:function(c){i=!0;var u=[];if(l.length){var f=l;l=[],f.forEach(c),u=l}var p=function(){var b=u;u=[],b.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),l={push:function(b){u.push(b),g()},filter:function(b){return u=u.filter(b),l}}}};return r}function LD(e){e===void 0&&(e={});var n=ID(null);return n.options=ca({async:!0,ssr:!1},e),n}var Cb=function(e){var n=e.sideCar,l=Db(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,ca({},l))};Cb.isSideCarExport=!0;function qD(e,n){return e.useMedium(n),Cb}var Ab=LD(),lf=function(){},yc=S.forwardRef(function(e,n){var l=S.useRef(null),i=S.useState({onScrollCapture:lf,onWheelCapture:lf,onTouchMoveCapture:lf}),r=i[0],c=i[1],u=e.forwardProps,f=e.children,p=e.className,g=e.removeScrollBar,b=e.enabled,v=e.shards,x=e.sideCar,_=e.noRelative,N=e.noIsolation,w=e.inert,M=e.allowPinchZoom,z=e.as,I=z===void 0?"div":z,O=e.gapMode,L=Db(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=x,A=PD([l,n]),j=ca(ca({},L),r);return S.createElement(S.Fragment,null,b&&S.createElement(H,{sideCar:Ab,removeScrollBar:g,shards:v,noRelative:_,noIsolation:N,inert:w,setCallbacks:c,allowPinchZoom:!!M,lockRef:l,gapMode:O}),u?S.cloneElement(S.Children.only(f),ca(ca({},j),{ref:A})):S.createElement(I,ca({},j,{className:p,ref:A}),f))});yc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yc.classNames={fullWidth:Io,zeroRight:Bo};var UD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $D(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=UD();return n&&e.setAttribute("nonce",n),e}function HD(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function ZD(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var FD=function(){var e=0,n=null;return{add:function(l){e==0&&(n=$D())&&(HD(n,l),ZD(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},YD=function(){var e=FD();return function(n,l){S.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&l])}},Rb=function(){var e=YD(),n=function(l){var i=l.styles,r=l.dynamic;return e(i,r),null};return n},GD={left:0,top:0,right:0,gap:0},sf=function(e){return parseInt(e||"",10)||0},VD=function(e){var n=window.getComputedStyle(document.body),l=n[e==="padding"?"paddingLeft":"marginLeft"],i=n[e==="padding"?"paddingTop":"marginTop"],r=n[e==="padding"?"paddingRight":"marginRight"];return[sf(l),sf(i),sf(r)]},KD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GD;var n=VD(e),l=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-l+n[2]-n[0])}},WD=Rb(),Us="data-scroll-locked",XD=function(e,n,l,i){var r=e.left,c=e.top,u=e.right,f=e.gap;return l===void 0&&(l="margin"),`
  .`.concat(RD,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Us,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),l==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),l==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bo,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Io,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Bo," .").concat(Bo,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Io," .").concat(Io,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Us,`] {
    `).concat(kD,": ").concat(f,`px;
  }
`)},My=function(){var e=parseInt(document.body.getAttribute(Us)||"0",10);return isFinite(e)?e:0},QD=function(){S.useEffect(function(){return document.body.setAttribute(Us,(My()+1).toString()),function(){var e=My()-1;e<=0?document.body.removeAttribute(Us):document.body.setAttribute(Us,e.toString())}},[])},JD=function(e){var n=e.noRelative,l=e.noImportant,i=e.gapMode,r=i===void 0?"margin":i;QD();var c=S.useMemo(function(){return KD(r)},[r]);return S.createElement(WD,{styles:XD(c,!n,r,l?"":"!important")})},kf=!1;if(typeof window<"u")try{var No=Object.defineProperty({},"passive",{get:function(){return kf=!0,!0}});window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{kf=!1}var Cs=kf?{passive:!1}:!1,eC=function(e){return e.tagName==="TEXTAREA"},kb=function(e,n){if(!(e instanceof Element))return!1;var l=window.getComputedStyle(e);return l[n]!=="hidden"&&!(l.overflowY===l.overflowX&&!eC(e)&&l[n]==="visible")},tC=function(e){return kb(e,"overflowY")},nC=function(e){return kb(e,"overflowX")},jy=function(e,n){var l=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=zb(e,i);if(r){var c=Ob(e,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==l.body);return!1},aC=function(e){var n=e.scrollTop,l=e.scrollHeight,i=e.clientHeight;return[n,l,i]},lC=function(e){var n=e.scrollLeft,l=e.scrollWidth,i=e.clientWidth;return[n,l,i]},zb=function(e,n){return e==="v"?tC(n):nC(n)},Ob=function(e,n){return e==="v"?aC(n):lC(n)},sC=function(e,n){return e==="h"&&n==="rtl"?-1:1},iC=function(e,n,l,i,r){var c=sC(e,window.getComputedStyle(n).direction),u=c*i,f=l.target,p=n.contains(f),g=!1,b=u>0,v=0,x=0;do{if(!f)break;var _=Ob(e,f),N=_[0],w=_[1],M=_[2],z=w-M-c*N;(N||z)&&zb(e,f)&&(v+=z,x+=N);var I=f.parentNode;f=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!p&&f!==document.body||p&&(n.contains(f)||n===f));return(b&&Math.abs(v)<1||!b&&Math.abs(x)<1)&&(g=!0),g},Mo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dy=function(e){return[e.deltaX,e.deltaY]},Cy=function(e){return e&&"current"in e?e.current:e},rC=function(e,n){return e[0]===n[0]&&e[1]===n[1]},oC=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cC=0,As=[];function uC(e){var n=S.useRef([]),l=S.useRef([0,0]),i=S.useRef(),r=S.useState(cC++)[0],c=S.useState(Rb)[0],u=S.useRef(e);S.useEffect(function(){u.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var w=AD([e.lockRef.current],(e.shards||[]).map(Cy),!0).filter(Boolean);return w.forEach(function(M){return M.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var f=S.useCallback(function(w,M){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var z=Mo(w),I=l.current,O="deltaX"in w?w.deltaX:I[0]-z[0],L="deltaY"in w?w.deltaY:I[1]-z[1],H,A=w.target,j=Math.abs(O)>Math.abs(L)?"h":"v";if("touches"in w&&j==="h"&&A.type==="range")return!1;var F=window.getSelection(),se=F&&F.anchorNode,re=se?se===A||se.contains(A):!1;if(re)return!1;var Q=jy(j,A);if(!Q)return!0;if(Q?H=j:(H=j==="v"?"h":"v",Q=jy(j,A)),!Q)return!1;if(!i.current&&"changedTouches"in w&&(O||L)&&(i.current=H),!H)return!0;var ce=i.current||H;return iC(ce,M,w,ce==="h"?O:L)},[]),p=S.useCallback(function(w){var M=w;if(!(!As.length||As[As.length-1]!==c)){var z="deltaY"in M?Dy(M):Mo(M),I=n.current.filter(function(H){return H.name===M.type&&(H.target===M.target||M.target===H.shadowParent)&&rC(H.delta,z)})[0];if(I&&I.should){M.cancelable&&M.preventDefault();return}if(!I){var O=(u.current.shards||[]).map(Cy).filter(Boolean).filter(function(H){return H.contains(M.target)}),L=O.length>0?f(M,O[0]):!u.current.noIsolation;L&&M.cancelable&&M.preventDefault()}}},[]),g=S.useCallback(function(w,M,z,I){var O={name:w,delta:M,target:z,should:I,shadowParent:dC(z)};n.current.push(O),setTimeout(function(){n.current=n.current.filter(function(L){return L!==O})},1)},[]),b=S.useCallback(function(w){l.current=Mo(w),i.current=void 0},[]),v=S.useCallback(function(w){g(w.type,Dy(w),w.target,f(w,e.lockRef.current))},[]),x=S.useCallback(function(w){g(w.type,Mo(w),w.target,f(w,e.lockRef.current))},[]);S.useEffect(function(){return As.push(c),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",p,Cs),document.addEventListener("touchmove",p,Cs),document.addEventListener("touchstart",b,Cs),function(){As=As.filter(function(w){return w!==c}),document.removeEventListener("wheel",p,Cs),document.removeEventListener("touchmove",p,Cs),document.removeEventListener("touchstart",b,Cs)}},[]);var _=e.removeScrollBar,N=e.inert;return S.createElement(S.Fragment,null,N?S.createElement(c,{styles:oC(r)}):null,_?S.createElement(JD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dC(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const fC=qD(Ab,uC);var Pb=S.forwardRef(function(e,n){return S.createElement(yc,ca({},e,{ref:n,sideCar:fC}))});Pb.classNames=yc.classNames;var hC=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Rs=new WeakMap,jo=new WeakMap,Do={},rf=0,Bb=function(e){return e&&(e.host||Bb(e.parentNode))},mC=function(e,n){return n.map(function(l){if(e.contains(l))return l;var i=Bb(l);return i&&e.contains(i)?i:(console.error("aria-hidden",l,"in not contained inside",e,". Doing nothing"),null)}).filter(function(l){return!!l})},gC=function(e,n,l,i){var r=mC(n,Array.isArray(e)?e:[e]);Do[l]||(Do[l]=new WeakMap);var c=Do[l],u=[],f=new Set,p=new Set(r),g=function(v){!v||f.has(v)||(f.add(v),g(v.parentNode))};r.forEach(g);var b=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(x){if(f.has(x))b(x);else try{var _=x.getAttribute(i),N=_!==null&&_!=="false",w=(Rs.get(x)||0)+1,M=(c.get(x)||0)+1;Rs.set(x,w),c.set(x,M),u.push(x),w===1&&N&&jo.set(x,!0),M===1&&x.setAttribute(l,"true"),N||x.setAttribute(i,"true")}catch(z){console.error("aria-hidden: cannot operate on ",x,z)}})};return b(n),f.clear(),rf++,function(){u.forEach(function(v){var x=Rs.get(v)-1,_=c.get(v)-1;Rs.set(v,x),c.set(v,_),x||(jo.has(v)||v.removeAttribute(i),jo.delete(v)),_||v.removeAttribute(l)}),rf--,rf||(Rs=new WeakMap,Rs=new WeakMap,jo=new WeakMap,Do={})}},pC=function(e,n,l){l===void 0&&(l="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=hC(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),gC(i,r,l,"aria-hidden")):function(){return null}},bc="Dialog",[Ib]=Wj(bc),[vC,na]=Ib(bc),Lb=e=>{const{__scopeDialog:n,children:l,open:i,defaultOpen:r,onOpenChange:c,modal:u=!0}=e,f=S.useRef(null),p=S.useRef(null),[g,b]=tD({prop:i,defaultProp:r??!1,onChange:c,caller:bc});return m.jsx(vC,{scope:n,triggerRef:f,contentRef:p,contentId:Jd(),titleId:Jd(),descriptionId:Jd(),open:g,onOpenChange:b,onOpenToggle:S.useCallback(()=>b(v=>!v),[b]),modal:u,children:l})};Lb.displayName=bc;var qb="DialogTrigger",yC=S.forwardRef((e,n)=>{const{__scopeDialog:l,...i}=e,r=na(qb,l),c=Hl(n,r.triggerRef);return m.jsx(za.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":hh(r.open),...i,ref:c,onClick:ol(e.onClick,r.onOpenToggle)})});yC.displayName=qb;var dh="DialogPortal",[bC,Ub]=Ib(dh,{forceMount:void 0}),$b=e=>{const{__scopeDialog:n,forceMount:l,children:i,container:r}=e,c=na(dh,n);return m.jsx(bC,{scope:n,forceMount:l,children:S.Children.map(i,u=>m.jsx(vc,{present:l||c.open,children:m.jsx(jb,{asChild:!0,container:r,children:u})}))})};$b.displayName=dh;var ec="DialogOverlay",Hb=S.forwardRef((e,n)=>{const l=Ub(ec,e.__scopeDialog),{forceMount:i=l.forceMount,...r}=e,c=na(ec,e.__scopeDialog);return c.modal?m.jsx(vc,{present:i||c.open,children:m.jsx(SC,{...r,ref:n})}):null});Hb.displayName=ec;var xC=wb("DialogOverlay.RemoveScroll"),SC=S.forwardRef((e,n)=>{const{__scopeDialog:l,...i}=e,r=na(ec,l);return m.jsx(Pb,{as:xC,allowPinchZoom:!0,shards:[r.contentRef],children:m.jsx(za.div,{"data-state":hh(r.open),...i,ref:n,style:{pointerEvents:"auto",...i.style}})})}),Ll="DialogContent",Zb=S.forwardRef((e,n)=>{const l=Ub(Ll,e.__scopeDialog),{forceMount:i=l.forceMount,...r}=e,c=na(Ll,e.__scopeDialog);return m.jsx(vc,{present:i||c.open,children:c.modal?m.jsx(wC,{...r,ref:n}):m.jsx(_C,{...r,ref:n})})});Zb.displayName=Ll;var wC=S.forwardRef((e,n)=>{const l=na(Ll,e.__scopeDialog),i=S.useRef(null),r=Hl(n,l.contentRef,i);return S.useEffect(()=>{const c=i.current;if(c)return pC(c)},[]),m.jsx(Fb,{...e,ref:r,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ol(e.onCloseAutoFocus,c=>{c.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:ol(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:ol(e.onFocusOutside,c=>c.preventDefault())})}),_C=S.forwardRef((e,n)=>{const l=na(Ll,e.__scopeDialog),i=S.useRef(!1),r=S.useRef(!1);return m.jsx(Fb,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||l.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const u=c.target;l.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&r.current&&c.preventDefault()}})}),Fb=S.forwardRef((e,n)=>{const{__scopeDialog:l,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:c,...u}=e,f=na(Ll,l),p=S.useRef(null),g=Hl(n,p);return CD(),m.jsxs(m.Fragment,{children:[m.jsx(Nb,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:c,children:m.jsx(Eb,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":hh(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(EC,{titleId:f.titleId}),m.jsx(NC,{contentRef:p,descriptionId:f.descriptionId})]})]})}),fh="DialogTitle",Yb=S.forwardRef((e,n)=>{const{__scopeDialog:l,...i}=e,r=na(fh,l);return m.jsx(za.h2,{id:r.titleId,...i,ref:n})});Yb.displayName=fh;var Gb="DialogDescription",Vb=S.forwardRef((e,n)=>{const{__scopeDialog:l,...i}=e,r=na(Gb,l);return m.jsx(za.p,{id:r.descriptionId,...i,ref:n})});Vb.displayName=Gb;var Kb="DialogClose",Wb=S.forwardRef((e,n)=>{const{__scopeDialog:l,...i}=e,r=na(Kb,l);return m.jsx(za.button,{type:"button",...i,ref:n,onClick:ol(e.onClick,()=>r.onOpenChange(!1))})});Wb.displayName=Kb;function hh(e){return e?"open":"closed"}var Xb="DialogTitleWarning",[qk,Qb]=Kj(Xb,{contentName:Ll,titleName:fh,docsSlug:"dialog"}),EC=({titleId:e})=>{const n=Qb(Xb),l=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(l))},[l,e]),null},TC="DialogDescriptionWarning",NC=({contentRef:e,descriptionId:n})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qb(TC).contentName}}.`;return S.useEffect(()=>{const r=e.current?.getAttribute("aria-describedby");n&&r&&(document.getElementById(n)||console.warn(i))},[i,e,n]),null},MC=Lb,jC=$b,DC=Hb,CC=Zb,AC=Yb,RC=Vb,kC=Wb;function Jb(e){var n,l,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(n=0;n<r;n++)e[n]&&(l=Jb(e[n]))&&(i&&(i+=" "),i+=l)}else for(l in e)e[l]&&(i&&(i+=" "),i+=l);return i}function zC(){for(var e,n,l=0,i="",r=arguments.length;l<r;l++)(e=arguments[l])&&(n=Jb(e))&&(i&&(i+=" "),i+=n);return i}function bt(...e){return zC(e)}function Re(e){return m.jsx("button",{type:e.type??"button",onClick:e.onClick,className:bt("wb-button",e.className,e.disabled&&"opacity-50 cursor-not-allowed"),"data-variant":e.variant==="default"?void 0:e.variant,title:e.title,disabled:e.disabled,children:e.children})}function $s(e){return m.jsxs("section",{className:bt("wb-panel rounded-2xl",e.className),children:[(e.title||e.headerRight)&&m.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-[var(--wb-border-muted)] px-4 py-3",children:[m.jsx("div",{className:"text-sm font-semibold tracking-wide text-[var(--wb-text)]",children:e.title}),e.headerRight?m.jsx("div",{className:"flex items-center gap-2",children:e.headerRight}):null]}),m.jsx("div",{className:"min-h-0",children:e.children})]})}function Je(e){return m.jsx("label",{className:bt("mb-1 block text-xs font-medium uppercase tracking-wide text-[var(--wb-muted)]",e.className),children:e.children})}function ct(e){return m.jsx("button",{type:"button",className:bt("wb-chip",e.className,e.disabled&&"opacity-50 cursor-not-allowed"),"data-active":e.active?"true":"false",onClick:e.disabled?void 0:e.onClick,title:e.title,disabled:e.disabled,children:e.children})}function Co(e){const n=e.delta,l=n==null?"":n>0?"text-emerald-300":n<0?"text-rose-300":"text-slate-300";return m.jsxs("div",{className:bt("wb-card p-3",e.className),children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:e.label}),m.jsx("div",{className:bt("mt-1 text-lg font-semibold",e.valueClassName),children:e.value}),n!=null?m.jsxs("div",{className:bt("mt-1 text-xs",l),children:[n>0?"+":"",Math.round(n)]}):null]})}function Hs(e){return m.jsx("div",{className:bt("wb-scrollbar min-h-0 overflow-auto",e.className),children:e.children})}function mh(e){return m.jsx(MC,{open:e.open,onOpenChange:e.onOpenChange,children:m.jsxs(jC,{children:[m.jsx(DC,{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm"}),m.jsxs(CC,{className:bt("fixed left-1/2 top-1/2 z-50 w-[min(95vw,1100px)] -translate-x-1/2 -translate-y-1/2 rounded-2xl border border-[var(--wb-border)] bg-[#0d1325] shadow-2xl",e.className),children:[m.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-[var(--wb-border-muted)] px-5 py-4",children:[m.jsxs("div",{children:[m.jsx(AC,{className:"text-base font-semibold",children:e.title}),e.description?m.jsx(RC,{className:"mt-1 text-sm text-[var(--wb-muted)]",children:e.description}):null]}),m.jsx(kC,{asChild:!0,children:m.jsx("button",{className:"rounded-lg border border-[var(--wb-border)] p-2 hover:bg-white/5","aria-label":"Close",children:m.jsx(yE,{size:16})})})]}),m.jsx("div",{className:"max-h-[70vh] overflow-auto px-5 py-4",children:e.children}),e.footer?m.jsx("div",{className:"border-t border-[var(--wb-border-muted)] px-5 py-4",children:e.footer}):null]})]})})}function Ra(e){return m.jsxs("div",{children:[m.jsx(Je,{children:e.label}),m.jsx("input",{className:"wb-input",type:"number",value:e.value??"",min:e.min,max:e.max,step:e.step??1,placeholder:e.placeholder,onChange:n=>{const l=n.target.value.trim();e.onChange(l===""?null:Number(l))}})]})}const OC={bow:"0 0",spear:"9.090909090909088% 0",wand:"18.181818181818183% 0",dagger:"27.27272727272727% 0",relik:"36.36363636363637% 0",helmet:"45.45454545454546% 0",chestplate:"54.54545454545454% 0",leggings:"63.63636363636363% 0",boots:"72.72727272727272% 0",ring:"81.81818181818181% 0",bracelet:"90.90909090909092% 0",necklace:"100% 0"};function PC(e){return e.category==="weapon"?e.type:e.category}function BC(e){const n=PC(e.item),l=OC[n],i="./media/items/new.png";return l?m.jsx("div",{className:"relative h-9 w-9 shrink-0 overflow-hidden rounded-lg border border-[var(--wb-border-muted)] bg-black/20",title:`${e.item.type} icon`,children:m.jsx("div",{"aria-hidden":!0,className:"absolute inset-[3px] rounded-[6px]",style:{backgroundImage:`url(${i})`,backgroundPosition:l,backgroundSize:"1200% 100%",backgroundRepeat:"no-repeat",imageRendering:"pixelated"}})}):m.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg border border-[var(--wb-border-muted)] bg-black/20 text-xs text-[var(--wb-muted)]",children:"?"})}function IC(e){switch(e){case"Mythic":return"text-violet-300";case"Fabled":return"text-rose-300";case"Legendary":return"text-cyan-300";case"Rare":return"text-fuchsia-300";case"Unique":return"text-amber-300";case"Set":return"text-emerald-300";default:return"text-slate-200"}}function LC(e){const n=[{label:"S",value:e.numeric.reqStr},{label:"D",value:e.numeric.reqDex},{label:"I",value:e.numeric.reqInt},{label:"F",value:e.numeric.reqDef},{label:"A",value:e.numeric.reqAgi}].filter(l=>l.value>0);return n.length===0?null:n.map(l=>`${l.label}${l.value}`).join(" ")}function qC(e){const n=[{label:"+S",value:e.numeric.spStr},{label:"+D",value:e.numeric.spDex},{label:"+I",value:e.numeric.spInt},{label:"+F",value:e.numeric.spDef},{label:"+A",value:e.numeric.spAgi}].filter(l=>l.value!==0);return n.length===0?null:n.map(l=>`${l.label}${l.value}`).join(" ")}function UC(e){const n=e.legacyRaw,l=[["N",typeof n.nDam=="string"?n.nDam:""],["E",typeof n.eDam=="string"?n.eDam:""],["T",typeof n.tDam=="string"?n.tDam:""],["W",typeof n.wDam=="string"?n.wDam:""],["F",typeof n.fDam=="string"?n.fDam:""],["A",typeof n.aDam=="string"?n.aDam:""]].filter(([,i])=>i&&i!=="0-0");return l.length===0?null:l.map(([i,r])=>`${i}:${r}`).join("  ")}function $C(e){const n=[];return e.numeric.baseDps>0&&n.push(`DPS ${Math.round(e.numeric.baseDps)}`),e.numeric.hp+e.numeric.hpBonus!==0&&n.push(`HP ${Math.round(e.numeric.hp+e.numeric.hpBonus)}`),e.numeric.mr!==0&&n.push(`MR ${e.numeric.mr}`),e.numeric.ms!==0&&n.push(`MS ${e.numeric.ms}`),e.numeric.spd!==0&&n.push(`WS ${e.numeric.spd}`),e.powderSlots>0&&n.push(`Powders ${e.powderSlots}`),e.atkSpd&&n.push(`AS ${e.atkSpd}`),n.slice(0,6)}function xc(e){const n=M0({id:e.dragData?`drag:${e.dragData.kind}:${e.item.id}:${e.dragData.sourceSlot??e.dragData.sourceCategory??""}`:`item:${e.item.id}`,data:e.dragData?{dragItem:e.dragData}:void 0}),l=e.dragData?{transform:Ho.Translate.toString(n.transform),opacity:n.isDragging?.45:1}:void 0,i=e.showDetails?LC(e.item):null,r=e.showDetails?qC(e.item):null,c=e.showDetails?UC(e.item):null,u=e.showDetails?$C(e.item):[];return m.jsxs("div",{ref:e.dragData?n.setNodeRef:void 0,style:l,className:bt("wb-card",e.dense?"p-2":e.compact?"p-2.5":"p-3",n.isDragging&&"ring-2 ring-emerald-300/40"),onMouseEnter:()=>e.onHover?.(!0),onMouseLeave:()=>e.onHover?.(!1),children:[m.jsxs("div",{className:bt("flex items-start gap-2",e.dense&&"gap-1.5"),children:[e.dragData?m.jsx("button",{type:"button",...n.listeners,...n.attributes,className:"mt-0.5 rounded-md border border-[var(--wb-border)] p-1 text-[var(--wb-muted)] hover:bg-white/5","aria-label":`Drag ${e.item.displayName}`,children:m.jsx(V_,{size:14})}):null,m.jsx(BC,{item:e.item}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[m.jsx("div",{className:bt("truncate text-sm font-semibold leading-tight",IC(e.item.tier)),children:e.item.displayName}),e.badge?m.jsx("span",{className:"wb-chip",children:e.badge}):null,e.locked?m.jsxs("span",{className:"wb-chip inline-flex items-center gap-1",children:[m.jsx(A0,{size:11})," Locked"]}):null]}),m.jsxs("div",{className:bt("mt-1 flex flex-wrap gap-y-1 text-[var(--wb-muted)]",e.dense?"gap-x-2 text-xs":"gap-x-3 text-xs"),children:[m.jsx("span",{children:e.item.type}),m.jsxs("span",{children:["Lv ",e.item.level]}),e.dense?null:m.jsx("span",{children:e.item.tier}),!e.dense&&e.item.classReq?m.jsx("span",{children:e.item.classReq}):null,!e.dense&&e.item.majorIds.length>0?m.jsxs("span",{children:["MID ",e.item.majorIds.length]}):null,e.dense&&e.item.majorIds.length>0?m.jsxs("span",{children:["M",e.item.majorIds.length]}):null]}),e.showDetails?m.jsxs("div",{className:bt("mt-2 space-y-1",e.dense?"text-[11px]":"text-xs"),children:[(i||r)&&m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1 text-[var(--wb-muted)]",children:[i?m.jsxs("span",{className:"mr-2",children:["Req ",i]}):null,r?m.jsxs("span",{children:["SP ",r]}):null]}),u.length>0?m.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(f=>m.jsx("span",{className:"wb-chip text-[11px]",children:f},f))}):null,c?m.jsx("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1 font-mono text-[11px] leading-relaxed text-[var(--wb-muted)]",children:c}):null,e.item.majorIds.length>0?m.jsxs("div",{className:"truncate text-[var(--wb-muted)]",children:["Major IDs: ",e.item.majorIds.join(", ")]}):null]}):null,e.compact?null:m.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["DPS ",Math.round(e.item.roughScoreFields.baseDps)]}),m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["EHP ",Math.round(e.item.roughScoreFields.ehpProxy)]}),m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["Off ",Math.round(e.item.roughScoreFields.offense)]}),m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/15 px-2 py-1",children:["SP ",Math.round(e.item.roughScoreFields.skillPointTotal)]})]})]})]}),(e.onPin||e.onEquip||e.onRemove)&&m.jsxs("div",{className:bt("mt-2 flex flex-wrap",e.dense?"gap-1":"gap-2"),children:[e.onPin?m.jsxs(Re,{className:bt("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),variant:"ghost",onClick:e.onPin,children:[m.jsx(eE,{size:12,className:"mr-1 inline"}),"Pin"]}):null,e.onEquip?m.jsxs(Re,{className:bt("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),onClick:e.onEquip,children:[m.jsx(nE,{size:12,className:"mr-1 inline"}),"Equip"]}):null,e.onRemove?m.jsx(Re,{className:bt("text-xs",e.dense?"px-1.5 py-0.5":"px-2 py-1"),variant:"ghost",onClick:e.onRemove,children:"Remove"}):null]})]})}const ex="workbench-search-presets:v1",HC=["level","baseDps","ehpProxy","offenseScore","skillPointTotal","powderSlots"];function ZC(){try{const e=window.localStorage.getItem(ex);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}}function FC(e){window.localStorage.setItem(ex,JSON.stringify(e))}function Ay(e,n){return e.includes(n)?e.filter(l=>l!==n):[...e,n]}function YC(e){const n=S.useRef(null),l=e.result?.rows??[],i=S.useDeferredValue(l),r=Vj({count:i.length,getScrollElement:()=>n.current,estimateSize:()=>e.state.viewMode==="grid"?178:208,overscan:6});return m.jsxs("div",{className:"min-h-0 flex-1",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-[var(--wb-muted)]",children:[m.jsx("span",{children:e.loading?"Searching...":e.result?`${e.result.total.toLocaleString()} results`:"Loading..."}),m.jsxs("span",{children:[e.state.sort,e.state.sortDescending?" ":" "]})]}),m.jsx("div",{ref:n,className:"wb-scrollbar h-[calc(100vh-26rem)] overflow-auto rounded-xl border border-[var(--wb-border-muted)] bg-black/10",children:m.jsx("div",{style:{height:r.getTotalSize(),position:"relative"},children:r.getVirtualItems().map(c=>{const u=i[c.index],f=e.catalog.itemsById.get(u.id);if(!f)return null;const p=e.selectedSlot!=null&&ua(e.selectedSlot)===f.category;return m.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${c.start}px)`,padding:"8px"},children:m.jsx(xc,{item:f,dragData:{kind:"search",itemId:f.id},onPin:()=>e.onPin(f.id),onEquip:()=>e.onEquip(f.id),onHover:g=>e.onHover(g?f.id:null,g?e.selectedSlot:null),badge:p?`Fits ${e.selectedSlot}`:void 0})},u.id)})})})]})}function GC(e){const[n,l]=S.useState(()=>typeof window>"u"?[]:ZC()),i=S.useMemo(()=>e.catalog.facetsMeta.majorIds.slice(0,20),[e.catalog]),r=e.result?.facetCounts;S.useEffect(()=>{typeof window<"u"&&FC(n)},[n]);const c=u=>e.setState(mj(e.state,u));return m.jsx($s,{className:"flex min-h-0 flex-col",title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(lE,{size:15}),"Advanced Item Search"]}),headerRight:null,children:m.jsxs("div",{className:"flex min-h-0 flex-col gap-3 p-3",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Search Text"}),m.jsx("input",{className:"wb-input",placeholder:"Name, lore, major ID...",value:e.state.text,onChange:u=>c({text:u.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Sort"}),m.jsxs("select",{className:"wb-select",value:e.state.sort,onChange:u=>c({sort:u.target.value}),children:[m.jsx("option",{value:"relevance",children:"Relevance"}),m.jsx("option",{value:"level",children:"Level"}),m.jsx("option",{value:"baseDps",children:"Base DPS"}),m.jsx("option",{value:"ehpProxy",children:"EHP Proxy"}),m.jsx("option",{value:"offenseScore",children:"Offense Score"}),m.jsx("option",{value:"skillPointTotal",children:"Skill Point Total"})]})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"View"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ct,{active:e.state.viewMode==="list",onClick:()=>c({viewMode:"list"}),children:"List"}),m.jsx(ct,{active:e.state.viewMode==="grid",onClick:()=>c({viewMode:"grid"}),children:"Grid"}),m.jsx(ct,{active:e.state.sortDescending,onClick:()=>c({sortDescending:!e.state.sortDescending}),title:"Toggle descending",children:e.state.sortDescending?"Desc":"Asc"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:[m.jsx(iE,{size:13}),"Category"]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:dl.map(u=>m.jsxs(ct,{active:e.state.categories.includes(u),onClick:()=>c({categories:Ay(e.state.categories,u)}),children:[th(u),r?.categories[u]?` (${r.categories[u]})`:""]},u))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Wearable At Level"}),m.jsx("input",{className:"wb-input",type:"number",min:1,max:106,value:e.state.onlyWearableAtLevel??"",onChange:u=>{const f=u.target.value.trim();c({onlyWearableAtLevel:f?Number(f):null})}})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Class Filter"}),m.jsxs("select",{className:"wb-select",value:e.state.classReqs[0]??"",onChange:u=>{const f=u.target.value;c({classReqs:f?[f]:[]})},children:[m.jsx("option",{value:"",children:"Any"}),e.catalog.facetsMeta.classReqs.map(u=>m.jsx("option",{value:u,children:u},u))]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx(ct,{active:e.state.onlyClassCompatible,onClick:()=>c({onlyClassCompatible:!e.state.onlyClassCompatible}),children:"Only class-compatible"}),m.jsx(ct,{active:e.state.excludeRestricted,onClick:()=>c({excludeRestricted:!e.state.excludeRestricted}),children:"Exclude restricted"})]}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:HC.map(u=>{const f=e.state.numericRanges[u]??{},p=e.catalog.facetsMeta.numericRanges[u==="powderSlots"?"slots":u];return m.jsxs("div",{className:"wb-card p-2",children:[m.jsx("div",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:u}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsx("input",{className:"wb-input",type:"number",placeholder:p?String(Math.floor(p.min)):"min",value:f.min??"",onChange:g=>{const b=g.target.value.trim();c({numericRanges:{...e.state.numericRanges,[u]:{...f,min:b===""?void 0:Number(b)}}})}}),m.jsx("input",{className:"wb-input",type:"number",placeholder:p?String(Math.ceil(p.max)):"max",value:f.max??"",onChange:g=>{const b=g.target.value.trim();c({numericRanges:{...e.state.numericRanges,[u]:{...f,max:b===""?void 0:Number(b)}}})}})]})]},u)})}),m.jsxs("div",{children:[m.jsx(Je,{children:"Major IDs (quick picks)"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(u=>m.jsx(ct,{active:e.state.majorIds.includes(u),onClick:()=>c({majorIds:Ay(e.state.majorIds,u)}),title:u,children:u},u))})]}),m.jsxs("div",{className:"wb-card p-2",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Filter Presets"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>{const u=window.prompt("Preset name?")?.trim();if(!u)return;const f=[{name:u,state:e.state},...n.filter(p=>p.name.toLowerCase()!==u.toLowerCase())].slice(0,20);l(f)},children:"Save"}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.setState(Jn),children:"Reset"})]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?m.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"No saved presets yet."}):n.map(u=>m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(ct,{onClick:()=>e.setState(u.state),children:u.name}),m.jsx("button",{className:"rounded-md border border-[var(--wb-border)] px-1.5 py-0.5 text-xs text-[var(--wb-muted)] hover:bg-white/5",onClick:()=>l(f=>f.filter(p=>p.name!==u.name)),title:`Delete ${u.name}`,children:"x"})]},u.name))})]}),m.jsx(YC,{catalog:e.catalog,result:e.result,selectedSlot:e.selectedSlot,state:e.state,loading:e.loading,onPin:e.onPin,onEquip:e.onEquip,onHover:e.onHover})]})})}const VC={slotStatus:{},warnings:{messages:[]},aggregated:{hpTotal:0,hprTotal:0,mr:0,ms:0,ls:0,speed:0,skillPoints:{str:0,dex:0,int:0,def:0,agi:0},skillReqs:{str:0,dex:0,int:0,def:0,agi:0},defenses:{e:0,t:0,w:0,f:0,a:0},offense:{baseDps:0,spellPct:0,spellRaw:0,meleePct:0,meleeRaw:0,elemDamPct:0,genericDamPct:0,offenseScore:0}},derived:{dpsProxy:0,spellProxy:0,meleeProxy:0,ehpProxy:0,reqTotal:0,skillPointTotal:0,legacyBaseDps:0,legacyEhp:0,legacyEhpNoAgi:0,skillpointFeasible:!0,assignedSkillPointsRequired:0}};function zf(e){let n=Number.isFinite(e)?e:0;if(n<=0)return 0;n>=150&&(n=150);const l=.9908;return l/(1-l)*(1-Math.pow(l,n))/100}const KC=.867,WC=.951,XC=90;function QC(e){return Math.max(1,Math.min(106,Math.round(e||1)))*5+5}function JC(e){const n=Math.max(1,Math.min(106,Math.round(e||1)));return n>=101?200:(n-1)*2}function eA(e){switch(e){case"relik":return .6;case"bow":return .7;case"wand":return .8;case"dagger":case"spear":return 1;default:return 1}}function tA(e){const n=Math.max(5,e.totalHp),l=zf(e.defSkillPoints)*KC,i=zf(e.agiSkillPoints)*WC,c=2-eA(e.weaponType),f=(100-XC)/100*i+(1-i)*(1-l),p=1-l,g=n/Math.max(1e-9,f)/Math.max(1e-9,c),b=n/Math.max(1e-9,p)/Math.max(1e-9,c);return{withAgi:g,noAgi:b}}function nA(e){return[e.numeric.reqStr,e.numeric.reqDex,e.numeric.reqInt,e.numeric.reqDef,e.numeric.reqAgi]}function aA(e){return[e.numeric.spStr,e.numeric.spDex,e.numeric.spInt,e.numeric.spDef,e.numeric.spAgi]}function lA(e,n){return[e[0]+n[0],e[1]+n[1],e[2]+n[2],e[3]+n[3],e[4]+n[4]]}function sA(e){return e[0]+e[1]+e[2]+e[3]+e[4]}function Ry(e,n){for(let l=0;l<5;l++)if(e[l]>n[l])return!1;return!0}function iA(e,n){for(const l of e)if(Ry(l.assigned,n.assigned))return;for(let l=e.length-1;l>=0;l--)Ry(n.assigned,e[l].assigned)&&e.splice(l,1);e.push(n)}function rA(e,n,l={}){if(e.length===0)return{feasible:!0,assignedTotal:0,assignedByStat:[0,0,0,0,0]};const i=JC(n),r=l.extraBaseSkillPoints??[0,0,0,0,0],c=e.length,u=e.map(nA),f=e.map(aA),p=1<<c,g=Array.from({length:p},()=>[0,0,0,0,0]);for(let N=1;N<p;N++){const w=N&-N,M=Math.log2(w)|0;g[N]=lA(g[N^w],f[M])}const b=new Array(p);b[0]=[{assigned:[0,0,0,0,0],assignedTotal:0}];for(let N=0;N<p;N++){const w=b[N];if(!w||w.length===0)continue;const M=g[N];for(const z of w)for(let I=0;I<c;I++){if((N&1<<I)!==0)continue;const O=[...z.assigned];let L=!0;for(let F=0;F<5;F++){const se=z.assigned[F]+M[F]+(r[F]??0),re=u[I][F];if(re>se&&(O[F]+=re-se),O[F]>100){L=!1;break}}if(!L)continue;const H=sA(O);if(H>i)continue;const A=N|1<<I,j=b[A]??=[];iA(j,{assigned:O,assignedTotal:H})}}const v=b[p-1];if(!v||v.length===0)return{feasible:!1,assignedTotal:1/0,assignedByStat:null};let x=1/0,_=null;for(const N of v)N.assignedTotal<x&&(x=N.assignedTotal,_=[...N.assigned]);return{feasible:Number.isFinite(x),assignedTotal:x,assignedByStat:Number.isFinite(x)?_:null}}function gh(e,n,l,i={}){const r=[];for(const c of tt){const u=e[c];if(u==null)continue;const f=n.itemsById.get(u);f&&r.push(f)}return rA(r,l,i)}function oA(e,n){const l={};for(const i of tt){const r=e.slots[i];if(r==null)continue;const c=n.itemsById.get(r);c&&(l[i]=c)}return l}function tc(e,n,l={}){const i=oA(e,n),r=structuredClone(VC),c=r.warnings.messages;let u=null;for(const ce of tt){const k=i[ce];if(!k)continue;ce==="weapon"&&(u=k.type),r.aggregated.hpTotal+=k.numeric.hp+k.numeric.hpBonus,r.aggregated.hprTotal+=k.numeric.hprRaw+k.numeric.hprPct,r.aggregated.mr+=k.numeric.mr,r.aggregated.ms+=k.numeric.ms,r.aggregated.ls+=k.numeric.ls,r.aggregated.speed+=k.numeric.spd,r.aggregated.skillPoints.str+=k.numeric.spStr,r.aggregated.skillPoints.dex+=k.numeric.spDex,r.aggregated.skillPoints.int+=k.numeric.spInt,r.aggregated.skillPoints.def+=k.numeric.spDef,r.aggregated.skillPoints.agi+=k.numeric.spAgi,r.aggregated.skillReqs.str=Math.max(r.aggregated.skillReqs.str,k.numeric.reqStr),r.aggregated.skillReqs.dex=Math.max(r.aggregated.skillReqs.dex,k.numeric.reqDex),r.aggregated.skillReqs.int=Math.max(r.aggregated.skillReqs.int,k.numeric.reqInt),r.aggregated.skillReqs.def=Math.max(r.aggregated.skillReqs.def,k.numeric.reqDef),r.aggregated.skillReqs.agi=Math.max(r.aggregated.skillReqs.agi,k.numeric.reqAgi),r.aggregated.defenses.e+=k.numeric.eDef,r.aggregated.defenses.t+=k.numeric.tDef,r.aggregated.defenses.w+=k.numeric.wDef,r.aggregated.defenses.f+=k.numeric.fDef,r.aggregated.defenses.a+=k.numeric.aDef,r.aggregated.offense.baseDps+=k.numeric.baseDps,r.aggregated.offense.spellPct+=k.numeric.sdPct,r.aggregated.offense.spellRaw+=k.numeric.sdRaw,r.aggregated.offense.meleePct+=k.numeric.mdPct,r.aggregated.offense.meleeRaw+=k.numeric.mdRaw,r.aggregated.offense.elemDamPct+=k.numeric.eDamPct+k.numeric.tDamPct+k.numeric.wDamPct+k.numeric.fDamPct+k.numeric.aDamPct,r.aggregated.offense.genericDamPct+=k.numeric.damPct+k.numeric.rDamPct+k.numeric.nDamPct,r.aggregated.offense.offenseScore+=k.roughScoreFields.offense;const ue=k.classReq,de=!ue||!e.characterClass||ue===e.characterClass,R=k.level<=e.level,G=k.numeric.reqStr<=100&&k.numeric.reqDex<=100&&k.numeric.reqInt<=100&&k.numeric.reqDef<=100&&k.numeric.reqAgi<=100;r.slotStatus[ce]={classOk:de,levelOk:R,skillReqsMet:G}}!e.characterClass&&u&&(e.characterClass=Vo(u));for(const ce of tt){const k=i[ce];k&&(ua(ce)!==k.category&&c.push(`${ce} contains incompatible item type (${k.type}).`),k.level>e.level&&c.push(`${k.displayName} requires level ${k.level}.`),e.characterClass&&k.classReq&&k.classReq!==e.characterClass&&c.push(`${k.displayName} requires ${k.classReq}.`),(k.restricted||k.deprecated)&&c.push(`${k.displayName} is restricted/deprecated.`))}const f=r.aggregated.skillReqs.str+r.aggregated.skillReqs.dex+r.aggregated.skillReqs.int+r.aggregated.skillReqs.def+r.aggregated.skillReqs.agi,p=r.aggregated.skillPoints.str+r.aggregated.skillPoints.dex+r.aggregated.skillPoints.int+r.aggregated.skillPoints.def+r.aggregated.skillPoints.agi,g=gh(e.slots,n,e.level,l.skillpointFeasibility),{spellPct:b,spellRaw:v,meleePct:x,meleeRaw:_,baseDps:N,elemDamPct:w,genericDamPct:M}=r.aggregated.offense,z=r.aggregated.skillPoints,O=1+zf(z.str),L=(N*(1+(b+w+M)/100)+v)*O,H=(N*(1+(x+w+M)/100)+_)*O,A=H+L+r.aggregated.speed*.8,j=r.aggregated.defenses.e+r.aggregated.defenses.t+r.aggregated.defenses.w+r.aggregated.defenses.f+r.aggregated.defenses.a,F=r.aggregated.hpTotal+j*.45+r.aggregated.hprTotal*2+Math.max(0,r.aggregated.skillPoints.def)*12+Math.max(0,r.aggregated.skillPoints.agi)*10,se=r.aggregated.offense.baseDps,re=QC(e.level)+r.aggregated.hpTotal,Q=tA({totalHp:re,defSkillPoints:r.aggregated.skillPoints.def,agiSkillPoints:r.aggregated.skillPoints.agi,weaponType:u});return r.derived={dpsProxy:A,spellProxy:L,meleeProxy:H,ehpProxy:F,reqTotal:f,skillPointTotal:p,legacyBaseDps:se,legacyEhp:Q.withAgi,legacyEhpNoAgi:Q.noAgi,skillpointFeasible:g.feasible,assignedSkillPointsRequired:Number.isFinite(g.assignedTotal)?g.assignedTotal:0},g.feasible||c.push(`Skill requirements are not satisfiable at level ${e.level} (estimated assigned SP exceeds available or equip order is invalid).`),r}function cA(e,n){return{dpsProxy:n.derived.dpsProxy-e.derived.dpsProxy,ehpProxy:n.derived.ehpProxy-e.derived.ehpProxy,legacyBaseDps:n.derived.legacyBaseDps-e.derived.legacyBaseDps,legacyEhp:n.derived.legacyEhp-e.derived.legacyEhp,hpTotal:n.aggregated.hpTotal-e.aggregated.hpTotal,speed:n.aggregated.speed-e.aggregated.speed,skillPointTotal:n.derived.skillPointTotal-e.derived.skillPointTotal}}function ht(e){return Number.isFinite(e)?Math.round(e).toLocaleString():"-"}function uA(e){const n=e.snapshot.slots.weapon;return n==null?null:e.catalog.itemsById.get(n)??null}function dA(e){const n=e.snapshot.comparePreview;if(n.itemId!=null){const i=e.catalog.itemsById.get(n.itemId);if(i){const r=n.slot?`Compare Preview  ${Go(n.slot)}`:"Compare Preview";return{item:i,source:r}}}if(e.snapshot.selectedSlot){const i=e.snapshot.slots[e.snapshot.selectedSlot];if(i!=null){const r=e.catalog.itemsById.get(i);if(r)return{item:r,source:`Selected Slot  ${Go(e.snapshot.selectedSlot)}`}}}const l=uA(e);return l?{item:l,source:"Equipped Weapon"}:null}function fA(e){const[n,l]=S.useState(!1),i=e.compareSummary?cA(e.summary,e.compareSummary):null,r=e.spellPreview?.melee??null,c=dA(e);return m.jsx($s,{className:"flex min-h-0 flex-col",title:"Live Build Summary",headerRight:null,children:m.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[c?m.jsxs("div",{className:"wb-card p-2.5",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Focused Item"}),m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:c.source})]}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>l(u=>!u),children:n?"Hide Stats":"Show Stats"})]}),m.jsx(xc,{item:c.item,compact:!0,dense:!0,showDetails:n})]}):m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Select or hover an item to inspect it here."}),e.abilityTreeSummary?m.jsxs("div",{className:["rounded-xl border p-3 text-xs",e.abilityTreeSummary.hasErrors?"border-amber-400/30 bg-amber-400/8 text-amber-100":"border-emerald-400/20 bg-emerald-400/8 text-emerald-100"].join(" "),children:[m.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"font-semibold",children:["Ability Tree (",e.abilityTreeSummary.className,")"]}),m.jsx(Re,{variant:"ghost",className:"px-2 py-1 text-xs",onClick:e.actions.onOpenAbilityTree,children:"Edit"})]}),m.jsxs("div",{children:["AP ",e.abilityTreeSummary.apUsed,"/",e.abilityTreeSummary.apCap,"  ",e.abilityTreeSummary.selectedCount," abilities selected"]}),e.abilityTreeSummary.hasErrors?m.jsx("div",{className:"mt-1",children:"Tree has validation issues (dependencies/blockers/AP)."}):null]}):null,m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Melee DPS"}),m.jsxs("div",{className:"mt-1 flex items-end justify-between gap-2",children:[m.jsx("div",{className:"text-xl font-semibold text-amber-200",children:ht(r?.dps??e.summary.derived.legacyBaseDps)}),i?.legacyBaseDps!=null?m.jsxs("div",{className:["text-xs",i.legacyBaseDps>0?"text-emerald-300":i.legacyBaseDps<0?"text-rose-300":"text-[var(--wb-muted)]"].join(" "),children:[i.legacyBaseDps>0?"+":"",Math.round(i.legacyBaseDps).toLocaleString()]}):null]}),m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:[r?`Legacy melee DPS (${r.attackSpeedTier})  Per Attack ${ht(r.perAttackAverage)}`:"Legacy melee DPS preview unavailable (equip a weapon and valid ability tree selection)."," "," Melee % / Raw ",m.jsx("span",{className:"text-amber-200/90",children:ht(e.summary.aggregated.offense.meleePct)})," / ",m.jsx("span",{className:"text-amber-200/90",children:ht(e.summary.aggregated.offense.meleeRaw)})]})]}),e.spellPreview?m.jsxs("div",{className:"wb-card p-3",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Spells (ATree)"}),m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[e.spellPreview.spells.length," entries"]})]}),e.spellPreview.notes.length>0?m.jsx("div",{className:"mb-2 rounded-lg border border-amber-400/20 bg-amber-400/5 p-2 text-xs text-amber-100",children:e.spellPreview.notes.join(" ")}):null,e.spellPreview.spells.length===0?m.jsx("div",{className:"rounded-lg border border-dashed border-[var(--wb-border-muted)] p-2 text-xs text-[var(--wb-muted)]",children:"No spell damage entries yet. Select active ability-tree spell nodes (roots / spell upgrades)."}):m.jsx(Hs,{className:"max-h-[36vh] lg:max-h-[44vh]",children:m.jsx("div",{className:"grid gap-2 pr-1",children:e.spellPreview.spells.map(u=>m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs",children:[m.jsxs("div",{className:"font-semibold",children:[u.name,m.jsxs("span",{className:"ml-1 text-[var(--wb-muted)]",children:["(",u.displayPartName,")"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:u.isHealing?"text-emerald-200":"text-amber-200",children:[Math.round(u.averageDisplayValue).toLocaleString()," ",u.isHealing?"heal":"avg dmg"]}),u.manaCost!=null?m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[u.manaCost.toFixed(2)," mana"]}):null]})]}),m.jsx("div",{className:"mt-1 grid gap-1 text-xs text-[var(--wb-muted)]",children:u.parts.filter(f=>f.display).map(f=>m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate",children:f.name}),m.jsx("span",{className:f.type==="heal"?"text-emerald-200":"text-amber-200",children:Math.round(f.averageTotal??0).toLocaleString()})]},f.name))})]},`${u.baseSpell}-${u.name}`))})})]}):null,m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx(Co,{label:"Base DPS",value:ht(e.summary.derived.legacyBaseDps),delta:i?.legacyBaseDps??null,valueClassName:"text-amber-200"}),m.jsx(Co,{label:"Effective HP",value:ht(e.summary.derived.legacyEhp),delta:i?.legacyEhp??null,valueClassName:"text-emerald-200"}),m.jsx(Co,{label:"Req Total",value:ht(e.summary.derived.reqTotal)}),m.jsx(Co,{label:"SP Total",value:ht(e.summary.derived.skillPointTotal),delta:i?.skillPointTotal??null})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 px-3 py-2",children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"SP Feasibility:"})," ",m.jsx("span",{className:e.summary.derived.skillpointFeasible?"text-emerald-200":"text-rose-200",children:e.summary.derived.skillpointFeasible?"Wearable":"Invalid / Not Wearable"})]}),m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 px-3 py-2",children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Assigned SP Needed:"})," ",m.jsx("span",{children:ht(e.summary.derived.assignedSkillPointsRequired)})]})]}),e.compareSummary&&e.compareSlot?m.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-400/8 p-3 text-xs text-emerald-100",children:["Compare preview for ",m.jsx("b",{children:Go(e.compareSlot)})]}):null,m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Offense"}),m.jsxs("div",{className:"mt-2 grid gap-1 text-xs",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Legacy Base DPS:"})," ",m.jsx("span",{className:"font-medium text-amber-200",children:ht(e.summary.derived.legacyBaseDps)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Heuristic DPS Proxy:"})," ",m.jsx("span",{className:"text-amber-200/90",children:ht(e.summary.derived.dpsProxy)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Spell % / Raw:"})," ",m.jsx("span",{className:"text-amber-200/80",children:ht(e.summary.aggregated.offense.spellPct)})," / ",m.jsx("span",{className:"text-amber-200/80",children:ht(e.summary.aggregated.offense.spellRaw)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Melee % / Raw:"})," ",m.jsx("span",{className:"text-amber-200/80",children:ht(e.summary.aggregated.offense.meleePct)})," / ",m.jsx("span",{className:"text-amber-200/80",children:ht(e.summary.aggregated.offense.meleeRaw)})]})]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-[var(--wb-muted)]",children:"Defense & Utility"}),m.jsxs("div",{className:"mt-2 grid gap-1 text-xs",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Legacy EHP (AGI):"})," ",m.jsx("span",{className:"font-medium text-emerald-200",children:ht(e.summary.derived.legacyEhp)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Legacy EHP (No AGI):"})," ",m.jsx("span",{className:"text-emerald-200/90",children:ht(e.summary.derived.legacyEhpNoAgi)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Heuristic EHP Proxy:"})," ",m.jsx("span",{className:"text-emerald-200/80",children:ht(e.summary.derived.ehpProxy)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"HP Total:"})," ",m.jsx("span",{className:"text-emerald-100/80",children:ht(e.summary.aggregated.hpTotal)})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"HPR Total:"})," ",ht(e.summary.aggregated.hprTotal)]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"MR / MS / LS:"})," ",ht(e.summary.aggregated.mr)," / ",ht(e.summary.aggregated.ms)," / ",ht(e.summary.aggregated.ls)]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[var(--wb-muted)]",children:"Walk Speed:"})," ",ht(e.summary.aggregated.speed)]})]})]})]}),m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Workbench primary KPIs use legacy-compatible metrics (Base DPS + Effective HP). Ability tree editing is now in Workbench, but these summary metrics still exclude ability-tree effects for now. Proxy values are still used internally for search/Build Solver heuristics."}),m.jsxs("div",{className:"grid gap-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Warnings"}),e.summary.warnings.messages.length===0?m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-emerald-200",children:"No active warnings."}):m.jsx(Hs,{className:"max-h-32",children:m.jsx("div",{className:"grid gap-2",children:e.summary.warnings.messages.map((u,f)=>m.jsx("div",{className:"rounded-xl border border-amber-400/30 bg-amber-400/8 p-2 text-xs text-amber-100",children:u},`${u}-${f}`))})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.actions.onCopyLegacyLink,disabled:!e.snapshot.legacyHash,children:[m.jsx(eh,{size:14,className:"mr-2"}),"Legacy Link"]}),m.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.actions.onOpenLegacyBuilder,children:[m.jsx(Z_,{size:14,className:"mr-2"}),"Open Legacy"]})]})]})})}function hA(e){const{info:n}=e;return m.jsx("div",{className:"rounded-lg border border-violet-400/40 bg-violet-400/8 px-3 py-2",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-semibold text-violet-100",children:["Crafted ",n.type.charAt(0).toUpperCase()+n.type.slice(1)]}),m.jsxs("div",{className:"mt-0.5 text-[10px] text-violet-200/60",children:["Lv. ",n.lvl," | ",n.hash.slice(0,20),"..."]})]}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:e.onClear,title:"Remove crafted item",children:m.jsx(R0,{size:12})})]})})}function ky(e){const{isOver:n,setNodeRef:l}=j0({id:`slot:${e.slot}`,data:{droppableType:"slot",slot:e.slot}}),i=e.store.slots[e.slot],r=i!=null?e.catalog.itemsById.get(i):void 0,c=e.store.craftedSlots[e.slot],u=M0({id:r?`slot-item:${e.slot}:${r.id}`:`slot-empty:${e.slot}`,data:r?{dragItem:{kind:"slot",itemId:r.id,sourceSlot:e.slot}}:void 0,disabled:!r});return m.jsxs("div",{ref:l,className:bt("rounded-xl border p-2",n?"border-emerald-400/70 bg-emerald-400/8":"border-[var(--wb-border-muted)] bg-black/15"),onMouseEnter:()=>e.store.setSelectedSlot(e.slot),children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:Go(e.slot)}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.toggleLock(e.slot),title:"Lock slot",children:m.jsx(A0,{size:12,className:bt(e.store.locks[e.slot]&&"text-emerald-300")})}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.moveSlotToBin(e.slot),title:"Move to bin",children:m.jsx(mE,{size:12})})]})]}),r?m.jsx("div",{ref:u.setNodeRef,style:{transform:Ho.Translate.toString(u.transform),opacity:u.isDragging?.45:1},...u.listeners,...u.attributes,children:m.jsx(xc,{item:r,compact:!0,dense:!0,showDetails:e.showItemDetails,dragData:{kind:"slot",itemId:r.id,sourceSlot:e.slot},locked:e.store.locks[e.slot],onHover:f=>e.onHoverItem?.(f?r.id:null,f?e.slot:null)})}):c?m.jsx(hA,{info:c,onClear:()=>e.store.clearCraftedSlot(e.slot)}):m.jsxs("div",{className:"rounded-lg border border-dashed border-[var(--wb-border)] px-3 py-3 text-center text-xs text-[var(--wb-muted)]",children:["Drop a ",ua(e.slot)," item here"]})]})}function zy(e){const{isOver:n,setNodeRef:l}=j0({id:`bin:${e.category}`,data:{droppableType:"bin",category:e.category}}),i=e.store.binsByCategory[e.category].map(r=>e.catalog.itemsById.get(r)).filter(r=>!!r);return m.jsxs("div",{className:"flex min-w-0 flex-col gap-1.5",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"text-xs font-semibold",children:[th(e.category)," Bin"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:i.length}),m.jsxs(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.clearCategory(e.category),children:[m.jsx(R0,{size:12,className:"mr-1 inline"}),"Clear"]})]})]}),m.jsx("div",{ref:l,className:bt("wb-grid-backdrop min-h-20 rounded-xl border p-1.5",n?"border-emerald-400/70 bg-emerald-400/8":"border-[var(--wb-border-muted)] bg-black/10"),children:i.length===0?m.jsxs("div",{className:"p-2 text-[11px] text-[var(--wb-muted)]",children:["Drop items here for ",e.category,"."]}):m.jsx("div",{className:"grid max-h-40 gap-1.5 overflow-auto pr-0.5 wb-scrollbar",children:i.map(r=>m.jsx(xc,{item:r,compact:!0,dense:!0,showDetails:e.showItemDetails,dragData:{kind:"bin",itemId:r.id,sourceCategory:e.category},onRemove:()=>e.store.removePinnedItem(e.category,r.id),onHover:c=>{const u=e.store.selectedSlot&&ua(e.store.selectedSlot)===e.category?e.store.selectedSlot:null;e.onHoverItem?.(c?r.id:null,c?u:null)}},`${e.category}-${r.id}`))})})]})}function mA(e){const[n,l]=S.useState(!1),i=S.useMemo(()=>[["helmet","chestplate","leggings","boots"],["ring1","ring2","bracelet","necklace"]],[]),r=S.useMemo(()=>[{key:"armor",title:"Armor Shelf",categories:["helmet","chestplate","leggings","boots"]},{key:"accessories",title:"Accessory Shelf",categories:["ring","bracelet","necklace"]},{key:"weapon",title:"Weapon Shelf",categories:["weapon"]}].filter(c=>c.key!=="weapon"),[]);return m.jsx($s,{className:"flex min-h-0 flex-col",title:"Workbench",headerRight:m.jsxs(m.Fragment,{children:[m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.undo(),children:"Undo"}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.redo(),children:"Redo"}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:n?"primary":"ghost",onClick:()=>l(c=>!c),children:n?"Hide Details":"Item Details"}),m.jsx(Re,{className:"px-2 py-1 text-xs",variant:"ghost",onClick:()=>e.store.clearAll(),children:"Clear All"})]}),children:m.jsxs("div",{className:"grid min-h-0 flex-1 grid-rows-[auto_1fr_auto] gap-2 p-2.5",children:[m.jsxs("div",{className:"grid gap-1.5 xl:grid-cols-[minmax(0,1fr)_minmax(0,1fr)_minmax(0,1.05fr)]",children:[i.map((c,u)=>m.jsx("div",{className:"grid gap-1.5",children:c.map(f=>m.jsx(ky,{slot:f,catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem},f))},u)),m.jsxs("div",{className:"grid content-start gap-1.5",children:[m.jsx(ky,{slot:"weapon",catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem}),m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsxs("div",{className:"mb-1.5 flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:"Weapon Shelf"}),m.jsx("div",{className:"text-[11px] text-[var(--wb-muted)]",children:"Pinned weapon candidates"})]}),m.jsx(zy,{category:"weapon",catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem})]})]})]}),m.jsx(Hs,{className:"min-h-0 pr-1",children:m.jsx("div",{className:"grid gap-3",children:r.map(c=>m.jsxs("div",{className:"grid gap-1.5",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--wb-muted)]",children:c.title}),m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:c.categories.map(th).join("  ")})]}),m.jsx("div",{className:bt("grid gap-2",c.categories.length===1?"grid-cols-1":c.categories.length===3?"lg:grid-cols-3":"md:grid-cols-2 xl:grid-cols-4"),children:c.categories.map(u=>m.jsx(zy,{category:u,catalog:e.catalog,store:e.store,showItemDetails:n,onHoverItem:e.onHoverItem},u))})]},c.key))})}),m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:m.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[m.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onShareWorkbench,children:[m.jsx(eh,{size:14,className:"mr-2"}),"Share"]}),m.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onExportWorkbench,children:[m.jsx($_,{size:14,className:"mr-2"}),"Export"]}),m.jsxs(Re,{variant:"ghost",className:"justify-start",onClick:e.onImportWorkbench,children:[m.jsx(pE,{size:14,className:"mr-2"}),"Import"]})]})})]})})}function Lo(e){if(!e)return null;const n=e.startsWith("#")?e.slice(1):e;return n.trim()?n:null}function Oy(e){const n=Lo(e),l="../builder/";return n?`${l}#${n}`:l}const gA=[["helmet","helmet-choice"],["chestplate","chestplate-choice"],["leggings","leggings-choice"],["boots","boots-choice"],["ring1","ring1-choice"],["ring2","ring2-choice"],["bracelet","bracelet-choice"],["necklace","necklace-choice"],["weapon","weapon-choice"]];function Py(e){const n=e.trim();if(!n)return null;if(n.startsWith("#"))return Lo(n);try{const l=new URL(n,window.location.origin);return Lo(l.hash)}catch{return Lo(n)}}class pA{isSupported(n){return Py(n)!==null}async encodeLegacyHash(n){if(n.legacyHash)return n.legacyHash;throw new Error("Legacy hash encoding is only available for imported legacy builds in Workbench v1. Use Workbench share link or open legacy builder for full encode.")}async decodeLegacyHash(n){const l=Py(n);if(!l)throw new Error("No legacy hash found to decode");if(typeof document>"u")return{legacyHash:l,level:null,slots:{}};const i=document.createElement("iframe");i.style.position="fixed",i.style.left="-99999px",i.style.width="1200px",i.style.height="900px",i.style.opacity="0",i.src=`../builder/#${l}`,document.body.appendChild(i);const r=3e4,c=Date.now();try{return await new Promise((f,p)=>{const g=window.setInterval(()=>{try{if(!i.contentDocument)return;const b=i.contentDocument,v=b.getElementById("weapon-choice"),x=b.getElementById("level-choice");if(!v||!x){Date.now()-c>r&&(window.clearInterval(g),p(new Error("Timed out waiting for legacy builder UI")));return}const _={};for(const[z,I]of gA){const L=b.getElementById(I)?.value?.trim();L&&(_[z]=L)}if(!_.weapon&&Date.now()-c<2e3)return;const w=x.value?.trim(),M=w?Number(w):null;window.clearInterval(g),f({legacyHash:l,level:Number.isFinite(M??NaN)?M:null,slots:_,sourceUrl:i.src})}catch(b){window.clearInterval(g),p(b)}},250)})}finally{i.remove()}}}const of=new pA,By=e=>{let n;const l=new Set,i=(g,b)=>{const v=typeof g=="function"?g(n):g;if(!Object.is(v,n)){const x=n;n=b??(typeof v!="object"||v===null)?v:Object.assign({},n,v),l.forEach(_=>_(n,x))}},r=()=>n,f={setState:i,getState:r,getInitialState:()=>p,subscribe:g=>(l.add(g),()=>l.delete(g))},p=n=e(i,r,f);return f},vA=(e=>e?By(e):By),yA=e=>e;function bA(e,n=yA){const l=Ut.useSyncExternalStore(e.subscribe,Ut.useCallback(()=>n(e.getState()),[e,n]),Ut.useCallback(()=>n(e.getInitialState()),[e,n]));return Ut.useDebugValue(l),l}const xA=e=>{const n=vA(e),l=i=>bA(n,i);return Object.assign(l,n),l},SA=(e=>xA);var tx=Symbol.for("immer-nothing"),Iy=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function ea(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object.getPrototypeOf;function Fs(e){return!!e&&!!e[Mn]}function ql(e){return e?nx(e)||Array.isArray(e)||!!e[Iy]||!!e.constructor?.[Iy]||ir(e)||wc(e):!1}var wA=Object.prototype.constructor.toString(),Ly=new WeakMap;function nx(e){if(!e||typeof e!="object")return!1;const n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype)return!0;const l=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(l===Object)return!0;if(typeof l!="function")return!1;let i=Ly.get(l);return i===void 0&&(i=Function.toString.call(l),Ly.set(l,i)),i===wA}function nc(e,n,l=!0){Sc(e)===0?(l?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{n(r,e[r],e)}):e.forEach((i,r)=>n(r,i,e))}function Sc(e){const n=e[Mn];return n?n.type_:Array.isArray(e)?1:ir(e)?2:wc(e)?3:0}function Of(e,n){return Sc(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function ax(e,n,l){const i=Sc(e);i===2?e.set(n,l):i===3?e.add(l):e[n]=l}function _A(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function ir(e){return e instanceof Map}function wc(e){return e instanceof Set}function Bl(e){return e.copy_||e.base_}function Pf(e,n){if(ir(e))return new Map(e);if(wc(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const l=nx(e);if(n===!0||n==="class_only"&&!l){const i=Object.getOwnPropertyDescriptors(e);delete i[Mn];let r=Reflect.ownKeys(i);for(let c=0;c<r.length;c++){const u=r[c],f=i[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(er(e),i)}else{const i=er(e);if(i!==null&&l)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function ph(e,n=!1){return _c(e)||Fs(e)||!ql(e)||(Sc(e)>1&&Object.defineProperties(e,{set:Ao,add:Ao,clear:Ao,delete:Ao}),Object.freeze(e),n&&Object.values(e).forEach(l=>ph(l,!0))),e}function EA(){ea(2)}var Ao={value:EA};function _c(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var TA={};function Ul(e){const n=TA[e];return n||ea(0,e),n}var tr;function lx(){return tr}function NA(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qy(e,n){n&&(Ul("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function Bf(e){If(e),e.drafts_.forEach(MA),e.drafts_=null}function If(e){e===tr&&(tr=e.parent_)}function Uy(e){return tr=NA(tr,e)}function MA(e){const n=e[Mn];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function $y(e,n){n.unfinalizedDrafts_=n.drafts_.length;const l=n.drafts_[0];return e!==void 0&&e!==l?(l[Mn].modified_&&(Bf(n),ea(4)),ql(e)&&(e=ac(n,e),n.parent_||lc(n,e)),n.patches_&&Ul("Patches").generateReplacementPatches_(l[Mn].base_,e,n.patches_,n.inversePatches_)):e=ac(n,l,[]),Bf(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==tx?e:void 0}function ac(e,n,l){if(_c(n))return n;const i=e.immer_.shouldUseStrictIteration(),r=n[Mn];if(!r)return nc(n,(c,u)=>Hy(e,r,n,c,u,l),i),n;if(r.scope_!==e)return n;if(!r.modified_)return lc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const c=r.copy_;let u=c,f=!1;r.type_===3&&(u=new Set(c),c.clear(),f=!0),nc(u,(p,g)=>Hy(e,r,c,p,g,l,f),i),lc(e,c,!1),l&&e.patches_&&Ul("Patches").generatePatches_(r,l,e.patches_,e.inversePatches_)}return r.copy_}function Hy(e,n,l,i,r,c,u){if(r==null||typeof r!="object"&&!u)return;const f=_c(r);if(!(f&&!u)){if(Fs(r)){const p=c&&n&&n.type_!==3&&!Of(n.assigned_,i)?c.concat(i):void 0,g=ac(e,r,p);if(ax(l,i,g),Fs(g))e.canAutoFreeze_=!1;else return}else u&&l.add(r);if(ql(r)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||n&&n.base_&&n.base_[i]===r&&f)return;ac(e,r),(!n||!n.scope_.parent_)&&typeof i!="symbol"&&(ir(l)?l.has(i):Object.prototype.propertyIsEnumerable.call(l,i))&&lc(e,r)}}}function lc(e,n,l=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ph(n,l)}function jA(e,n){const l=Array.isArray(e),i={type_:l?1:0,scope_:n?n.scope_:lx(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,c=vh;l&&(r=[i],c=nr);const{revoke:u,proxy:f}=Proxy.revocable(r,c);return i.draft_=f,i.revoke_=u,f}var vh={get(e,n){if(n===Mn)return e;const l=Bl(e);if(!Of(l,n))return DA(e,l,n);const i=l[n];return e.finalized_||!ql(i)?i:i===cf(e.base_,n)?(uf(e),e.copy_[n]=qf(i,e)):i},has(e,n){return n in Bl(e)},ownKeys(e){return Reflect.ownKeys(Bl(e))},set(e,n,l){const i=sx(Bl(e),n);if(i?.set)return i.set.call(e.draft_,l),!0;if(!e.modified_){const r=cf(Bl(e),n),c=r?.[Mn];if(c&&c.base_===l)return e.copy_[n]=l,e.assigned_[n]=!1,!0;if(_A(l,r)&&(l!==void 0||Of(e.base_,n)))return!0;uf(e),Lf(e)}return e.copy_[n]===l&&(l!==void 0||n in e.copy_)||Number.isNaN(l)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=l,e.assigned_[n]=!0),!0},deleteProperty(e,n){return cf(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,uf(e),Lf(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const l=Bl(e),i=Reflect.getOwnPropertyDescriptor(l,n);return i&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:i.enumerable,value:l[n]}},defineProperty(){ea(11)},getPrototypeOf(e){return er(e.base_)},setPrototypeOf(){ea(12)}},nr={};nc(vh,(e,n)=>{nr[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});nr.deleteProperty=function(e,n){return nr.set.call(this,e,n,void 0)};nr.set=function(e,n,l){return vh.set.call(this,e[0],n,l,e[0])};function cf(e,n){const l=e[Mn];return(l?Bl(l):e)[n]}function DA(e,n,l){const i=sx(n,l);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function sx(e,n){if(!(n in e))return;let l=er(e);for(;l;){const i=Object.getOwnPropertyDescriptor(l,n);if(i)return i;l=er(l)}}function Lf(e){e.modified_||(e.modified_=!0,e.parent_&&Lf(e.parent_))}function uf(e){e.copy_||(e.copy_=Pf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var CA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,l,i)=>{if(typeof n=="function"&&typeof l!="function"){const c=l;l=n;const u=this;return function(p=c,...g){return u.produce(p,b=>l.call(this,b,...g))}}typeof l!="function"&&ea(6),i!==void 0&&typeof i!="function"&&ea(7);let r;if(ql(n)){const c=Uy(this),u=qf(n,void 0);let f=!0;try{r=l(u),f=!1}finally{f?Bf(c):If(c)}return qy(c,i),$y(r,c)}else if(!n||typeof n!="object"){if(r=l(n),r===void 0&&(r=n),r===tx&&(r=void 0),this.autoFreeze_&&ph(r,!0),i){const c=[],u=[];Ul("Patches").generateReplacementPatches_(n,r,c,u),i(c,u)}return r}else ea(1,n)},this.produceWithPatches=(n,l)=>{if(typeof n=="function")return(u,...f)=>this.produceWithPatches(u,p=>n(p,...f));let i,r;return[this.produce(n,l,(u,f)=>{i=u,r=f}),i,r]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ql(e)||ea(8),Fs(e)&&(e=AA(e));const n=Uy(this),l=qf(e,void 0);return l[Mn].isManual_=!0,If(n),l}finishDraft(e,n){const l=e&&e[Mn];(!l||!l.isManual_)&&ea(9);const{scope_:i}=l;return qy(i,n),$y(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let l;for(l=n.length-1;l>=0;l--){const r=n[l];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}l>-1&&(n=n.slice(l+1));const i=Ul("Patches").applyPatches_;return Fs(e)?i(e,n):this.produce(e,r=>i(r,n))}};function qf(e,n){const l=ir(e)?Ul("MapSet").proxyMap_(e,n):wc(e)?Ul("MapSet").proxySet_(e,n):jA(e,n);return(n?n.scope_:lx()).drafts_.push(l),l}function AA(e){return Fs(e)||ea(10,e),ix(e)}function ix(e){if(!ql(e)||_c(e))return e;const n=e[Mn];let l,i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,l=Pf(e,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else l=Pf(e,!0);return nc(l,(r,c)=>{ax(l,r,ix(c))},i),n&&(n.finalized_=!1),l}var RA=new CA,kA=RA.produce;const zA=e=>(n,l,i)=>(i.setState=(r,c,...u)=>{const f=typeof r=="function"?kA(r):r;return n(f,c,...u)},e(i.setState,l,i)),OA=zA,qo={itemId:null,slot:null};function rx(){return Object.fromEntries(tt.map(e=>[e,null]))}function ox(){return Object.fromEntries(dl.map(e=>[e,[]]))}function PA(){return Object.fromEntries(tt.map(e=>[e,!1]))}function Zy(){return{slots:rx(),craftedSlots:{},binsByCategory:ox(),locks:PA(),level:106,characterClass:null,selectedSlot:"weapon",comparePreview:{...qo},legacyHash:null}}function Uf(e){return{slots:{...e.slots},craftedSlots:{...e.craftedSlots},binsByCategory:Object.fromEntries(dl.map(n=>[n,[...e.binsByCategory[n]]])),locks:{...e.locks},level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,comparePreview:{...e.comparePreview},legacyHash:e.legacyHash}}function an(e){e.undoStack.push(Uf(e)),e.undoStack.length>100&&e.undoStack.shift(),e.redoStack=[]}function df(e,n){e.slots={...n.slots},e.craftedSlots={...n.craftedSlots},e.binsByCategory=Object.fromEntries(dl.map(l=>[l,[...n.binsByCategory[l]]])),e.locks={...n.locks},e.level=n.level,e.characterClass=n.characterClass,e.selectedSlot=n.selectedSlot,e.comparePreview={...n.comparePreview},e.legacyHash=n.legacyHash}function ff(e,n){e.includes(n)||e.unshift(n)}const BA=SA()(OA((e,n)=>({...Zy(),undoStack:[],redoStack:[],setLevel(l){e(i=>{an(i),i.level=Math.min(106,Math.max(1,Math.round(l)))})},setCharacterClass(l){e(i=>{an(i),i.characterClass=l})},setSelectedSlot(l){e(i=>{i.selectedSlot=l})},setComparePreview(l){e(i=>{if(!l){i.comparePreview={...qo};return}i.comparePreview={itemId:l.itemId??i.comparePreview.itemId,slot:l.slot??i.comparePreview.slot}})},pinItem(l,i){e(r=>{an(r),ff(r.binsByCategory[l],i)})},removePinnedItem(l,i){e(r=>{an(r),r.binsByCategory[l]=r.binsByCategory[l].filter(c=>c!==i)})},clearCategory(l){e(i=>{an(i),i.binsByCategory[l]=[]})},clearAll(){e(l=>{an(l),l.slots=rx(),l.craftedSlots={},l.binsByCategory=ox(),l.comparePreview={...qo},l.legacyHash=null})},equipItem(l,i){e(r=>{an(r),r.slots[l]=i,delete r.craftedSlots[l],r.selectedSlot=l})},moveSlotToBin(l){e(i=>{const r=i.slots[l];if(r==null)return;an(i);const c=ua(l);ff(i.binsByCategory[c],r),i.slots[l]=null})},swapSlots(l,i){e(r=>{an(r);const c=r.slots[l];r.slots[l]=r.slots[i],r.slots[i]=c})},assignDraggedItemToSlot({targetSlot:l,source:i,itemId:r,sourceCategory:c,sourceSlot:u}){e(f=>{an(f);const p=f.slots[l];f.slots[l]=r,delete f.craftedSlots[l],f.selectedSlot=l,i==="bin"&&c&&(f.binsByCategory[c]=f.binsByCategory[c].filter(g=>g!==r)),i==="slot"&&u&&u!==l&&(f.slots[u]=p??null)})},assignDraggedItemToBin({targetCategory:l,source:i,itemId:r,sourceCategory:c,sourceSlot:u}){e(f=>{an(f),i==="bin"&&c&&(f.binsByCategory[c]=f.binsByCategory[c].filter(p=>p!==r)),i==="slot"&&u&&(f.slots[u]=null),ff(f.binsByCategory[l],r)})},toggleLock(l){e(i=>{an(i),i.locks[l]=!i.locks[l]})},equipCraftedItem(l,i){e(r=>{an(r),r.slots[l]=null,r.craftedSlots[l]=i,r.selectedSlot=l})},clearCraftedSlot(l){e(i=>{an(i),delete i.craftedSlots[l]})},undo(){const l=n(),i=l.undoStack[l.undoStack.length-1];i&&e(r=>{const c=Uf(r);r.undoStack.pop(),r.redoStack.push(c),df(r,i)})},redo(){const l=n(),i=l.redoStack[l.redoStack.length-1];i&&e(r=>{const c=Uf(r);r.redoStack.pop(),r.undoStack.push(c),df(r,i)})},hydrateSnapshot(l){e(i=>{const r=Zy(),c={...r,...l,slots:{...r.slots,...l.slots??{}},craftedSlots:{...r.craftedSlots,...l.craftedSlots??{}},locks:{...r.locks,...l.locks??{}},binsByCategory:{...r.binsByCategory,...l.binsByCategory??{}},comparePreview:{...r.comparePreview,...l.comparePreview??{}}};df(i,c),i.undoStack=[],i.redoStack=[]})},loadCandidate(l){e(i=>{an(i),i.slots={...l},i.comparePreview={...qo}})},setLegacyHash(l){e(i=>{i.legacyHash=l})}}))),IA=Xi({slots:Po(Hn(),Qn().int().nullable()).optional(),binsByCategory:Po(Hn(),Zn(Qn().int())).optional(),locks:Po(Hn(),Oo()).optional(),level:Qn().int().min(1).max(106).optional(),characterClass:Yi(["Warrior","Assassin","Mage","Archer","Shaman"]).nullable().optional(),selectedSlot:Hn().nullable().optional(),legacyHash:Hn().nullable().optional()}),LA=Xi({version:Hn().nullable().optional(),selectedByClass:Xi({Warrior:Zn(Qn().int()).optional(),Assassin:Zn(Qn().int()).optional(),Mage:Zn(Qn().int()).optional(),Archer:Zn(Qn().int()).optional(),Shaman:Zn(Qn().int()).optional()}).partial().default({})});function cx(e){const n=new TextEncoder().encode(e);let l="";for(const i of n)l+=String.fromCharCode(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ux(e){const n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(Math.ceil(e.length/4)*4,"="),l=atob(n),i=Uint8Array.from(l,r=>r.charCodeAt(0));return new TextDecoder().decode(i)}function qA(e){try{return JSON.parse(e)}catch{return null}}function dx(e){const n=e.searchParams.get("q")??"",l=e.searchParams.get("sort"),i=e.searchParams.get("sdesc"),r=e.searchParams.get("view"),c=e.searchParams.get("wearLevel"),u=e.searchParams.get("classCompat"),f=e.searchParams.get("excludeRestricted"),p=(e.searchParams.get("cats")??"").split(",").map(N=>N.trim()).filter(Boolean),g=(e.searchParams.get("types")??"").split(",").map(N=>N.trim()).filter(Boolean),b=(e.searchParams.get("tiers")??"").split(",").map(N=>N.trim()).filter(Boolean),v=(e.searchParams.get("classReqs")??"").split(",").map(N=>N.trim()).filter(Boolean),x=(e.searchParams.get("majorIds")??"").split(",").map(N=>N.trim()).filter(Boolean),_=qA(e.searchParams.get("ranges")??"")??{};return fb({...Jn,text:n,sort:l??Jn.sort,sortDescending:i===null?Jn.sortDescending:i!=="0",viewMode:r??Jn.viewMode,onlyWearableAtLevel:c?Number(c):Jn.onlyWearableAtLevel,onlyClassCompatible:u==="1",excludeRestricted:f===null?!1:f!=="0",categories:p,types:g,tiers:b,classReqs:v,majorIds:x,numericRanges:_})}function fx(e){const n=e.searchParams.get("wb");if(!n)return null;try{const l=ux(n),i=IA.parse(JSON.parse(l)),r=Object.fromEntries(tt.map(f=>[f,i.slots?.[f]??null])),c=Object.fromEntries(dl.map(f=>[f,i.binsByCategory?.[f]??[]])),u=Object.fromEntries(tt.map(f=>[f,!!i.locks?.[f]]));return{slots:r,binsByCategory:c,locks:u,level:i.level,characterClass:i.characterClass??null,selectedSlot:i.selectedSlot??void 0,legacyHash:i.legacyHash??null}}catch{return null}}function hx(e){const n=e.searchParams.get("atree");if(!n)return null;try{const l=ux(n),i=LA.parse(JSON.parse(l));return{version:i.version??null,selectedByClass:i.selectedByClass}}catch{return null}}function UA(e=window.location){const n=new URL(e.href),l=n.hash?n.hash.slice(1):null;return{search:dx(n),workbenchPatch:fx(n),legacyHash:l||null,mode:n.searchParams.get("mode"),abilityTree:hx(n)}}function mx(e){const n={slots:e.slots,binsByCategory:e.binsByCategory,locks:e.locks,level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,legacyHash:e.legacyHash};return cx(JSON.stringify(n))}function Fy(e){const n=new URL(window.location.href),{search:l}=e,i=n.searchParams,r=(f,p)=>{p.length===0?i.delete(f):i.set(f,p.join(","))};l.text?i.set("q",l.text):i.delete("q"),l.sort!==Jn.sort?i.set("sort",l.sort):i.delete("sort"),l.sortDescending!==Jn.sortDescending?i.set("sdesc",l.sortDescending?"1":"0"):i.delete("sdesc"),l.viewMode!==Jn.viewMode?i.set("view",l.viewMode):i.delete("view"),r("cats",l.categories),r("types",l.types),r("tiers",l.tiers),r("classReqs",l.classReqs),r("majorIds",l.majorIds),l.onlyWearableAtLevel!==null?i.set("wearLevel",String(l.onlyWearableAtLevel)):i.delete("wearLevel"),l.onlyClassCompatible?i.set("classCompat","1"):i.delete("classCompat"),l.excludeRestricted?i.set("excludeRestricted","1"):i.delete("excludeRestricted"),Object.keys(l.numericRanges).length>0?i.set("ranges",JSON.stringify(l.numericRanges)):i.delete("ranges"),i.set("wb",mx(e.workbenchSnapshot)),e.abilityTreeState&&Object.keys(e.abilityTreeState.selectedByClass??{}).length>0?i.set("atree",cx(JSON.stringify({version:e.abilityTreeState.version??null,selectedByClass:e.abilityTreeState.selectedByClass}))):i.delete("atree"),e.mode?i.set("mode",e.mode):i.delete("mode");const u=e.legacyHash??e.workbenchSnapshot.legacyHash;n.hash=u?`#${u}`:"",e.replace?window.history.replaceState({},"",n):window.history.pushState({},"",n)}const oa={legacyBaseDps:1,legacyEhp:.7,dpsProxy:1,spellProxy:0,meleeProxy:0,ehpProxy:.6,speed:.4,sustain:.35,skillPointTotal:.15,reqTotalPenalty:.2},Ca={characterClass:null,level:106,mustIncludeIds:[],excludedIds:[],lockedSlots:{},target:{},allowedTiers:[],requiredMajorIds:[],excludedMajorIds:[],weaponAttackSpeeds:[],minPowderSlots:null,onlyPinnedItems:!1,weights:oa,topN:50,topKPerSlot:80,beamWidth:350,maxStates:12e4,useExhaustiveSmallPool:!0,exhaustiveStateLimit:25e4,allowRestricted:!0};function $A(e){return e.aggregated.hprTotal*.9+e.aggregated.mr*14+e.aggregated.ms*10+e.aggregated.ls*9}function HA(e,n){let l=0;const{target:i}=n;return typeof i.minLegacyBaseDps=="number"&&e.derived.legacyBaseDps<i.minLegacyBaseDps&&(l+=(i.minLegacyBaseDps-e.derived.legacyBaseDps)*4),typeof i.minLegacyEhp=="number"&&e.derived.legacyEhp<i.minLegacyEhp&&(l+=(i.minLegacyEhp-e.derived.legacyEhp)*.8),typeof i.minDpsProxy=="number"&&e.derived.dpsProxy<i.minDpsProxy&&(l+=(i.minDpsProxy-e.derived.dpsProxy)*4),typeof i.minEhpProxy=="number"&&e.derived.ehpProxy<i.minEhpProxy&&(l+=(i.minEhpProxy-e.derived.ehpProxy)*1.1),typeof i.minMr=="number"&&e.aggregated.mr<i.minMr&&(l+=(i.minMr-e.aggregated.mr)*45),typeof i.minMs=="number"&&e.aggregated.ms<i.minMs&&(l+=(i.minMs-e.aggregated.ms)*35),typeof i.minSpeed=="number"&&e.aggregated.speed<i.minSpeed&&(l+=(i.minSpeed-e.aggregated.speed)*12),typeof i.minSkillPointTotal=="number"&&e.derived.skillPointTotal<i.minSkillPointTotal&&(l+=(i.minSkillPointTotal-e.derived.skillPointTotal)*15),typeof i.maxReqTotal=="number"&&e.derived.reqTotal>i.maxReqTotal&&(l+=(e.derived.reqTotal-i.maxReqTotal)*8),l}function gx(e,n,l){const i=$A(e),r=e.derived.reqTotal*n.reqTotalPenalty,c=HA(e,l),u={legacyBaseDps:e.derived.legacyBaseDps*n.legacyBaseDps,legacyEhp:e.derived.legacyEhp*n.legacyEhp,dpsProxy:e.derived.dpsProxy*n.dpsProxy,spellProxy:e.derived.spellProxy*n.spellProxy,meleeProxy:e.derived.meleeProxy*n.meleeProxy,ehpProxy:e.derived.ehpProxy*n.ehpProxy,speed:e.aggregated.speed*n.speed,sustain:i*n.sustain,skillPointTotal:e.derived.skillPointTotal*n.skillPointTotal,reqPenalty:r,thresholdPenalty:c};return{score:u.legacyBaseDps+u.legacyEhp+u.dpsProxy+u.spellProxy+u.meleeProxy+u.ehpProxy+u.speed+u.sustain+u.skillPointTotal-u.reqPenalty-u.thresholdPenalty,breakdown:u}}function ZA(e,n){const l=new Map;for(const i of tt){const r=e[i];if(r==null)continue;const c=n.itemSetName.get(r);c&&l.set(c,(l.get(c)??0)+1)}return l}function yh(e,n,l){const i=l.itemSetName.get(e);if(!i)return!1;const r=l.setsMeta.get(i);if(!r)return!1;let c=0;for(const u of tt){const f=n[u];f!=null&&l.itemSetName.get(f)===i&&c++}return r.illegalCounts.includes(c+1)}const hf=[[10,10,10,10,10],[20,20,20,20,20],[30,30,30,30,30]],Yy=["str","dex","int","def","agi"],ka=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"];function cl(e){return Math.round(e.numeric.atkTier||0)}function bh(e,n){switch(n){case"str":return Math.max(0,e.numeric.spStr);case"dex":return Math.max(0,e.numeric.spDex);case"int":return Math.max(0,e.numeric.spInt);case"def":return Math.max(0,e.numeric.spDef);case"agi":return Math.max(0,e.numeric.spAgi)}}function FA(e,n){switch(n){case"str":return e.numeric.reqStr;case"dex":return e.numeric.reqDex;case"int":return e.numeric.reqInt;case"def":return e.numeric.reqDef;case"agi":return e.numeric.reqAgi}}function YA(e,n){if(n.length===0)return 0;let l=0;for(const i of n)l+=bh(e,i)*10,l-=Math.max(0,FA(e,i))*.7;return l-=Math.max(0,e.roughScoreFields.reqTotal)*.12,l}function ml(e){return{...e}}function GA(e,n){const l=e.weapon;if(l==null)return null;const i=n.itemsById.get(l);if(!i)return null;const r=ka.indexOf(i.atkSpd);if(r<0)return null;let c=0;for(const f of tt){const p=e[f];if(p==null)continue;const g=n.itemsById.get(p);g&&(c+=cl(g))}const u=Math.max(0,Math.min(ka.length-1,r+c));return ka[u]}function VA(e,n){let l=0;for(const i of tt){const r=e[i];if(r==null)continue;const c=n.itemsById.get(r);c&&(l+=cl(c))}return l}function KA(e,n,l){if(l.weaponAttackSpeeds.length===0)return null;const i=e.weapon;if(i==null)return null;const r=n.itemsById.get(i);if(!r)return null;const c=ka.indexOf(r.atkSpd);if(c<0)return null;const u=[...new Set(l.weaponAttackSpeeds.map(b=>ka.indexOf(b)).filter(b=>b>=0))].sort((b,v)=>b-v);if(u.length===0)return null;const f=VA(e,n),p=Math.max(0,Math.min(ka.length-1,c+f));let g=0;if(!u.includes(p)){const b=u.reduce((v,x)=>Math.abs(x-p)<Math.abs(v-p)?x:v,u[0]);g=b>p?1:b<p?-1:0}return{baseSpeedIndex:c,fixedAtkTierTotal:f,allowedFinalIndices:u,allowedFinalIndexSet:new Set(u),preferredDirection:g}}function px(e,n,l){const i=new Array(e.length+1).fill(0),r=new Array(e.length+1).fill(0);for(let c=e.length-1;c>=0;c--){const u=n.get(e[c])??[];let f=0,p=0;if(u.length>0){f=1/0,p=-1/0;for(const g of u){const b=l.itemsById.get(g.id),v=b?cl(b):0;v<f&&(f=v),v>p&&(p=v)}Number.isFinite(f)||(f=0),Number.isFinite(p)||(p=0)}i[c]=i[c+1]+f,r[c]=r[c+1]+p}return{minSuffix:i,maxSuffix:r}}function vx(e,n,l,i){const r=e.fixedAtkTierTotal+n+l,c=e.fixedAtkTierTotal+n+i,u=Math.min(r,c),f=Math.max(r,c);for(let p=u;p<=f;p++){const g=Math.max(0,Math.min(ka.length-1,e.baseSpeedIndex+p));if(e.allowedFinalIndexSet.has(g))return!0}return!1}function sc(e,n,l=0,i=0){if(!e||!e.preferredDirection)return 0;const r=e.fixedAtkTierTotal+(n??0),c=Math.max(0,Math.min(ka.length-1,e.baseSpeedIndex+r+l)),u=Math.max(0,Math.min(ka.length-1,e.baseSpeedIndex+r+i)),f=Math.min(c,u),p=Math.max(c,u);let g=1/0,b=0;for(let x=f;x<=p;x++){let _=1/0;for(const N of e.allowedFinalIndices){const w=Math.abs(N-x);w<_&&(_=w)}_<g&&(g=_),_>b&&(b=_)}if(!Number.isFinite(g)||b===0)return 0;const v=e.preferredDirection>0?f:-p;return-b*1e3-g*100+v}function WA(e,n,l,i){const{target:r}=n,c=[];if(typeof r.minLegacyBaseDps=="number"&&e.derived.legacyBaseDps<r.minLegacyBaseDps&&c.push(`minLegacyBaseDps (${e.derived.legacyBaseDps} < ${r.minLegacyBaseDps})`),typeof r.minLegacyEhp=="number"&&e.derived.legacyEhp<r.minLegacyEhp&&c.push(`minLegacyEhp (${e.derived.legacyEhp} < ${r.minLegacyEhp})`),typeof r.minDpsProxy=="number"&&e.derived.dpsProxy<r.minDpsProxy&&c.push(`minDpsProxy (${e.derived.dpsProxy} < ${r.minDpsProxy})`),typeof r.minEhpProxy=="number"&&e.derived.ehpProxy<r.minEhpProxy&&c.push(`minEhpProxy (${e.derived.ehpProxy} < ${r.minEhpProxy})`),typeof r.minMr=="number"&&e.aggregated.mr<r.minMr&&c.push(`minMr (${e.aggregated.mr} < ${r.minMr})`),typeof r.minMs=="number"&&e.aggregated.ms<r.minMs&&c.push(`minMs (${e.aggregated.ms} < ${r.minMs})`),typeof r.minSpeed=="number"&&e.aggregated.speed<r.minSpeed&&c.push(`minSpeed (${e.aggregated.speed} < ${r.minSpeed})`),typeof r.minSkillPointTotal=="number"&&e.derived.skillPointTotal<r.minSkillPointTotal&&c.push(`minSkillPointTotal (${e.derived.skillPointTotal} < ${r.minSkillPointTotal})`),typeof r.maxReqTotal=="number"&&e.derived.reqTotal>r.maxReqTotal&&c.push(`maxReqTotal (${e.derived.reqTotal} > ${r.maxReqTotal})`),(r.customNumericRanges?.length??0)>0&&l&&i)for(const u of r.customNumericRanges??[]){const f=u.key?.trim();if(!f)continue;let p=0;for(const g of tt){const b=l[g];if(b==null)continue;const v=i.itemsById.get(b);v&&(p+=v.numericIndex[f]??0)}typeof u.min=="number"&&p<u.min&&c.push(`${f} (${p} < ${u.min})`),typeof u.max=="number"&&p>u.max&&c.push(`${f} (${p} > ${u.max})`)}return c.length>0?{ok:!1,failedChecks:c}:{ok:!0}}function yx(e,n,l,i){for(const u of tt){const f=e[u];if(f==null)continue;const p=n.itemsById.get(f);if(!p)return{ok:!1,reason:"item"};if(!bx(p,l))return{ok:!1,reason:"item"}}const r=ZA(e,n);for(const[u,f]of r){const p=n.setsMeta.get(u);if(p&&p.illegalCounts.includes(f))return{ok:!1,reason:"item"}}if(l.weaponAttackSpeeds.length>0){const u=GA(e,n);if(!u||!l.weaponAttackSpeeds.includes(u))return{ok:!1,reason:"attackSpeed"}}const c=WA(i,l,e,n);return c.ok?{ok:!0}:{ok:!1,reason:"thresholds",failedChecks:c.failedChecks}}function bx(e,n){return!(!n.allowRestricted&&(e.restricted||e.deprecated)||e.level>n.level||!O0(e,n.characterClass)||n.excludedIds.includes(e.id)||n.allowedTiers.length>0&&!n.allowedTiers.includes(e.tier)||n.minPowderSlots!=null&&e.powderSlots<n.minPowderSlots||n.excludedMajorIds.length>0&&n.excludedMajorIds.some(l=>e.majorIds.includes(l)))}const Aa=2.5;function $f(e,n){const l={...n};return typeof e.minLegacyBaseDps=="number"&&(l.legacyBaseDps=Math.max(l.legacyBaseDps,oa.legacyBaseDps*Aa)),typeof e.minLegacyEhp=="number"&&(l.legacyEhp=Math.max(l.legacyEhp,oa.legacyEhp*Aa)),typeof e.minDpsProxy=="number"&&(l.dpsProxy=Math.max(l.dpsProxy,oa.dpsProxy*Aa)),typeof e.minEhpProxy=="number"&&(l.ehpProxy=Math.max(l.ehpProxy,oa.ehpProxy*Aa)),(typeof e.minMr=="number"||typeof e.minMs=="number")&&(l.sustain=Math.max(l.sustain,oa.sustain*Aa)),typeof e.minSpeed=="number"&&(l.speed=Math.max(l.speed,oa.speed*Aa)),typeof e.minSkillPointTotal=="number"&&(l.skillPointTotal=Math.max(l.skillPointTotal,oa.skillPointTotal*Aa)),typeof e.maxReqTotal=="number"&&(l.reqTotalPenalty=Math.max(l.reqTotalPenalty,oa.reqTotalPenalty*Aa)),(e.customNumericRanges?.length??0)>0&&(l.sustain=Math.max(l.sustain,oa.sustain*Aa)),l}const XA=3,QA=2,JA=14;function eR(e,n){let l=e.numeric.baseDps*n.weights.legacyBaseDps+e.roughScoreFields.ehpProxy*n.weights.legacyEhp+e.roughScoreFields.offense*n.weights.dpsProxy+e.roughScoreFields.ehpProxy*n.weights.ehpProxy+e.numeric.spd*n.weights.speed+e.roughScoreFields.utility*n.weights.sustain+e.roughScoreFields.skillPointTotal*n.weights.skillPointTotal-e.roughScoreFields.reqTotal*n.weights.reqTotalPenalty;const i=n.target.customNumericRanges??[],c=i.some(u=>typeof u.min=="number")?JA:XA;for(const u of i){const f=u.key?.trim();if(!f)continue;const p=e.numericIndex[f]??0;typeof u.min=="number"&&(l+=p*c),typeof u.max=="number"&&(l-=p*QA)}return l}function xx(e){const n=e.ring1??0,l=e.ring2??0,[i,r]=n<=l?[n,l]:[l,n];return[e.helmet??0,e.chestplate??0,e.leggings??0,e.boots??0,i,r,e.bracelet??0,e.necklace??0,e.weapon??0].join("|")}function Sx(e,n){return ua(n)===e.category}function tR(e,n,l){const i=ml(e),r=new Set(tt.filter(c=>i[c]!=null));for(const c of l.mustIncludeIds){const u=n.itemsById.get(c);if(!u)continue;const p=tt.filter(g=>!r.has(g)&&Sx(u,g))[0];p&&(i[p]=u.id,r.add(p))}return i}function nR(e,n){const l={str:0,dex:0,int:0,def:0,agi:0};for(const r of tt){const c=e[r];if(c==null)continue;const u=n.itemsById.get(c);u&&(l.str=Math.max(l.str,u.numeric.reqStr),l.dex=Math.max(l.dex,u.numeric.reqDex),l.int=Math.max(l.int,u.numeric.reqInt),l.def=Math.max(l.def,u.numeric.reqDef),l.agi=Math.max(l.agi,u.numeric.reqAgi))}const i=Yy.filter(r=>l[r]>100).sort((r,c)=>l[c]-l[r]);return i.length>0?i:Yy.filter(r=>l[r]>=70).sort((r,c)=>l[c]-l[r]).slice(0,2)}function aR(e,n,l){if(l.length===0)return[];const i={str:0,dex:0,int:0,def:0,agi:0};for(const r of tt){const c=e[r];if(c==null)continue;const u=n.itemsById.get(c);u&&(i.str=Math.max(i.str,u.numeric.reqStr),i.dex=Math.max(i.dex,u.numeric.reqDex),i.int=Math.max(i.int,u.numeric.reqInt),i.def=Math.max(i.def,u.numeric.reqDef),i.agi=Math.max(i.agi,u.numeric.reqAgi))}return l.map(r=>Math.max(0,i[r]-100))}function Gy(e,n){return n.map(l=>bh(e,l))}function Uo(e,n){if(e.length===0)return n.slice();const l=new Array(e.length);for(let i=0;i<e.length;i++)l[i]=(e[i]??0)+(n[i]??0);return l}function lR(e,n,l){for(let i=0;i<l.length;i++)if((e[i]??0)+(n[i]??0)<l[i])return!1;return!0}function Vy(e,n){let l=0;for(let i=0;i<n.length;i++)l+=Math.max(0,n[i]-(e[i]??0));return l}function Ky(e,n,l,i){if(i.length===0)return 0;const r=n.get(e)??[];let c=0;for(const u of r){const f=l.itemsById.get(u.id);if(!f)continue;let p=0;for(const g of i)p+=bh(f,g);p>c&&(c=p)}return c}function ic(e){return(e.target.customNumericRanges??[]).map(n=>({key:(n.key??"").trim(),min:typeof n.min=="number"?n.min:void 0,max:typeof n.max=="number"?n.max:void 0})).filter(n=>n.key&&(typeof n.min=="number"||typeof n.max=="number"))}function Ro(e,n,l){const i=n.itemsById.get(e.id);return i?i.numericIndex[l]??0:0}function wx(e,n,l){const i=l.map(()=>0);if(l.length===0)return i;for(const r of tt){const c=e[r];if(c==null)continue;const u=n.itemsById.get(c);if(u)for(let f=0;f<l.length;f++)i[f]+=u.numericIndex[l[f]]??0}return i}function _x(e){const{slotOrder:n,candidatePools:l,catalog:i,keys:r}=e,c=Array.from({length:n.length+1},()=>r.map(()=>0)),u=Array.from({length:n.length+1},()=>r.map(()=>0));if(r.length===0)return{maxSuffix:c,minSuffix:u};for(let f=n.length-1;f>=0;f--){const p=l.get(n[f])??[],g=r.map(()=>Number.NEGATIVE_INFINITY),b=r.map(()=>Number.POSITIVE_INFINITY);for(const v of p){const x=i.itemsById.get(v.id);if(x)for(let _=0;_<r.length;_++){const N=x.numericIndex[r[_]]??0;N>g[_]&&(g[_]=N),N<b[_]&&(b[_]=N)}}for(let v=0;v<r.length;v++){const x=Number.isFinite(g[v])?g[v]:0,_=Number.isFinite(b[v])?b[v]:0;c[f][v]=c[f+1][v]+x,u[f][v]=u[f+1][v]+_}}return{maxSuffix:c,minSuffix:u}}function sR(e,n,l,i,r=[]){const c=[],u=ic(l);for(const A of n.items)Sx(A,e)&&(i&&!i.has(A.id)||bx(A,l)&&c.push({id:A.id,rough:eR(A,l),reqTotal:A.roughScoreFields.reqTotal,skillPointTotal:A.roughScoreFields.skillPointTotal,utility:A.roughScoreFields.utility+A.numeric.spd*.8,level:A.level,atkTier:cl(A),spStr:A.numeric.spStr,spDex:A.numeric.spDex,spInt:A.numeric.spInt,spDef:A.numeric.spDef,spAgi:A.numeric.spAgi,supportFocus:YA(A,r)}));const f=[...c].sort((A,j)=>A.rough!==j.rough?j.rough-A.rough:A.id-j.id),p=[...c].sort((A,j)=>A.reqTotal!==j.reqTotal?A.reqTotal-j.reqTotal:A.level!==j.level?A.level-j.level:A.id-j.id),g=[...c].sort((A,j)=>A.skillPointTotal!==j.skillPointTotal?j.skillPointTotal-A.skillPointTotal:A.reqTotal!==j.reqTotal?A.reqTotal-j.reqTotal:A.id-j.id),b=[...c].sort((A,j)=>A.utility!==j.utility?j.utility-A.utility:A.reqTotal!==j.reqTotal?A.reqTotal-j.reqTotal:A.id-j.id),v=l.weaponAttackSpeeds.length>0?[...c].sort((A,j)=>{const F=Math.max(0,A.atkTier),se=Math.max(0,j.atkTier);return F!==se?se-F:A.atkTier!==j.atkTier?j.atkTier-A.atkTier:A.reqTotal!==j.reqTotal?A.reqTotal-j.reqTotal:A.skillPointTotal!==j.skillPointTotal?j.skillPointTotal-A.skillPointTotal:A.id-j.id}):[],x=r.length>0?[...c].sort((A,j)=>A.supportFocus!==j.supportFocus?j.supportFocus-A.supportFocus:A.reqTotal!==j.reqTotal?A.reqTotal-j.reqTotal:A.skillPointTotal!==j.skillPointTotal?j.skillPointTotal-A.skillPointTotal:A.id-j.id):[],_=r.map(A=>[...c].sort((j,F)=>{const se=A==="str"?j.spStr:A==="dex"?j.spDex:A==="int"?j.spInt:A==="def"?j.spDef:j.spAgi,re=A==="str"?F.spStr:A==="dex"?F.spDex:A==="int"?F.spInt:A==="def"?F.spDef:F.spAgi;return se!==re?re-se:j.reqTotal!==F.reqTotal?j.reqTotal-F.reqTotal:j.supportFocus!==F.supportFocus?F.supportFocus-j.supportFocus:j.id-F.id})),N=u.filter(A=>typeof A.min=="number").map(A=>[...c].sort((j,F)=>{const se=Ro(j,n,A.key),re=Ro(F,n,A.key);return se!==re?re-se:j.reqTotal!==F.reqTotal?j.reqTotal-F.reqTotal:j.skillPointTotal!==F.skillPointTotal?F.skillPointTotal-j.skillPointTotal:j.id-F.id})),w=u.filter(A=>typeof A.max=="number").map(A=>[...c].sort((j,F)=>{const se=Ro(j,n,A.key),re=Ro(F,n,A.key);return se!==re?se-re:j.reqTotal!==F.reqTotal?j.reqTotal-F.reqTotal:j.skillPointTotal!==F.skillPointTotal?F.skillPointTotal-j.skillPointTotal:j.id-F.id})),M=Math.max(10,l.topKPerSlot),z=Math.min(140,Math.max(40,Math.floor(M*.8))),I=Math.min(c.length,M+z+(r.length>0?Math.min(60,r.length*12):0)+Math.min(80,u.length*14)),O=new Map,L=Math.min(12,Math.floor(M*.4),f.length);for(let A=0;A<L;A++){const j=f[A];O.set(j.id,{id:j.id,rough:j.rough})}const H=[{list:f,remaining:Math.max(0,M-L),cursor:0},{list:p,remaining:Math.floor(z*.28),cursor:0},{list:g,remaining:Math.floor(z*.24),cursor:0},{list:b,remaining:Math.floor(z*.18),cursor:0}];v.length>0&&H.push({list:v,remaining:Math.max(18,Math.floor(z*.22)),cursor:0}),x.length>0&&H.push({list:x,remaining:Math.max(16,Math.floor(z*.2)),cursor:0});for(const A of _)H.push({list:A,remaining:10,cursor:0});for(const A of N)H.push({list:A,remaining:35,cursor:0});for(const A of w)H.push({list:A,remaining:20,cursor:0});for(;O.size<I;){let A=!1;for(const j of H)if(!(j.remaining<=0))for(;j.cursor<j.list.length;){const F=j.list[j.cursor++];if(!O.has(F.id)){O.set(F.id,{id:F.id,rough:F.rough}),j.remaining--,A=!0;break}}if(!A)break}if(O.size<I)for(const A of f){if(O.size>=I)break;O.has(A.id)||O.set(A.id,{id:A.id,rough:A.rough})}return[...O.values()]}function iR(e){const n={};for(const l of tt){const i=ua(l),r=new Set(e.binsByCategory[i]??[]),c=e.slots[l];c!=null&&r.add(c),n[l]=r}return n}function Ex(e,n,l){if(l.length===0)return!0;const i=new Set;for(const r of tt){const c=e[r];if(c==null)continue;const u=n.itemsById.get(c);if(u)for(const f of u.majorIds)l.includes(f)&&i.add(f)}return l.every(r=>i.has(r))}function Tx(e,n){const l=new Array(e.length+1).fill(0);for(let i=e.length-1;i>=0;i--){const r=e[i],c=n.get(r)??[];let u=0;for(const f of c)f.rough>u&&(u=f.rough);l[i]=l[i+1]+u}return l}function Nx(e){const{poolSize:n,beamSize:l,remainingStages:i,processedStates:r,maxStates:c}=e;if(n<=0)return 0;const u=Math.max(0,c-r),f=Math.max(1,l*Math.max(1,i)),p=Math.floor(u/f),g=Math.max(8,Math.min(96,p));return Math.min(n,g)}function rR(e,n,l){let i=1;for(const r of e){const c=n.get(r)?.length??0;if(c===0)return 0;if(i*=c,i>l)return i}return i}function mf(e){const{beam:n,catalog:l,constraints:i,skillpointAssist:r,signal:c}=e,u=[],f=new Set,p={majorIds:0,spInvalid:0,duplicate:0,hardConstraints:0,hardAttackSpeed:0,hardThresholds:0,hardItem:0,thresholdFailureExample:void 0};for(const g of n){if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");if(!Ex(g.slots,l,i.requiredMajorIds)){p.majorIds++;continue}const b=tc({slots:g.slots,level:i.level,characterClass:i.characterClass},l,r?{skillpointFeasibility:{extraBaseSkillPoints:r}}:void 0);if(!b.derived.skillpointFeasible){p.spInvalid++;continue}const v=yx(g.slots,l,i,b);if(!v.ok){p.hardConstraints++,v.reason==="attackSpeed"?p.hardAttackSpeed++:v.reason==="thresholds"?(p.hardThresholds++,p.thresholdFailureExample===void 0&&v.failedChecks?.length&&(p.thresholdFailureExample=v.failedChecks[0])):p.hardItem++;continue}const x=xx(g.slots);if(f.has(x)){p.duplicate++;continue}const{score:_,breakdown:N}=gx(b,i.weights,i);f.add(x),u.push({slots:ml(g.slots),score:_,scoreBreakdown:N,summary:b})}return u.sort((g,b)=>{if(g.score!==b.score)return b.score-g.score;for(const v of tt){const x=g.slots[v]??0,_=b.slots[v]??0;if(x!==_)return x-_}return 0}),{candidates:u,rejectStats:p}}function oR(e){const{slotOrder:n,candidatePools:l,baseSlots:i,catalog:r,constraints:c,focusStats:u,attackSpeedCtx:f,onProgress:p,signal:g}=e,b=Tx(n,l),v=f?px(n,l,r):null,x=aR(i,r,u),_=Array.from({length:n.length+1},()=>u.map(()=>0));for(let H=n.length-1;H>=0;H--){const A=l.get(n[H])??[],j=u.map(()=>0);for(const F of A){const se=r.itemsById.get(F.id);if(!se)continue;const re=Gy(se,u);for(let Q=0;Q<re.length;Q++)re[Q]>j[Q]&&(j[Q]=re[Q])}_[H]=Uo(_[H+1],j)}const N=ic(c),w=N.map(H=>H.key),M=_x({slotOrder:n,candidatePools:l,catalog:r,keys:w}),z=wx(i,r,w);let I=[{slots:ml(i),orderIndex:0,roughScore:0,optimisticBound:b[0],feasibilityAssigned:0,focusSupport:u.map(()=>0),atkTierAssigned:0,customTotals:z}],O=0,L=!1;for(let H=0;H<n.length;H++){if(g?.aborted)throw new DOMException("Auto build cancelled","AbortError");const A=n[H],j=l.get(A)??[],F=[],se=Nx({poolSize:j.length,beamSize:I.length,remainingStages:n.length-H,processedStates:O,maxStates:c.maxStates});se<=0&&(L=!0);for(const ce of I){let k=0;for(const ue of j){if(k>=se)break;if(O>=c.maxStates){L=!0;break}if(O++,k++,yh(ue.id,ce.slots,r))continue;const de=ml(ce.slots);de[A]=ue.id;const R=r.itemsById.get(ue.id),G=(ce.atkTierAssigned??0)+(R?cl(R):0),le=Uo(ce.focusSupport??u.map(()=>0),R?Gy(R,u):u.map(()=>0)),B=w.length>0?Uo(ce.customTotals??w.map(()=>0),w.map(q=>R?R.numericIndex[q]??0:0)):void 0;if(f&&v&&!vx(f,G,v.minSuffix[H+1],v.maxSuffix[H+1])||u.length>0&&!lR(le,_[H+1],x))continue;if(N.length>0&&B){let q=!0;for(let J=0;J<N.length;J++){const ae=N[J],fe=B[J];if(typeof ae.min=="number"&&fe+M.maxSuffix[H+1][J]<ae.min){q=!1;break}if(typeof ae.max=="number"&&fe+M.minSuffix[H+1][J]>ae.max){q=!1;break}}if(!q)continue}const W=gh(de,r,c.level),T=ce.roughScore+ue.rough;F.push({slots:de,orderIndex:H+1,roughScore:T,optimisticBound:T+b[H+1],feasibilityAssigned:W.feasible?W.assignedTotal:1/0,focusSupport:le,atkTierAssigned:G,customTotals:B})}if(L)break}if(F.length===0)return p?.({phase:"diagnostics",processedStates:O,beamSize:I.length,totalSlots:n.length,expandedSlots:H,detail:L?`Feasibility-first search exhausted state budget before completing slot ${A}.`:`Feasibility-first search found no branches that can still satisfy high-skill requirements by slot ${A}.`}),{beam:[],processedStates:O,stateBudgetHit:L};const re=v?v.minSuffix[H+1]:0,Q=v?v.maxSuffix[H+1]:0;F.sort((ce,k)=>{if(f){const R=sc(f,ce.atkTierAssigned,re,Q),G=sc(f,k.atkTierAssigned,re,Q);if(R!==G)return G-R}if(u.length>0){const R=Vy(ce.focusSupport??[],x),G=Vy(k.focusSupport??[],x);if(R!==G)return R-G}const ue=ce.feasibilityAssigned??1/0,de=k.feasibilityAssigned??1/0;return ue!==de?ue-de:ce.optimisticBound!==k.optimisticBound?k.optimisticBound-ce.optimisticBound:ce.roughScore!==k.roughScore?k.roughScore-ce.roughScore:0}),I=F.slice(0,Math.max(40,c.beamWidth)),p?.({phase:"beam-search",processedStates:O,beamSize:I.length,totalSlots:n.length,expandedSlots:H+1,detail:`feasibility-first | branchCap=${se}${u.length>0?` | focus=${u.join("/")}`:""}${f?` | atkSpeed=${c.weaponAttackSpeeds.join("/")}`:""}`})}return{beam:I,processedStates:O,stateBudgetHit:L}}function cR(e){const{slotOrder:n,candidatePools:l,baseSlots:i,catalog:r,constraints:c,signal:u,onProgress:f}=e,p=[],g=new Set;let b=0,v=0,x=0,_=0,N=0,w=0,M=0,z=0;const I=(O,L)=>{if(u?.aborted)throw new DOMException("Auto build cancelled","AbortError");if(b>c.maxStates)return;if(O>=n.length){if(!Ex(L,r,c.requiredMajorIds)){v++;return}const j=tc({slots:L,level:c.level,characterClass:c.characterClass},r);if(!j.derived.skillpointFeasible){x++;return}const F=yx(L,r,c,j);if(!F.ok){N++,F.reason==="attackSpeed"?w++:F.reason==="thresholds"?M++:z++;return}const se=xx(L);if(g.has(se)){_++;return}g.add(se);const{score:re,breakdown:Q}=gx(j,c.weights,c);p.push({slots:ml(L),score:re,scoreBreakdown:Q,summary:j});return}const H=n[O],A=l.get(H)??[];for(const j of A){if(b++,b>c.maxStates)break;yh(j.id,L,r)||(L[H]=j.id,b%2e3===0&&f?.({phase:"exact-search",processedStates:b,beamSize:0,totalSlots:n.length,expandedSlots:O+1}),I(O+1,L))}L[H]=null};return I(0,ml(i)),f?.({phase:"diagnostics",processedStates:b,beamSize:0,totalSlots:n.length,expandedSlots:n.length,detail:p.length>0?`Exact search produced ${p.length} valid builds. Rejected duplicates=${_}, SP-invalid=${x}, majorID=${v}, hard=${N} (speed=${w}, thresholds=${M}, item=${z}).`:`Exact search produced 0 valid builds. Rejected SP-invalid=${x}, majorID=${v}, duplicates=${_}, hard=${N} (speed=${w}, thresholds=${M}, item=${z}).`}),p.sort((O,L)=>{if(O.score!==L.score)return L.score-O.score;for(const H of tt){const A=O.slots[H]??0,j=L.slots[H]??0;if(A!==j)return A-j}return 0}),p.slice(0,Math.max(1,c.topN))}function Mx(e){const{catalog:n,baseWorkbench:l,constraints:i,onProgress:r,signal:c,alreadyThresholdRescue:u}=e;if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");let f=ml(l.slots);for(const k of tt)i.lockedSlots[k]||(f[k]=null);f=tR(f,n,i);const p=nR(f,n),g=tt.filter(k=>f[k]==null),b=i.onlyPinnedItems?iR(l):null,v=new Map;for(const k of g)v.set(k,sR(k,n,i,b?.[k]??null,p));const x=KA(f,n,i),N=ic(i).some(k=>typeof k.min=="number"),w=[...g].sort((k,ue)=>{if(x?.preferredDirection){const G=v.get(k)??[],le=v.get(ue)??[],B=G.reduce((T,q)=>{const J=n.itemsById.get(q.id);if(!J)return T;const ae=cl(J),fe=x.preferredDirection>0?Math.max(0,ae):Math.max(0,-ae);return Math.max(T,fe)},0),W=le.reduce((T,q)=>{const J=n.itemsById.get(q.id);if(!J)return T;const ae=cl(J),fe=x.preferredDirection>0?Math.max(0,ae):Math.max(0,-ae);return Math.max(T,fe)},0);if(B!==W)return W-B}if(p.length>0){const G=Ky(k,v,n,p),le=Ky(ue,v,n,p);if(G!==le)return le-G}if(N){const G=["ring1","ring2","bracelet","necklace"],le=G.includes(k),B=G.includes(ue);if(le!==B)return le?-1:1}const de=v.get(k)?.length??0,R=v.get(ue)?.length??0;return de!==R?de-R:k.localeCompare(ue)}),M=Tx(w,v);if(w.some(k=>(v.get(k)?.length??0)===0)){const k=w.find(ue=>(v.get(ue)?.length??0)===0);return r?.({phase:"diagnostics",processedStates:0,beamSize:0,totalSlots:w.length,expandedSlots:0,detail:k?`No candidate items available for slot ${k} under current hard filters.`:"One or more slots have empty candidate pools."}),[]}const z=rR(w,v,i.exhaustiveStateLimit+1);if(i.useExhaustiveSmallPool&&w.length>0&&z>0&&z<=i.exhaustiveStateLimit){r?.({phase:"exact-search",processedStates:0,beamSize:0,totalSlots:w.length,expandedSlots:0});const k={...i,maxStates:Math.max(i.maxStates,i.exhaustiveStateLimit)};return cR({slotOrder:w,candidatePools:v,baseSlots:f,catalog:n,constraints:k,signal:c,onProgress:r})}const I=ic(i),O=I.map(k=>k.key),L=_x({slotOrder:w,candidatePools:v,catalog:n,keys:O});let H=[{slots:f,orderIndex:0,roughScore:0,optimisticBound:M[0],atkTierAssigned:0,customTotals:wx(f,n,O)}];const A=x?px(w,v,n):null;let j=0,F=!1;for(let k=0;k<w.length;k++){if(c?.aborted)throw new DOMException("Auto build cancelled","AbortError");const ue=w[k],de=v.get(ue),R=[],G=Nx({poolSize:de.length,beamSize:H.length,remainingStages:w.length-k,processedStates:j,maxStates:i.maxStates});G<=0&&(F=!0);for(const W of H){let T=0;for(const q of de){if(T>=G)break;if(j>=i.maxStates){F=!0;break}if(j++,T++,yh(q.id,W.slots,n))continue;const J=ml(W.slots);J[ue]=q.id;const ae=W.roughScore+q.rough,fe=n.itemsById.get(q.id),ge=(W.atkTierAssigned??0)+(fe?cl(fe):0),be=O.length>0?Uo(W.customTotals??O.map(()=>0),O.map(ke=>fe?fe.numericIndex[ke]??0:0)):void 0;if(!(x&&A&&!vx(x,ge,A.minSuffix[k+1],A.maxSuffix[k+1]))){if(I.length>0&&be){let ke=!0;for(let ze=0;ze<I.length;ze++){const Ye=I[ze],kt=be[ze];if(typeof Ye.min=="number"&&kt+L.maxSuffix[k+1][ze]<Ye.min){ke=!1;break}if(typeof Ye.max=="number"&&kt+L.minSuffix[k+1][ze]>Ye.max){ke=!1;break}}if(!ke)continue}R.push({slots:J,orderIndex:k+1,roughScore:ae,optimisticBound:ae+M[k+1],atkTierAssigned:ge,customTotals:be})}}if(F)break}if(R.length===0)return r?.({phase:"diagnostics",processedStates:j,beamSize:H.length,totalSlots:w.length,expandedSlots:k,detail:F?`Search state budget exhausted before completing slot ${ue}. Try enabling deep fallback/exact mode or reduce hard filters.`:`No expansions produced at slot ${ue}.`}),[];const le=A?A.minSuffix[k+1]:0,B=A?A.maxSuffix[k+1]:0;R.sort((W,T)=>{if(x){const q=sc(x,W.atkTierAssigned,le,B),J=sc(x,T.atkTierAssigned,le,B);if(q!==J)return J-q}return W.optimisticBound!==T.optimisticBound?T.optimisticBound-W.optimisticBound:T.roughScore-W.roughScore}),H=R.slice(0,Math.max(20,i.beamWidth)),r?.({phase:"beam-search",processedStates:j,beamSize:H.length,totalSlots:w.length,expandedSlots:k+1,detail:`branchCap=${G}${x?.preferredDirection?` | atkSpeedTarget=${i.weaponAttackSpeeds.join("/")}`:""}`})}let se=H,{candidates:re,rejectStats:Q}=mf({beam:H,catalog:n,constraints:i,signal:c});const ce=Q.thresholdFailureExample?` Example failure: ${Q.thresholdFailureExample}.`:"";if(r?.({phase:"diagnostics",processedStates:j,beamSize:H.length,totalSlots:w.length,expandedSlots:w.length,detail:re.length>0?`Final eval: ${re.length} valid builds. Rejected duplicates=${Q.duplicate}, SP-invalid=${Q.spInvalid}, majorID=${Q.majorIds}, hard=${Q.hardConstraints}.`:`Final eval found 0 valid builds. Rejected SP-invalid=${Q.spInvalid}, majorID=${Q.majorIds}, duplicates=${Q.duplicate}, hard=${Q.hardConstraints} (speed=${Q.hardAttackSpeed}, thresholds=${Q.hardThresholds}, item=${Q.hardItem}).${ce}`}),re.length===0&&w.length>0&&(Q.spInvalid>0||i.weaponAttackSpeeds.length>0&&Q.hardAttackSpeed>0||Q.hardThresholds>0)){const k=Q.hardThresholds>0;r?.({phase:"diagnostics",processedStates:j,beamSize:H.length,totalSlots:w.length,expandedSlots:w.length,detail:k&&i.target.customNumericRanges?.length?"Retrying with threshold-aware rescue (advanced ID constraints + support-aware feasibility search).":Q.hardAttackSpeed>0?"Retrying with feasibility-first beam search (support-aware rescue + attack-speed target reachability).":"Retrying with feasibility-first beam search (support-aware rescue for high-skill requirements)."});const ue={...i,maxStates:Math.max(i.maxStates,k?Math.min(18e6,i.maxStates*5):i.weaponAttackSpeeds.length>0?Math.min(16e6,i.maxStates*4):Math.min(8e6,i.maxStates*2)),beamWidth:Math.max(i.beamWidth,k?3600:i.weaponAttackSpeeds.length>0?3200:1800)};k&&(ue.weights=$f(i.target,i.weights));const de=oR({slotOrder:w,candidatePools:v,baseSlots:f,catalog:n,constraints:ue,focusStats:p,attackSpeedCtx:x,onProgress:r,signal:c});if(de.beam.length>0){se=de.beam;const R=mf({beam:de.beam,catalog:n,constraints:i,signal:c});re=R.candidates,Q=R.rejectStats;const G=Q.thresholdFailureExample?` Example failure: ${Q.thresholdFailureExample}.`:"";r?.({phase:"diagnostics",processedStates:de.processedStates,beamSize:de.beam.length,totalSlots:w.length,expandedSlots:w.length,detail:re.length>0?`Feasibility-first eval: ${re.length} valid builds. Rejected duplicates=${Q.duplicate}, SP-invalid=${Q.spInvalid}, majorID=${Q.majorIds}, hard=${Q.hardConstraints}.`:`Feasibility-first eval still found 0 valid builds. Rejected SP-invalid=${Q.spInvalid}, majorID=${Q.majorIds}, duplicates=${Q.duplicate}, hard=${Q.hardConstraints} (speed=${Q.hardAttackSpeed}, thresholds=${Q.hardThresholds}, item=${Q.hardItem}).${G}`})}}if(re.length===0&&Q.hardThresholds>0&&!u){const k=i.target;if(typeof k.minLegacyBaseDps=="number"||typeof k.minLegacyEhp=="number"||typeof k.minDpsProxy=="number"||typeof k.minEhpProxy=="number"||typeof k.minMr=="number"||typeof k.minMs=="number"||typeof k.minSpeed=="number"||typeof k.minSkillPointTotal=="number"||typeof k.maxReqTotal=="number"||(k.customNumericRanges?.length??0)>0){r?.({phase:"diagnostics",processedStates:j,beamSize:se.length,totalSlots:w.length,expandedSlots:w.length,detail:"Retrying with threshold-biased beam search (weights tuned to target min/max)."});const de={...i,weights:$f(i.target,i.weights),beamWidth:Math.max(i.beamWidth,3600),maxStates:Math.max(i.maxStates,Math.min(18e6,i.maxStates*5))},R=Mx({catalog:n,baseWorkbench:l,constraints:de,onProgress:r,signal:c,alreadyThresholdRescue:!0});if(R.length>0)return r?.({phase:"diagnostics",processedStates:j,beamSize:R.length,totalSlots:w.length,expandedSlots:w.length,detail:`Threshold rescue: ${R.length} valid builds.`}),R.slice(0,Math.max(1,i.topN))}}if(re.length===0&&Q.spInvalid>0&&Q.hardConstraints===0){let k=!1;for(const ue of hf){r?.({phase:"diagnostics",processedStates:j,beamSize:se.length,totalSlots:w.length,expandedSlots:w.length,detail:`Retrying final evaluation with tome-assisted SP feasibility (+${ue[0]} per stat).`});const de=mf({beam:se,catalog:n,constraints:i,skillpointAssist:ue,signal:c});if(de.candidates.length>0){re=de.candidates,Q=de.rejectStats,k=!0,r?.({phase:"diagnostics",processedStates:j,beamSize:se.length,totalSlots:w.length,expandedSlots:w.length,detail:`Tome-assisted final eval recovered ${re.length} valid builds (+${ue[0]} per stat feasibility assist).`});break}Q=de.rejectStats}k||r?.({phase:"diagnostics",processedStates:j,beamSize:se.length,totalSlots:w.length,expandedSlots:w.length,detail:`Tome-assisted final eval still found 0 valid builds after +${hf[hf.length-1][0]} per stat assist. Rejected SP-invalid=${Q.spInvalid}, majorID=${Q.majorIds}, duplicates=${Q.duplicate}, hard=${Q.hardConstraints} (speed=${Q.hardAttackSpeed}, thresholds=${Q.hardThresholds}, item=${Q.hardItem}).${Q.thresholdFailureExample?` Example failure: ${Q.thresholdFailureExample}.`:""}`})}return re.slice(0,Math.max(1,i.topN))}class uR{worker=null;requestId=0;currentReject=null;currentRequestId=null;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL(""+new URL("worker-runtime-Cst6v3_l.js",import.meta.url).href,import.meta.url),{type:"module"}))}async run(n,l,i,r={}){if(!this.worker)return Mx({catalog:n,baseWorkbench:l,constraints:i,onProgress:r.onProgress,signal:r.signal});const c=++this.requestId;return this.currentRequestId=c,new Promise((u,f)=>{this.currentReject=f;const p=()=>{this.worker?.postMessage({type:"cancel",requestId:c}),f(new DOMException("Auto build cancelled","AbortError"))};r.signal?.addEventListener("abort",p,{once:!0});const g=b=>{const v=b.data;if(v.requestId===c){if(v.type==="progress"){r.onProgress?.(v.progress);return}if(this.worker?.removeEventListener("message",g),r.signal?.removeEventListener("abort",p),this.currentReject=null,this.currentRequestId=null,v.type==="error"){f(new Error(v.message));return}u(v.candidates)}};this.worker.addEventListener("message",g),this.worker.postMessage({type:"run",requestId:c,catalog:n,baseWorkbench:l,constraints:i})})}cancelCurrent(){this.currentRequestId!==null&&(this.worker?.postMessage({type:"cancel",requestId:this.currentRequestId}),this.currentReject?.(new DOMException("Auto build cancelled","AbortError")),this.currentReject=null,this.currentRequestId=null)}dispose(){this.worker?.terminate(),this.worker=null}}function Wy(e,n){const l=e.split(",").map(c=>c.trim()).filter(Boolean),i=[],r=[];for(const c of l){const u=n.itemIdByName.get(c.toLowerCase());u==null?r.push(c):i.push(u)}return{ids:i,unknown:r}}function ks(e,n){return e.split(",").map(l=>l.trim()).filter(Boolean).map(l=>n?n(l):l)}function ko(e,n){return e.includes(n)?e.filter(l=>l!==n):[...e,n]}function dR(e){if(!e)return null;const n=/SP-invalid=(\d+)/i.exec(e),l=/majorID=(\d+)/i.exec(e),i=/duplicates?=(\d+)/i.exec(e),r=/hard=(\d+)/i.exec(e),c=/speed=(\d+)/i.exec(e),u=/thresholds=(\d+)/i.exec(e),f=/item=(\d+)/i.exec(e);return r?{spInvalid:n?Number(n[1]):0,majorIds:l?Number(l[1]):0,duplicate:i?Number(i[1]):0,hard:Number(r[1]),speed:c?Number(c[1]):0,thresholds:u?Number(u[1]):0,item:f?Number(f[1]):0}:null}const fR=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"],hR={constraints:"Advanced IDs only",spell:"Spell Damage",melee:"Melee",mobility:"Mobility",tank:"Tank / EHP"},mR=["constraints","spell","melee","mobility","tank"],Xy={auto:"All",fast:"Fast",constraint:"Constraint-first",exhaustive:"Exhaustive-ish"},gR=["auto","fast","constraint","exhaustive"],pR={hp:"Health",hpBonus:"Health Bonus",hprRaw:"Raw Health Regen",hprPct:"Health Regen %",mr:"Mana Regen",ms:"Mana Steal",ls:"Life Steal",sdPct:"Spell Damage %",sdRaw:"Spell Damage Raw",mdPct:"Melee Damage %",mdRaw:"Melee Damage Raw",poison:"Poison",spd:"Walk Speed Bonus",atkTier:"Attack Speed Bonus",averageDps:"Average DPS",str:"Strength",dex:"Dexterity",int:"Intelligence",def:"Defense",agi:"Agility",strReq:"Strength Min",dexReq:"Dexterity Min",intReq:"Intelligence Min",defReq:"Defense Min",agiReq:"Agility Min",eDef:"Earth Defense",tDef:"Thunder Defense",wDef:"Water Defense",fDef:"Fire Defense",aDef:"Air Defense",eDamPct:"Earth Damage %",tDamPct:"Thunder Damage %",wDamPct:"Water Damage %",fDamPct:"Fire Damage %",aDamPct:"Air Damage %",damPct:"Damage %",rDamPct:"Elemental Damage %",nDamPct:"Neutral Damage %",slots:"Powder Slots",lvl:"Combat Level",reqTotal:"Req Total",skillPointTotal:"Skill Point Total",offenseScore:"Offense Score",ehpProxy:"EHP Proxy",utilityScore:"Utility Score",spPct1:"1st Spell Cost %",spRaw1:"1st Spell Cost Raw",spPct2:"2nd Spell Cost %",spRaw2:"2nd Spell Cost Raw",spPct3:"3rd Spell Cost %",spRaw3:"3rd Spell Cost Raw",spPct4:"4th Spell Cost %",spRaw4:"4th Spell Cost Raw",sumSpPct:"Sum Spell Cost %",sumSpRaw:"Sum Spell Cost Raw"};function gf(e){return pR[e]??e}const zs={legacyBaseDps:0,legacyEhp:0,dpsProxy:0,spellProxy:0,meleeProxy:0,ehpProxy:0,speed:0,sustain:0,skillPointTotal:0,reqTotalPenalty:0};function vR(e){switch(e){case"spell":return{...zs,spellProxy:2};case"melee":return{...zs,meleeProxy:2};case"mobility":return{...zs,speed:2};case"tank":return{...zs,legacyEhp:2};case"constraints":return{...zs,legacyBaseDps:.25,legacyEhp:.25,dpsProxy:.25,spellProxy:.25,meleeProxy:.25,ehpProxy:.25,speed:.25,sustain:.25,skillPointTotal:.25,reqTotalPenalty:.25};default:return{...zs,spellProxy:2}}}function yR(e,n){return vR(e)}function bR(e){const n=S.useRef(null);n.current||(n.current=new uR);const[l,i]=S.useState(""),[r,c]=S.useState(""),[u,f]=S.useState(""),[p,g]=S.useState(""),[b,v]=S.useState([]),[x,_]=S.useState("constraints"),[N,w]=S.useState(e.snapshot.characterClass),[M,z]=S.useState(e.snapshot.level),[I,O]=S.useState([]),[L,H]=S.useState([]),[A,j]=S.useState(null),[F,se]=S.useState(!1),[re,Q]=S.useState(Ca.beamWidth),[ce,k]=S.useState(Ca.topKPerSlot),[ue,de]=S.useState(Ca.topN),[R,G]=S.useState(["auto"]),[le,B]=S.useState([]),[W,T]=S.useState(""),[q,J]=S.useState(!1),[ae,fe]=S.useState(null),[ge,be]=S.useState(!1),[ke,ze]=S.useState(!0),[Ye,kt]=S.useState(!0),[Nt,Yn]=S.useState(Ca.exhaustiveStateLimit),[pt,Kt]=S.useState(null),[Ke,Qt]=S.useState(null),oe=S.useRef(null),Oe=S.useRef(null),V=b.some(X=>X.key&&X.min!=null&&X.max!=null),ie=S.useRef(1),_e=S.useMemo(()=>{const X={};for(const he of tt)e.snapshot.locks[he]&&(X[he]=!0);return X},[e.snapshot.locks]),Ee=e.catalog?.facetsMeta.tiers??[],Ie=(e.catalog?.facetsMeta.majorIds??[]).slice(0,24),sn=S.useMemo(()=>Object.keys(e.catalog?.facetsMeta.numericRanges??{}).sort((he,Ae)=>gf(he).localeCompare(gf(Ae))),[e.catalog]);S.useEffect(()=>{e.open&&(w(e.snapshot.characterClass),z(e.snapshot.level))},[e.open,e.snapshot.characterClass,e.snapshot.level]);const Jt=()=>{v(X=>[...X,{id:ie.current++,key:sn[0]??"",min:null,max:null}])},zt=(X,he)=>{v(Ae=>Ae.map(We=>We.id===X?{...We,...he}:We))},yn=X=>{v(he=>he.filter(Ae=>Ae.id!==X))},da=async(X,he,Ae,We)=>{const wt=(()=>{const Te={label:"Fast pass",topKPerSlot:he.topKPerSlot,beamWidth:he.beamWidth,maxStates:he.maxStates,rescueWeights:!1},De={label:"Deep pass",topKPerSlot:Math.max(he.topKPerSlot,140),beamWidth:Math.max(he.beamWidth,700),maxStates:Math.max(he.maxStates,9e5),rescueWeights:!1},Ge={label:"Bruteforce-ish pass",topKPerSlot:Math.max(he.topKPerSlot,220),beamWidth:Math.max(he.beamWidth,1200),maxStates:Math.max(he.maxStates,4e6),rescueWeights:!1},it={label:"Feasibility rescue",topKPerSlot:Math.max(he.topKPerSlot,260),beamWidth:Math.max(he.beamWidth,1400),maxStates:Math.max(he.maxStates,45e5),rescueWeights:!0},we={label:"Constraint-first pass",topKPerSlot:Math.max(he.topKPerSlot,180),beamWidth:Math.max(he.beamWidth,1200),maxStates:Math.max(he.maxStates,22e5),rescueWeights:!0},Mt={label:"Constraint rescue deep",topKPerSlot:Math.max(he.topKPerSlot,280),beamWidth:Math.max(he.beamWidth,2200),maxStates:Math.max(he.maxStates,9e6),rescueWeights:!0,useExhaustiveSmallPool:!0,exhaustiveStateLimit:Math.max(he.exhaustiveStateLimit,12e5)},_t={label:"Exhaustive-ish pass",topKPerSlot:Math.max(he.topKPerSlot,300),beamWidth:Math.max(he.beamWidth,2600),maxStates:Math.max(he.maxStates,12e6),rescueWeights:!0,useExhaustiveSmallPool:!0,exhaustiveStateLimit:Math.max(he.exhaustiveStateLimit,2e6)},xe=Bt=>{switch(Bt){case"fast":return[Te];case"constraint":return ke?[we,Mt,_t]:[we];case"exhaustive":return ke?[we,_t]:[_t];default:return[Te,...ke?[De,Ge,it]:[]]}},nt=R.length>0?R:["auto"];return nt.length===1&&nt[0]==="auto"?xe("auto"):nt.flatMap(Bt=>xe(Bt))})();let en=[];for(let Te=0;Te<wt.length;Te++){if(We.aborted)throw new DOMException("Auto build cancelled","AbortError");const De=wt[Te],Ge={...he,topKPerSlot:De.topKPerSlot,beamWidth:De.beamWidth,maxStates:De.maxStates,useExhaustiveSmallPool:De.useExhaustiveSmallPool??he.useExhaustiveSmallPool,exhaustiveStateLimit:De.exhaustiveStateLimit??he.exhaustiveStateLimit,weights:De.rescueWeights?{...he.weights,legacyBaseDps:he.weights.legacyBaseDps*.6,dpsProxy:he.weights.dpsProxy*.55,legacyEhp:Math.max(he.weights.legacyEhp,1),ehpProxy:Math.max(he.weights.ehpProxy,1),sustain:Math.max(he.weights.sustain,.8),skillPointTotal:Math.max(he.weights.skillPointTotal,.8),reqTotalPenalty:Math.max(he.weights.reqTotalPenalty,1.8)}:he.weights};T(`${De.label} (${Te+1}/${wt.length})  topK ${Ge.topKPerSlot}, beam ${Ge.beamWidth}, maxStates ${Ge.maxStates}`);const it=await n.current.run(X,Ae,Ge,{signal:We,onProgress:we=>{Qt(we),we.phase==="diagnostics"&&we.detail&&(oe.current=we.detail,Kt(we.detail)),T(`${De.label} (${Te+1}/${wt.length})  ${we.phase}: ${we.expandedSlots}/${we.totalSlots} slots, beam ${we.beamSize}, states ${we.processedStates}${we.detail?`  ${we.detail}`:""}`)}});if(it.length>0)return it;en=it}if(en.length===0){const Te=he.target;if(typeof Te.minDpsProxy=="number"||typeof Te.minEhpProxy=="number"||typeof Te.minSkillPointTotal=="number"||(Te.customNumericRanges?.length??0)>0){T("Threshold rescue pass  topK 180, beam 3600, maxStates 2200000");const Ge={...he,weights:$f(he.target,he.weights),topKPerSlot:Math.max(he.topKPerSlot,180),beamWidth:Math.max(he.beamWidth,3600),maxStates:Math.max(he.maxStates,22e5)},it=await n.current.run(X,Ae,Ge,{signal:We,onProgress:we=>{Qt(we),we.phase==="diagnostics"&&we.detail&&(oe.current=we.detail,Kt(we.detail)),T(`Threshold rescue pass  ${we.phase}: ${we.expandedSlots}/${we.totalSlots} slots, beam ${we.beamSize}, states ${we.processedStates}${we.detail?`  ${we.detail}`:""}`)}});if(it.length>0)return it}}return en},vl=async()=>{if(!e.catalog)return;fe(null),B([]),Kt(null),Qt(null),oe.current=null;const X=Wy(l,e.catalog),he=Wy(r,e.catalog),Ae=ks(u,xe=>xe.toUpperCase()),We=ks(p,xe=>xe.toUpperCase()),wt=new Set(e.catalog.facetsMeta.majorIds.map(xe=>xe.toUpperCase())),en=Ae.filter(xe=>!wt.has(xe)),Te=We.filter(xe=>!wt.has(xe)),De=b.map(xe=>({key:xe.key.trim(),min:xe.min??void 0,max:xe.max??void 0})).filter(xe=>xe.key&&(typeof xe.min=="number"||typeof xe.max=="number")),Ge=new Set(Object.keys(e.catalog.facetsMeta.numericRanges)),it=De.map(xe=>xe.key).filter(xe=>!Ge.has(xe)),we=De.filter(xe=>typeof xe.min=="number"&&typeof xe.max=="number"&&xe.min>xe.max);if(X.unknown.length>0||he.unknown.length>0||en.length>0||Te.length>0||it.length>0||we.length>0){fe([X.unknown.length?`Unknown must-include items: ${X.unknown.join(", ")}`:"",he.unknown.length?`Unknown excluded items: ${he.unknown.join(", ")}`:"",en.length?`Unknown required major IDs: ${en.join(", ")}`:"",Te.length?`Unknown excluded major IDs: ${Te.join(", ")}`:"",it.length?`Unknown advanced ID keys: ${it.join(", ")}`:"",we.length?`Invalid advanced ID ranges (min > max): ${we.map(xe=>xe.key).join(", ")}`:""].filter(Boolean).join(" | "));return}const Mt={...Ca,characterClass:N,level:Math.max(1,Math.min(106,Math.round(M||e.snapshot.level||106))),mustIncludeIds:X.ids,excludedIds:he.ids,lockedSlots:_e,target:{customNumericRanges:De},allowedTiers:[...I],requiredMajorIds:Ae,excludedMajorIds:We,weaponAttackSpeeds:[...L],minPowderSlots:A,onlyPinnedItems:F,useExhaustiveSmallPool:Ye,exhaustiveStateLimit:Math.max(1e3,Math.min(5e6,Nt)),weights:yR(x),topN:Math.max(1,Math.min(150,ue)),topKPerSlot:Math.max(10,Math.min(300,ce)),beamWidth:Math.max(20,Math.min(5e3,re))};Oe.current?.abort();const _t=new AbortController;Oe.current=_t,J(!0),T("Starting...");try{const xe=await da(e.catalog,Mt,e.snapshot,_t.signal);if(B(xe),xe.length===0){T(""),Qt(null);const nt=oe.current??"",Bt=/SP-invalid=(\d+)/i.exec(nt),Wt=Bt?Number(Bt[1]):0,tn=/hard=.*?\(speed=(\d+)/i.exec(nt),Dn=tn?Number(tn[1]):0,Cn=/hard=.*?\(speed=\d+,\s*thresholds=(\d+)/i.exec(nt),on=Cn?Number(Cn[1]):0,Gn=/Tome-assisted final eval still found 0 valid builds/i.test(nt);fe(["No valid candidates found.",oe.current?`Diagnostics: ${oe.current}`:"",Gn?"Even after a tome-assisted feasibility retry, the explored candidate builds still failed skill-point/equip-order feasibility.":Wt>0?"The engine found many full builds, but they failed skill-point/equip-order feasibility. This is not just a UI filter issue.":Dn>0?"The engine found many full builds, but they failed the final attack-speed target. This usually means the search is missing enough +atkTier support for the selected weapon/target combination.":on>0&&De.length>0?"The engine found many full builds, but they failed advanced ID min/max thresholds. This usually means the search is not preserving enough support items for those IDs.":"This usually means your hard constraints are too strict (pinned-only, major IDs, must-includes, attack-speed, or thresholds), or the selected objective conflicts with them.",Gn?"This usually means the current search still is not surfacing enough requirement-support gear for the chosen weapon/goal combination. Try Exact Search + Deep Fallback, Balanced/Tank objective, and pin a few known requirement/attack-speed support items.":Wt>0?"Try switching Primary Goal to Balanced or Tank and keeping Exact Search + Deep Fallback enabled.":Dn>0?"Tip: keep Exact Search + Deep Fallback enabled, lower thresholds, and try adding/pinning known +Attack Speed Bonus support items for the target speed.":on>0&&De.length>0?"Tip: switch Solver Strategy to Constraint-first or Exhaustive-ish and keep Deep Fallback enabled. For strict advanced IDs, add only the most important thresholds first.":"Tip: disable pinned-only first, remove major-ID constraints, then try again."].join(" "))}else T(`Completed. ${xe.length} valid candidates.`)}catch(xe){fe(xe instanceof Error?xe.message:"Auto builder failed"),T("")}finally{J(!1),Qt(null)}},jn=()=>{Oe.current?.abort(),n.current?.cancelCurrent(),J(!1),T("Cancelled"),Qt(null)},yl=ae??pt,aa=!!ae,He=dR(Ke?.detail),rn=He?He.spInvalid+He.majorIds+He.duplicate+He.hard:0;return m.jsxs(mh,{open:e.open,onOpenChange:e.onOpenChange,title:"Build Solver",description:"Beam search over item combinations. Uses Workbench summary metrics (legacy-style Base DPS / EHP, ability tree excluded).",className:"!w-[min(95vw,1360px)]",footer:m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsx("div",{className:"text-sm text-[var(--wb-muted)]",children:W}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Re,{variant:"ghost",onClick:()=>be(X=>!X),children:ge?"Hide Tips":"Tips"}),q?m.jsx(Re,{variant:"ghost",onClick:jn,children:"Cancel"}):null,m.jsx(Re,{variant:"primary",onClick:vl,disabled:!e.catalog||q,children:"Generate Candidates"})]})]}),children:[q&&Ke?m.jsxs("div",{className:"mb-4 rounded-xl border border-sky-400/30 bg-sky-400/5 p-3",children:[m.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"rounded-md bg-sky-400/20 px-2 py-0.5 text-xs font-medium text-sky-100",children:Ke.phase==="exact-search"?"Exact search":Ke.phase==="beam-search"?"Beam search":Ke.phase==="diagnostics"?"Finalize / diagnostics":Ke.phase}),Ke.totalSlots>0?m.jsxs("span",{className:"text-xs text-[var(--wb-muted)]",children:["Slots ",Ke.expandedSlots,"/",Ke.totalSlots]}):null]}),m.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-black/20",children:m.jsx("div",{className:"h-full rounded-full bg-sky-400/70 transition-all duration-300",style:{width:Ke.totalSlots>0?`${100*Ke.expandedSlots/Ke.totalSlots}%`:"0%"}})}),m.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-[var(--wb-muted)]",children:[m.jsxs("span",{children:["States: ",Ke.processedStates.toLocaleString()]}),m.jsxs("span",{children:["Beam: ",Ke.beamSize.toLocaleString()]})]}),He&&rn>0?m.jsxs("div",{className:"mt-3 border-t border-sky-400/20 pt-2",children:[m.jsx("div",{className:"mb-1 text-[11px] font-medium uppercase tracking-wide text-[var(--wb-muted)]",children:"Rejected builds (this pass)"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[He.spInvalid>0?m.jsxs("span",{className:"rounded bg-rose-400/20 px-1.5 py-0.5 text-[11px] text-rose-200",title:"Skill point / equip feasibility",children:["SP: ",He.spInvalid]}):null,He.majorIds>0?m.jsxs("span",{className:"rounded bg-amber-400/20 px-1.5 py-0.5 text-[11px] text-amber-200",title:"Major ID requirement",children:["Major ID: ",He.majorIds]}):null,He.duplicate>0?m.jsxs("span",{className:"rounded bg-slate-400/20 px-1.5 py-0.5 text-[11px] text-slate-200",title:"Duplicate build",children:["Dup: ",He.duplicate]}):null,He.speed>0?m.jsxs("span",{className:"rounded bg-orange-400/20 px-1.5 py-0.5 text-[11px] text-orange-200",title:"Attack speed",children:["Speed: ",He.speed]}):null,He.thresholds>0?m.jsxs("span",{className:"rounded bg-amber-400/20 px-1.5 py-0.5 text-[11px] text-amber-200",title:"Min/max thresholds",children:["Thresholds: ",He.thresholds]}):null,He.item>0?m.jsxs("span",{className:"rounded bg-slate-400/20 px-1.5 py-0.5 text-[11px] text-slate-200",title:"Item constraint",children:["Item: ",He.item]}):null]})]}):null]}):null,m.jsxs("div",{className:"grid h-[52vh] min-h-0 gap-4 overflow-hidden lg:h-[56vh] lg:grid-cols-[1fr_1fr] lg:items-stretch",children:[m.jsxs("div",{className:"grid h-full min-h-0 min-w-0 gap-3 overflow-auto pr-1 wb-scrollbar",children:[ge?m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Tips (New Players)"}),m.jsxs("div",{className:"grid gap-2 text-xs text-[var(--wb-muted)]",children:[m.jsxs("div",{children:["1. Start with a Primary Goal like ",m.jsx("b",{children:"Damage"})," or ",m.jsx("b",{children:"Tank / EHP"}),". Leave most constraints empty."]}),m.jsx("div",{children:"2. Add only a few hard constraints first: class/level, maybe one must-include item."}),m.jsxs("div",{children:["3. If you get 0 candidates, turn off ",m.jsx("b",{children:"Only use pinned items in bins"})," and clear major-ID constraints."]}),m.jsx("div",{children:"4. Build Solver filters out builds that fail skill requirements / equip order feasibility."}),m.jsx("div",{children:"5. Use Workbench bins to guide it: pin good options, then rerun with pinned-only once you have enough items in each slot category."})]})]}):null,m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Optimization"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Primary Goal"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:mR.map(X=>m.jsx(ct,{active:x===X,onClick:()=>_(X),children:hR[X]},X))})]}),m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2 text-xs text-[var(--wb-muted)]",children:"Build Solver always filters out builds that fail skill point/equip-order feasibility. You do not need to set a minimum SP total."})]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Hard Constraints (Optional)"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Character Class"}),m.jsxs("select",{className:"wb-select",value:N??"",onChange:X=>w(X.target.value||null),children:[m.jsx("option",{value:"",children:"Auto / Any"}),m.jsx("option",{value:"Warrior",children:"Warrior"}),m.jsx("option",{value:"Assassin",children:"Assassin"}),m.jsx("option",{value:"Mage",children:"Mage"}),m.jsx("option",{value:"Archer",children:"Archer"}),m.jsx("option",{value:"Shaman",children:"Shaman"})]})]}),m.jsx(Ra,{label:"Level",value:M,onChange:X=>z(X??e.snapshot.level),min:1,max:106}),m.jsxs("div",{children:[m.jsx(Je,{children:"Must-Include Items (comma-separated names)"}),m.jsx("textarea",{className:"wb-textarea min-h-20",value:l,onChange:X=>i(X.target.value),placeholder:"Example: Cancer, Stardew"})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Excluded Items (comma-separated names)"}),m.jsx("textarea",{className:"wb-textarea min-h-20",value:r,onChange:X=>c(X.target.value),placeholder:"Blacklist item names"})]}),m.jsxs("details",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-medium",children:"Advanced: Specific ID Min / Max"}),m.jsxs("div",{className:"mt-3 grid gap-3",children:[m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:"Set build-wide min/max totals for any numeric ID (e.g. `mr`, `ms`, `spd`, `reqTotal`, `sdPct`, `poison`, `atkTier`). These are hard constraints."}),b.length===0?m.jsx("div",{className:"rounded-lg border border-dashed border-[var(--wb-border-muted)] px-3 py-2 text-xs text-[var(--wb-muted)]",children:"No advanced ID thresholds yet."}):null,b.map(X=>{const he=e.catalog?.facetsMeta.numericRanges[X.key];return m.jsxs("div",{className:"rounded-lg border border-[var(--wb-border-muted)] p-2",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"ID"}),m.jsx("select",{className:"wb-select w-full",value:X.key,onChange:Ae=>zt(X.id,{key:Ae.target.value}),children:sn.map(Ae=>m.jsxs("option",{value:Ae,children:[gf(Ae)," (",Ae,")"]},Ae))})]}),m.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[m.jsxs("div",{className:"min-w-[80px] flex-1",children:[m.jsx(Je,{children:"Min"}),m.jsx("input",{className:"wb-input w-full",type:"number",value:X.min??"",onChange:Ae=>{const We=Ae.target.value.trim();zt(X.id,{min:We===""?null:Number(We)})}})]}),m.jsxs("div",{className:"min-w-[80px] flex-1",children:[m.jsx(Je,{children:"Max"}),m.jsx("input",{className:"wb-input w-full",type:"number",value:X.max??"",onChange:Ae=>{const We=Ae.target.value.trim();zt(X.id,{max:We===""?null:Number(We)})}})]}),m.jsx(Re,{variant:"ghost",className:"shrink-0",onClick:()=>yn(X.id),children:"Remove"})]})]}),he?m.jsxs("div",{className:"mt-1 text-[11px] text-[var(--wb-muted)]",children:["Catalog item range: ",he.min," to ",he.max," (per item)"]}):null]},X.id)}),m.jsx("div",{children:m.jsx(Re,{variant:"ghost",onClick:Jt,disabled:sn.length===0,children:"Add ID Threshold"})}),x==="constraints"&&!V?m.jsx("div",{className:"mt-1 rounded-lg border border-amber-400/40 bg-amber-400/10 p-2 text-[11px] text-amber-50",children:"Advanced IDs preset is selected as Primary Goal, but no ID has both Min and Max set. Add at least one ID with a Min and Max, or switch primary goal. You can still run the solver without this."}):null]})]})]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Solver Strategy"}),m.jsx("div",{className:"grid gap-3",children:m.jsxs("div",{children:[m.jsx(Je,{children:"Strategies (select one or more; All is exclusive)"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:gR.map(X=>{const he=X==="auto",Ae=R.length===1&&R[0]==="auto",We=he?Ae:R.includes(X),wt=he&&!Ae;return m.jsx(ct,{active:We,disabled:wt,onClick:()=>{if(wt)return;if(he){G(["auto"]);return}if(Ae){G([X]);return}const Te=R.includes(X)?R.filter(Ge=>Ge!==X):[...R,X],De=Te.length===3&&Te.includes("fast")&&Te.includes("constraint")&&Te.includes("exhaustive");G(Te.length>0?De?["auto"]:Te:["auto"])},children:Xy[X]},X)})}),m.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:R.length===1&&R[0]==="auto"?"Starts fast, then retries deeper if needed.":R.includes("fast")&&!R.includes("constraint")&&!R.includes("exhaustive")?"Single fast pass. Lowest wait time, weakest fallback.":R.includes("constraint")?"Constraint-first helps strict attack-speed or advanced ID min/max.":R.includes("exhaustive")?"Exhaustive-ish: highest search budget, strongest fallback.":"Selected strategies run in order (fast  constraint  exhaustive)."})]})})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Pool Filters"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsx(Ra,{label:"Min Powder Slots",value:A,onChange:j,min:0,max:6}),m.jsxs("div",{children:[m.jsx(Je,{children:"Allowed Tiers (optional)"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ee.map(X=>m.jsx(ct,{active:I.includes(X),onClick:()=>O(he=>ko(he,X)),children:X},X)),Ee.length===0?m.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"Catalog not loaded."}):null]})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Final Weapon Attack Speed (optional hard constraint)"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:fR.map(X=>m.jsx(ct,{active:L.includes(X),onClick:()=>H(he=>ko(he,X)),children:X},X))}),m.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:"Matches the completed build attack speed (weapon base speed plus total Attack Speed Bonus / `atkTier`)."})]}),m.jsx(ct,{active:F,onClick:()=>se(X=>!X),children:"Only use pinned items in bins"}),m.jsxs("div",{children:[m.jsx(Je,{children:"Required Major IDs (build must include all)"}),m.jsx("textarea",{className:"wb-textarea min-h-16",value:u,onChange:X=>f(X.target.value),placeholder:"Example: HAWKEYE, GREED"})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Excluded Major IDs (avoid any item with these)"}),m.jsx("textarea",{className:"wb-textarea min-h-16",value:p,onChange:X=>g(X.target.value),placeholder:"Example: NAPALM"})]}),Ie.length>0?m.jsxs("div",{children:[m.jsx(Je,{children:"Major ID Quick Picks"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Ie.map(X=>{const he=ks(u,We=>We.toUpperCase()),Ae=ks(p,We=>We.toUpperCase());return m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsxs(ct,{active:he.includes(X.toUpperCase()),onClick:()=>{f(We=>ko(ks(We,wt=>wt.toUpperCase()),X.toUpperCase()).join(", "))},title:`Require ${X}`,children:["+",X]}),m.jsxs(ct,{active:Ae.includes(X.toUpperCase()),onClick:()=>{g(We=>ko(ks(We,wt=>wt.toUpperCase()),X.toUpperCase()).join(", "))},title:`Exclude ${X}`,children:["-",X]})]},X)})})]}):null]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Search Heuristics"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsx(ct,{active:ke,onClick:()=>ze(X=>!X),children:"Deep fallback if 0 results"}),m.jsx(ct,{active:Ye,onClick:()=>kt(X=>!X),children:"Exact search for small pools"}),m.jsx(Ra,{label:"Exact Search Combination Limit",value:Nt,onChange:X=>Yn(X??Ca.exhaustiveStateLimit),min:1e3,max:5e6}),m.jsx(Ra,{label:"Beam Width",value:re,onChange:X=>Q(X??Ca.beamWidth),min:20,max:5e3}),m.jsx(Ra,{label:"Top K per Slot",value:ce,onChange:X=>k(X??Ca.topKPerSlot),min:10,max:300}),m.jsx(Ra,{label:"Top N Results",value:ue,onChange:X=>de(X??Ca.topN),min:1,max:150}),m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2 text-xs text-[var(--wb-muted)]",children:["Locked slots from the Workbench will be preserved. Current locks: ",Object.values(_e).filter(Boolean).length,F?" | Candidate pools restricted to pinned bins.":"",R.length>0&&!(R.length===1&&R[0]==="auto")?` | Strategy: ${R.map(X=>Xy[X]).join("  ")}.`:"",ke?" | Auto retries with deeper search if fast pass finds 0 candidates.":"",Ye?` | Exact enumeration is used automatically when pool combinations are <= ${Math.round(Nt).toLocaleString()}.`:""]})]})]})]}),m.jsx("div",{className:"h-full min-h-0 min-w-0",children:m.jsxs("div",{className:"wb-card flex h-full min-h-0 flex-col overflow-hidden p-3",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-semibold",children:"Candidates"}),m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[le.length," shown"]})]}),m.jsx("div",{className:"min-h-0 flex-1 space-y-2 overflow-auto pr-1 wb-scrollbar",children:le.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-[var(--wb-border)] p-4 text-sm text-[var(--wb-muted)]",children:"Run Build Solver to generate candidate builds."}):le.map((X,he)=>m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-sm font-semibold",children:["#",he+1," | Score ",Math.round(X.score).toLocaleString()]}),m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["Base DPS ",Math.round(X.summary.derived.legacyBaseDps)," | EHP ",Math.round(X.summary.derived.legacyEhp)," | Req ",X.summary.derived.reqTotal," | MR ",X.summary.aggregated.mr]}),m.jsxs("div",{className:"mt-1 text-xs text-emerald-200",children:["SP Valid | Assigned SP ",Math.round(X.summary.derived.assignedSkillPointsRequired)]})]}),m.jsx(Re,{className:"px-2 py-1 text-xs",onClick:()=>e.onLoadCandidate(X),children:"Load into Workbench"})]}),m.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1 text-xs sm:grid-cols-2 xl:grid-cols-3",children:tt.map(Ae=>m.jsxs("div",{className:"min-w-0 rounded-md border border-[var(--wb-border-muted)] bg-black/10 px-2 py-1",children:[m.jsx("div",{className:"text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:Ae}),m.jsx("div",{className:"truncate",children:X.slots[Ae]!=null?e.catalog?.itemsById.get(X.slots[Ae])?.displayName??X.slots[Ae]:"Empty"})]},Ae))})]},`${X.score}-${he}`))}),yl?m.jsxs("details",{className:`mt-2 rounded-xl border p-2 ${aa?"border-rose-400/30 bg-rose-400/8 text-rose-100":"border-sky-400/20 bg-sky-400/5 text-sky-100"}`,children:[m.jsx("summary",{className:"cursor-pointer list-none text-xs font-medium",children:aa?"Run issue (click to expand)":"Diagnostics (click to expand)"}),m.jsx("div",{className:"mt-2 text-xs leading-relaxed",children:yl})]}):null]})})]})]})}const xR=["Warrior","Assassin","Mage","Archer","Shaman"],pf=[0,1,2,2,3,3,4,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,16,16,17,17,18,18,19,19,20,20,20,21,21,22,22,23,23,23,24,24,25,25,26,26,27,27,28,28,29,29,30,30,31,31,32,32,33,33,34,34,34,35,35,35,36,36,36,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45];function Il(e,n=0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}return n}function qi(e){return typeof e=="string"?e:""}function vf(e){return Array.isArray(e)?e.map(n=>Il(n,Number.NaN)).filter(n=>Number.isFinite(n)).map(n=>Math.trunc(n)):[]}function SR(e){const n=Il(e.id,Number.NaN);if(!Number.isFinite(n))return null;const l=Il(e.display?.row,0),i=Il(e.display?.col,0);return{id:Math.trunc(n),displayName:qi(e.display_name)||`Ability ${n}`,descriptionHtml:qi(e.desc),parents:vf(e.parents),dependencies:vf(e.dependencies),blockers:vf(e.blockers),cost:Math.max(0,Math.trunc(Il(e.cost,1))),archetype:qi(e.archetype).trim()||null,archetypeReq:Math.max(0,Math.trunc(Il(e.archetype_req,0))),reqArchetype:qi(e.req_archetype).trim()||null,baseAbilityId:e.base_abil==null?null:Math.trunc(Il(e.base_abil,Number.NaN)),display:{row:Math.max(0,Math.trunc(l)),col:Math.max(0,Math.trunc(i)),icon:qi(e.display?.icon)||"node_0"},properties:typeof e.properties=="object"&&e.properties?e.properties:{},effects:Array.isArray(e.effects)?e.effects.filter(r=>!!r&&typeof r=="object"):[]}}function wR(e,n){const l=n.map(SR).filter(u=>u!==null).sort((u,f)=>{const p=u.display.row-f.display.row;if(p!==0)return p;const g=u.display.col-f.display.col;return g!==0?g:u.id-f.id}),i=new Map;let r=0,c=0;for(const u of l)i.set(u.id,u),r=Math.max(r,u.display.row),c=Math.max(c,u.display.col);return{className:e,nodes:l,nodeById:i,maxRow:r,maxCol:c}}function _R(e,n){const l={};for(const i of xR){const r=Array.isArray(e[i])?e[i]:[];l[i]=wR(i,r)}return{version:n,classes:l}}function ER(e){if(!Number.isFinite(e))return 45;const n=Math.trunc(e);return n>=pf.length?45:n<1?pf[1]:pf[n]??45}function yf(e,n,l,i,r){if(e.parents.length===0)return e.cost>r?{ok:!1,hardBlocked:!1,reason:"not enough ability points left"}:{ok:!0,hardBlocked:!1,reason:""};const c=e.dependencies.filter(p=>!l.has(p));if(c.length>0)return{ok:!1,hardBlocked:!0,reason:`missing dep: ${c.map(g=>`"${n.nodeById.get(g)?.displayName??g}"`).join(", ")}`};const u=e.blockers.filter(p=>l.has(p));if(u.length>0)return{ok:!1,hardBlocked:!0,reason:`blocked by: ${u.map(g=>`"${n.nodeById.get(g)?.displayName??g}"`).join(", ")}`};if(!e.parents.some(p=>l.has(p)))return{ok:!1,hardBlocked:!1,reason:"not reachable"};if(e.archetypeReq>0){const p=e.reqArchetype||e.archetype,g=p?i.get(p)??0:0;if(!p||g<e.archetypeReq)return{ok:!1,hardBlocked:!1,reason:`${p??"Archetype"}: ${g} < ${e.archetypeReq}`}}return e.cost>r?{ok:!1,hardBlocked:!1,reason:"not enough ability points left"}:{ok:!0,hardBlocked:!1,reason:""}}function TR(e,n,l){const i=new Set(n.filter(M=>e.nodeById.has(M)));let r=new Set(i),c=e.nodes.filter(M=>r.has(M.id));const u=new Set,f=new Map;let p=0;const g=new Map;for(;;){let M=!1;const z=[];for(const I of c){const O=yf(I,e,u,f,9999);if(!O.ok){z.push(I),g.set(I.id,{reason:O.reason,hardBlocked:O.hardBlocked});continue}g.delete(I.id),u.add(I.id),r.delete(I.id),p+=I.cost,I.archetype&&f.set(I.archetype,(f.get(I.archetype)??0)+1),M=!0}if(c=z,!M)break}const b=ER(l),v=b-p,x=[];for(const M of e.nodes){if(u.has(M.id))continue;yf(M,e,u,f,v).ok&&x.push(M.id)}const _={};for(const M of e.nodes){if(u.has(M.id)){_[M.id]={active:!0,selectable:!0,hardBlocked:!1,reason:null};continue}const z=g.get(M.id);if(z){_[M.id]={active:!1,selectable:!1,hardBlocked:z.hardBlocked,reason:z.reason};continue}const I=yf(M,e,u,f,v);_[M.id]={active:!1,selectable:I.ok,hardBlocked:I.hardBlocked,reason:I.ok?null:I.reason}}const N=[];let w=!1;p>b&&N.push(`too many ability points assigned! (${p} > ${b})`);for(const M of c){const z=g.get(M.id);z&&(z.hardBlocked&&(w=!0),N.push(`${M.displayName}: ${z.reason}`))}return{apCap:b,apUsed:p,apRemaining:v,reachable:u,pending:c,unresolved:g,availableIds:x,errors:N,hardErrors:w,archetypeCounts:f,nodeStatusById:_}}function Ec(e,n,l){const i=TR(e,n,l),r=e.nodes.filter(f=>i.reachable.has(f.id)).map(f=>f.id),c=i.pending.map(f=>f.id),u=Object.fromEntries([...i.archetypeCounts.entries()].sort((f,p)=>f[0].localeCompare(p[0])));return{className:e.className,level:l,apCap:i.apCap,apUsed:i.apUsed,apRemaining:i.apRemaining,selectedIdsInput:[...n],activeIds:r,unresolvedIds:c,availableIds:i.availableIds,hardErrors:i.hardErrors,errors:i.errors,archetypeCounts:u,nodeStatusById:i.nodeStatusById}}function NR(e,n,l){let i=[...new Set(n)].filter(r=>e.nodeById.has(r));for(;;){const r=Ec(e,i,l);if(r.unresolvedIds.length===0&&r.apUsed<=r.apCap)return r.activeIds;const c=new Set(r.activeIds),u=i.filter(f=>c.has(f));if(u.length===i.length)return u;i=u}}function MR(e,n,l,i){if(!e.nodeById.has(l))return[...n];const r=new Set(n);return r.has(l)?(r.delete(l),NR(e,[...r],i)):Ec(e,n,i).nodeStatusById[l]?.selectable?(r.add(l),e.nodes.filter(f=>r.has(f.id)).map(f=>f.id)):[...n]}function jx(e,n){return!e||!n?null:e.classes[n]??null}function jR(e){return e.length>20?`${e.slice(0,19)}`:e}function DR(e,n){return e??n??null}function CR(e){const n=DR(e.selectedClass,e.inferredClass),l=S.useMemo(()=>jx(e.dataset,n),[e.dataset,n]),i=S.useMemo(()=>n?e.selectionsByClass[n]??[]:[],[e.selectionsByClass,n]),r=S.useMemo(()=>l?Ec(l,i,e.level):null,[l,i,e.level]),[c,u]=S.useState(null);S.useEffect(()=>{if(!l){u(null);return}c!=null&&l.nodeById.has(c)||u(r?.activeIds[0]??l.nodes[0]?.id??null)},[l,c,r]);const f=S.useMemo(()=>!l||c==null?null:l.nodeById.get(c)??null,[l,c]),p=_=>{n&&e.onSelectionsChange({...e.selectionsByClass,[n]:_})},g=_=>{if(!l||!n)return;const N=MR(l,i,_,e.level);p(N),u(_)},b=()=>{n&&e.onSelectionsChange({...e.selectionsByClass,[n]:[]})},v=r?.activeIds.length??0,x=l?{gridTemplateColumns:`repeat(${Math.max(1,l.maxCol+1)}, minmax(56px, 1fr))`,gridTemplateRows:`repeat(${Math.max(1,l.maxRow+1)}, minmax(56px, auto))`}:void 0;return m.jsx(mh,{open:e.open,onOpenChange:e.onOpenChange,title:"Ability Tree",description:"Legacy ability tree data and activation rules integrated into Workbench. Effects are tracked here, but Workbench DPS/EHP still excludes ability-tree math for now.",className:"w-[min(97vw,1320px)]",footer:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:n?`Editing ${n} tree at level ${e.level}.`:"Select a class (or equip a class weapon) to start editing an ability tree."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Re,{variant:"ghost",onClick:b,disabled:!n||v===0,children:"Reset Tree"}),m.jsx(Re,{onClick:()=>e.onOpenChange(!1),children:"Done"})]})]}),children:e.loading?m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:"Loading ability tree data..."}):e.error?m.jsx("div",{className:"rounded-xl border border-rose-400/30 bg-rose-400/8 p-4 text-sm text-rose-100",children:e.error}):n?!l||!r?m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:["No ability tree data available for ",n,"."]}):m.jsxs("div",{className:"grid min-h-0 grid-cols-1 gap-3 xl:grid-cols-[minmax(0,1fr)_360px]",children:[m.jsxs("div",{className:"min-h-0 space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-4",children:[m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"AP"}),m.jsxs("div",{className:"mt-1 text-lg font-semibold",children:[r.apUsed," / ",r.apCap]}),m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[r.apRemaining," left"]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Selected"}),m.jsx("div",{className:"mt-1 text-lg font-semibold",children:r.activeIds.length}),m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[r.availableIds.length," available next"]})]}),m.jsxs("div",{className:"wb-card p-3 sm:col-span-2",children:[m.jsxs("div",{className:"mb-2 flex items-center gap-2 text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:[m.jsx(oE,{size:12}),"Archetypes"]}),m.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(r.archetypeCounts).length===0?m.jsx("span",{className:"text-xs text-[var(--wb-muted)]",children:"No archetype points yet."}):Object.entries(r.archetypeCounts).map(([_,N])=>m.jsxs("span",{className:"wb-chip",children:[_,": ",N]},_))})]})]}),r.errors.length>0?m.jsxs("div",{className:"rounded-xl border border-amber-400/25 bg-amber-400/8 p-3",children:[m.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-semibold text-amber-100",children:[m.jsx(fE,{size:14}),"Tree Validation (",r.hardErrors?"hard":"soft"," issues)"]}),m.jsx(Hs,{className:"max-h-28",children:m.jsx("div",{className:"grid gap-1",children:r.errors.map((_,N)=>m.jsx("div",{className:"text-xs text-amber-100/95",children:_},`${_}-${N}`))})})]}):null,m.jsx($s,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(k0,{size:14}),n," Tree"]}),headerRight:m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:e.selectedClass?"Using selected class":e.inferredClass?"Using weapon-inferred class":""}),className:"min-h-0",children:m.jsx(Hs,{className:"max-h-[52vh] p-3",children:m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/15 p-2",children:m.jsx("div",{className:"grid gap-2",style:x,children:l.nodes.map(_=>{const N=r.nodeStatusById[_.id],w=!!N?.active,M=!!N?.selectable,z=!!N?.hardBlocked;return m.jsxs("button",{type:"button",className:["rounded-xl border p-2 text-left transition",w?"border-cyan-300/40 bg-cyan-300/12 shadow-[0_0_0_1px_rgba(34,211,238,.15)]":M?"border-emerald-400/30 bg-emerald-400/7 hover:bg-emerald-400/12":z?"border-rose-400/25 bg-rose-400/7":"border-[var(--wb-border-muted)] bg-black/15"].join(" "),style:{gridColumnStart:_.display.col+1,gridRowStart:_.display.row+1},title:N?.reason??"",onClick:()=>g(_.id),onMouseEnter:()=>u(_.id),onFocus:()=>u(_.id),children:[m.jsxs("div",{className:"text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:["#",_.id]}),m.jsx("div",{className:"mt-1 text-xs font-semibold leading-tight",children:jR(_.displayName)}),m.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px]",children:[m.jsxs("span",{className:"text-[var(--wb-muted)]",children:["AP ",_.cost]}),_.archetype?m.jsx("span",{className:"wb-chip px-1.5 py-0.5",children:_.archetype}):null]})]},_.id)})})})})})]}),m.jsxs("div",{className:"min-h-0 space-y-3",children:[m.jsx($s,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Y_,{size:14}),"Node Details"]}),className:"min-h-0",children:m.jsx("div",{className:"space-y-3 p-3",children:f?m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-base font-semibold",children:f.displayName}),m.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[m.jsxs("span",{className:"wb-chip",children:["AP ",f.cost]}),f.archetype?m.jsx("span",{className:"wb-chip",children:f.archetype}):null,f.archetypeReq>0?m.jsxs("span",{className:"wb-chip",children:["Req ",f.reqArchetype||f.archetype||"Archetype",": ",f.archetypeReq]}):null,r.nodeStatusById[f.id]?.reason?m.jsx("span",{className:"wb-chip text-amber-100",children:r.nodeStatusById[f.id]?.reason}):null]})]}),m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs leading-relaxed text-[var(--wb-text)] [&_br]:block [&_br]:content-[''] [&_span]:text-inherit",dangerouslySetInnerHTML:{__html:f.descriptionHtml||'<span class="text-slate-400">No description.</span>'}}),m.jsxs("div",{className:"grid gap-2 text-xs",children:[m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Parents"}),m.jsx("div",{className:"mt-1",children:f.parents.length===0?"Root node":f.parents.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}),f.dependencies.length>0?m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Dependencies"}),m.jsx("div",{className:"mt-1",children:f.dependencies.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}):null,f.blockers.length>0?m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-2",children:[m.jsx("div",{className:"text-[11px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Blockers"}),m.jsx("div",{className:"mt-1",children:f.blockers.map(_=>l.nodeById.get(_)?.displayName??`#${_}`).join("  ")})]}):null]})]}):m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"Hover or focus an ability node to inspect it here."})})}),m.jsx($s,{title:"Selected Abilities",className:"min-h-0",children:m.jsx(Hs,{className:"max-h-[28vh] p-3",children:r.activeIds.length===0?m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3 text-xs text-[var(--wb-muted)]",children:"No abilities selected yet."}):m.jsx("div",{className:"grid gap-1",children:r.activeIds.map(_=>{const N=l.nodeById.get(_);return N?m.jsx(ct,{className:"justify-start text-left",active:c===_,onClick:()=>u(_),title:`AP ${N.cost}`,children:N.displayName},_):null})})})})]})]}):m.jsx("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-4 text-sm text-[var(--wb-muted)]",children:"Pick a class in the Workbench header, or equip a weapon so Workbench can infer the class and load the correct ability tree."})})}const AR=["helmet","chestplate","leggings","boots"],RR=["spear","wand","dagger","bow","relik"],kR=["ring","bracelet","necklace"],zR=["HELMET","CHESTPLATE","LEGGINGS","BOOTS","RELIK","WAND","SPEAR","DAGGER","BOW","RING","NECKLACE","BRACELET","POTION","SCROLL","FOOD"],OR=["1-3","3-5","5-7","7-9","10-13","13-15","15-17","17-19","20-23","23-25","25-27","27-29","30-33","33-35","35-37","37-39","40-43","43-45","45-47","47-49","50-53","53-55","55-57","57-59","60-63","63-65","65-67","67-69","70-73","73-75","75-77","77-79","80-83","83-85","85-87","87-89","90-93","93-95","95-97","97-99","100-103","103-105"],Dx=["SLOW","NORMAL","FAST"];function xh(e){const n=e.toLowerCase();return AR.includes(n)?"armor":RR.includes(n)?"weapon":kR.includes(n)?"accessory":"consumable"}const Cx={offense:1,defense:.6,utility:.4,skillPoints:.3,reqPenalty:.5},Pl={recipeType:"HELMET",levelRange:"103-105",matTiers:null,atkSpd:null,weights:Cx,mustIncludeIngredients:[],excludedIngredients:[],topN:30,topKPerSlot:120,beamWidth:400,target:{}},rc=4e3,Qy=[0,1,1.25,1.4],Hf=["e","t","w","f","a"],PR=[{min:3,max:6,convert:17,defPlus:2,defMinus:1},{min:5,max:8,convert:21,defPlus:4,defMinus:2},{min:6,max:10,convert:25,defPlus:8,defMinus:3},{min:7,max:10,convert:31,defPlus:14,defMinus:5},{min:9,max:11,convert:38,defPlus:22,defMinus:9},{min:11,max:13,convert:46,defPlus:30,defMinus:13},{min:1,max:8,convert:9,defPlus:3,defMinus:1},{min:1,max:12,convert:11,defPlus:5,defMinus:1},{min:2,max:15,convert:13,defPlus:9,defMinus:2},{min:3,max:15,convert:17,defPlus:14,defMinus:4},{min:4,max:17,convert:22,defPlus:20,defMinus:7},{min:5,max:20,convert:28,defPlus:28,defMinus:10},{min:3,max:4,convert:13,defPlus:3,defMinus:1},{min:4,max:6,convert:15,defPlus:6,defMinus:1},{min:5,max:8,convert:17,defPlus:11,defMinus:2},{min:6,max:8,convert:21,defPlus:18,defMinus:4},{min:7,max:10,convert:26,defPlus:28,defMinus:7},{min:9,max:11,convert:32,defPlus:40,defMinus:10},{min:2,max:5,convert:14,defPlus:3,defMinus:1},{min:4,max:8,convert:16,defPlus:5,defMinus:2},{min:5,max:9,convert:19,defPlus:9,defMinus:3},{min:6,max:9,convert:24,defPlus:16,defMinus:5},{min:8,max:10,convert:30,defPlus:25,defMinus:9},{min:10,max:12,convert:37,defPlus:36,defMinus:13},{min:2,max:6,convert:11,defPlus:3,defMinus:1},{min:3,max:10,convert:14,defPlus:6,defMinus:2},{min:4,max:11,convert:17,defPlus:10,defMinus:3},{min:5,max:11,convert:22,defPlus:16,defMinus:5},{min:7,max:12,convert:28,defPlus:24,defMinus:9},{min:8,max:14,convert:35,defPlus:34,defMinus:13}];function BR(e){return e/6|0}function IR(e){return Hf[BR(e)]}function LR(e){const n=[[100,100],[100,100],[100,100]];for(let l=0;l<6;l++){const r=e[l].posMods,c=Math.floor(l/2),u=l%2;if(r.above!==0)for(let f=c-1;f>=0;f--)n[f][u]+=r.above;if(r.under!==0)for(let f=c+1;f<3;f++)n[f][u]+=r.under;if(r.left!==0&&u===1&&(n[c][u-1]+=r.left),r.right!==0&&u===0&&(n[c][u+1]+=r.right),r.touching!==0)for(let f=0;f<3;f++)for(let p=0;p<2;p++)(Math.abs(f-c)===1&&p===u||f===c&&Math.abs(p-u)===1)&&(n[f][p]+=r.touching);if(r.notTouching!==0)for(let f=0;f<3;f++)for(let p=0;p<2;p++)(Math.abs(f-c)>1||Math.abs(f-c)===1&&Math.abs(p-u)===1)&&(n[f][p]+=r.notTouching)}return n.flat()}function Ax(e,n,l,i){const r=e.type.toLowerCase(),c=xh(r);let u=!0;for(const k of l)if(k.id!==rc){u=!1;break}let f=0,p=0;(c==="weapon"||c==="armor")&&(e.lvl[0]<30?f=1:e.lvl[0]<70?f=2:f=3),c==="consumable"&&(e.lvl[0]<30?p=1:e.lvl[0]<70?p=2:p=3,u&&(p=3));const g=e.materials.map(k=>k.amount),b=(Qy[n[0]]*g[0]+Qy[n[1]]*g[1])/(g[0]+g[1]);let v=[e.durability[0],e.durability[1]],x=[e.duration[0],e.duration[1]];c==="consumable"?(u&&(x=[e.basicDuration[0],e.basicDuration[1]]),x=[Math.round(x[0]*b),Math.round(x[1]*b)]):v=[Math.round(v[0]*b),Math.round(v[1]*b)];const _=e.healthOrDamage[0],N=e.healthOrDamage[1];let w=0,M=0,z="0-0",I="0-0";const O={e:0,t:0,w:0,f:0,a:0};if(c==="armor")w=Math.floor(N*b),M=Math.floor(_*b);else if(c==="weapon"){let k=2.05;i==="SLOW"?k/=1.5:i==="NORMAL"?k=1:i==="FAST"&&(k/=2.5);const ue=Math.floor(Math.floor(_*b)*k),de=Math.floor(Math.floor(N*b)*k);I=`${Math.floor(ue*.9)}-${Math.floor(ue*1.1)}`,z=`${Math.floor(de*.9)}-${Math.floor(de*1.1)}`}else c==="consumable"&&u&&(w=Math.floor(N*b),M=Math.floor(_*b));if(c==="armor"||c==="accessory"){for(const k of l)if(k.isPowder&&k.pid!=null){const ue=PR[k.pid],de=IR(k.pid),R=Hf[(Hf.indexOf(de)+4)%5];O[de]=(O[de]||0)+ue.defPlus,O[R]=(O[R]||0)-ue.defMinus}}const L=LR(l),H=[0,0,0,0,0],A={},j={};for(let k=0;k<6;k++){const ue=l[k],de=L[k]/100,R=ue.itemIDs;if(c!=="consumable"){const G=["strReq","dexReq","intReq","defReq","agiReq"];for(let le=0;le<G.length;le++){const B=R[G[le]];B!==0&&(ue.isPowder?H[le]+=Math.round(B):H[le]+=Math.round(B*de))}}R.dura!==0&&(v[0]+=R.dura,v[1]+=R.dura),ue.consumableIDs.dura!==0&&(x[0]+=ue.consumableIDs.dura,x[1]+=ue.consumableIDs.dura),ue.consumableIDs.charges!==0&&(p+=ue.consumableIDs.charges);for(const[G,le]of Object.entries(ue.ids)){if(le.max===0&&le.min===0)continue;let B=le.min,W=le.max;const T=[Math.floor(B*de),Math.floor(W*de)].sort((q,J)=>q-J);B=T[0],W=T[1],j[G]=(j[G]??0)+B,A[G]=(A[G]??0)+W}}return v[0]=Math.max(1,Math.floor(v[0])),v[1]=Math.max(1,Math.floor(v[1])),u||(x[0]=Math.max(10,x[0]),x[1]=Math.max(10,x[1])),p=Math.max(p,c==="consumable"?1:0),{category:c,type:r,lvl:e.lvl[1],hp:w,hpLow:M,nDam:z,nDamLow:I,eDam:"0-0",tDam:"0-0",wDam:"0-0",fDam:"0-0",aDam:"0-0",eDef:O.e,tDef:O.t,wDef:O.w,fDef:O.f,aDef:O.a,atkSpd:i,durability:v,duration:x,charges:p,slots:f,reqs:[H[0],H[1],H[2],H[3],H[4]],effectiveness:L,maxRolls:A,minRolls:j}}function qR(e,n,l,i,r){const c={SLOW:0,NORMAL:1,FAST:2},u=[];function f(v,x){for(let _=x-1;_>=0;_--)u.push(v>>_&1)}f(0,1),f(2,7);for(const v of e)f(v,12);f(n,12),f(l[0]-1,3),f(l[1]-1,3),r==="weapon"&&f(c[i]??0,4);const p=u.length%6;if(p!==0)for(let v=0;v<6-p;v++)u.push(0);const g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+-";let b="";for(let v=0;v<u.length;v+=6){let x=0;for(let _=0;_<6;_++)x=x<<1|(u[v+_]??0);b+=g[x]}return"CR-"+b}const Rx=["sdPct","sdRaw","mdPct","mdRaw","damPct","poison","fDamPct","wDamPct","aDamPct","tDamPct","eDamPct","spPct1","spRaw1","spPct2","spRaw2","spPct3","spRaw3","spPct4","spRaw4","rSdRaw","critDamPct"],kx=["hpBonus","hprRaw","hprPct","fDefPct","wDefPct","aDefPct","tDefPct","eDefPct"],zx=["mr","ms","ls","spd","xpb","lb","ref","thorns","spRegen","eSteal","sprint","sprintReg","jh","lq","gXp","gSpd"],Ox=["str","dex","int","def","agi"];function Px(e,n){let l=0;for(const i of n){const r=e.maxRolls[i]??0;r>0&&(l+=r)}return l}function UR(e,n){let l=0;for(const i of n)l+=e.maxRolls[i]??0;return l}function $R(e){let n=Px(e,Rx);return e.category==="armor"&&(n+=e.hp*.02),n}function HR(e){let n=Px(e,kx);return e.category==="armor"&&(n+=e.hp*.15),n+=Math.max(0,e.eDef)+Math.max(0,e.tDef)+Math.max(0,e.wDef)+Math.max(0,e.fDef)+Math.max(0,e.aDef),n}function ZR(e){let n=0;const l=e.maxRolls.mr??0,i=e.maxRolls.ms??0,r=e.maxRolls.ls??0,c=e.maxRolls.spd??0;n+=l*12+i*8+r*6+c*3;for(const u of zx){if(u==="mr"||u==="ms"||u==="ls"||u==="spd")continue;const f=e.maxRolls[u]??0;f>0&&(n+=f)}return n}function FR(e){return UR(e,Ox)}function YR(e){let n=0;for(const l of e.reqs)n+=Math.max(0,l);return n}function Bx(e,n){if(n==="durability")return[e.durability[0],e.durability[1]];if(n==="duration")return[e.duration[0],e.duration[1]];const l=e.maxRolls[n]??0;return[l,l]}function GR(e,n){let l=0;for(const[i,r]of Object.entries(n)){const[c,u]=Bx(e,i);if(typeof r.min=="number"&&c<r.min){const f=r.min-c;l+=f*200+f*f}if(typeof r.max=="number"&&u>r.max){const f=u-r.max;l+=f*200+f*f}}return l}function VR(e,n){for(const[l,i]of Object.entries(n)){const[r,c]=Bx(e,l);if(typeof i.min=="number"&&r<i.min||typeof i.max=="number"&&c>i.max)return!1}return!0}function Ix(e,n,l){const i=$R(e)*n.offense,r=HR(e)*n.defense,c=ZR(e)*n.utility,u=FR(e)*n.skillPoints,f=YR(e)*n.reqPenalty,p=GR(e,l.target),g={offense:i,defense:r,utility:c,skillPoints:u,reqPenalty:f,thresholdPenalty:p};return{score:i+r+c+u-f-p,breakdown:g}}function KR(e,n,l){let i=0;for(const[c,u]of Object.entries(e.ids)){const f=u.max;Rx.includes(c)&&f>0?i+=f*n.offense:kx.includes(c)&&f>0?i+=f*n.defense:zx.includes(c)?c==="mr"?i+=f*12*n.utility:c==="ms"?i+=f*8*n.utility:c==="ls"?i+=f*6*n.utility:c==="spd"?i+=f*3*n.utility:f>0&&(i+=f*n.utility):Ox.includes(c)&&(i+=f*n.skillPoints),l?.has(c)&&f>0&&(i+=f*50)}const r=Math.max(0,e.itemIDs.strReq)+Math.max(0,e.itemIDs.dexReq)+Math.max(0,e.itemIDs.intReq)+Math.max(0,e.itemIDs.defReq)+Math.max(0,e.itemIDs.agiReq);return i-=r*n.reqPenalty*.5,i}function WR(e,n,l){const i=e.recipesByType.get(n.toUpperCase());if(!i)return null;const r=`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()}-${l}`;return i.find(c=>c.name===r)??null}function XR(e,n,l){const i=n.skill.toUpperCase(),r=n.lvl[1],c=new Set(l.excludedIngredients),u=new Set(l.mustIncludeIngredients),f=new Set(Object.keys(l.target)),p=f.size>0,g=[];for(const w of e.ingredients)w.id===rc||c.has(w.id)||!u.has(w.id)&&(!w.skills.some(I=>I.toUpperCase()===i)||w.lvl>r)||g.push(w);const b=g.map(w=>({ing:w,score:KR(w,l.weights,p?f:void 0)}));b.sort((w,M)=>M.score-w.score);const v=l.topKPerSlot,x=new Set,_=[e.noIngredient];x.add(rc);let N=0;for(const{ing:w}of b)u.has(w.id)&&!x.has(w.id)&&(x.add(w.id),_.push(w));for(const{ing:w}of b)if(!x.has(w.id)&&(x.add(w.id),_.push(w),N++,N>=v))break;if(p){const w=g.filter(z=>!x.has(z.id)).map(z=>{let I=0;for(const O of f){const L=z.ids[O]?.max??0;L>0&&(I+=L)}return{ing:z,tScore:I}}).filter(({tScore:z})=>z>0);w.sort((z,I)=>I.tScore-z.tScore);const M=Math.min(w.length,Math.max(30,Math.floor(v/2)));for(let z=0;z<M;z++){const{ing:I}=w[z];x.has(I.id)||(x.add(I.id),_.push(I))}}return _}function QR(e,n,l,i,r,c){const u=[];for(let g=0;g<6;g++)g<n.length?u.push(l.ingredientsById.get(n[g])??l.noIngredient):u.push(l.noIngredient);const f=Ax(e,r,u,c),{score:p}=Ix(f,i.weights,i);return p}function JR(e){const{catalog:n,constraints:l,signal:i,onProgress:r}=e,c=WR(n,l.recipeType,l.levelRange);if(!c)return[];const u=xh(c.type.toLowerCase()),f=XR(n,c,l);if(f.length===0)return[];const p=l.matTiers?[l.matTiers]:[[1,1],[1,2],[1,3],[2,1],[2,2],[2,3],[3,1],[3,2],[3,3]],g=u==="weapon"?l.atkSpd?[l.atkSpd]:[...Dx]:["SLOW"],b=p[p.length-1],v=g[0],x=l.beamWidth,_=6;let N=0,w=[{ingredientIds:[],score:0}];for(let F=0;F<_;F++){if(i?.aborted)throw new DOMException("Recipe solver cancelled","AbortError");const se=[];for(const Q of w)for(const ce of f){if(i?.aborted)throw new DOMException("Recipe solver cancelled","AbortError");const k=[...Q.ingredientIds,ce.id],ue=QR(c,k,n,l,b,v);se.push({ingredientIds:k,score:ue}),N++}se.sort((Q,ce)=>ce.score-Q.score),w=se.slice(0,x);const re=new Set;w=w.filter(Q=>{const ce=Q.ingredientIds.join(",");return re.has(ce)?!1:(re.add(ce),!0)}),r?.({phase:"beam-search",processedStates:N,beamSize:w.length,expandedSlots:F+1,totalSlots:_})}r?.({phase:"material-sweep",processedStates:N,beamSize:w.length,expandedSlots:_,totalSlots:_,detail:`Sweeping ${p.length} tier combos  ${g.length} atk speeds`});const M=new Map;for(const F of w){if(i?.aborted)throw new DOMException("Recipe solver cancelled","AbortError");const se=F.ingredientIds,re=se.map(Q=>n.ingredientsById.get(Q)??n.noIngredient);for(const Q of p)for(const ce of g){const k=Ax(c,Q,re,ce),{score:ue,breakdown:de}=Ix(k,l.weights,l),R=qR(se,c.id,Q,ce,u),G=se.join(",")+"|"+Q.join(",")+"|"+ce,le=M.get(G);(!le||ue>le.score)&&M.set(G,{recipeId:c.id,ingredientIds:se,matTiers:Q,atkSpd:ce,effectiveness:k.effectiveness,stats:k,score:ue,scoreBreakdown:de,hash:R}),N++}}const z=Array.from(M.values());z.sort((F,se)=>se.score-F.score);const I=Object.keys(l.target).length>0,O=new Set,L=[],H=[];for(const F of z)O.has(F.hash)||(O.add(F.hash),I&&VR(F.stats,l.target)?L.push(F):H.push(F));const A=L.length>0?L.slice(0,l.topN):H.slice(0,l.topN),j=L.length;return r?.({phase:"complete",processedStates:N,beamSize:A.length,expandedSlots:_,totalSlots:_,detail:I?`Found ${A.length} candidates (${j} satisfy thresholds) from ${N} states`:`Found ${A.length} candidates from ${N} states`}),A}class ek{worker=null;requestId=0;currentReject=null;currentRequestId=null;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL(""+new URL("worker-runtime-DhSPl4f5.js",import.meta.url).href,import.meta.url),{type:"module"}))}async run(n,l,i={}){if(!this.worker)return JR({catalog:n,constraints:l,onProgress:i.onProgress,signal:i.signal});const r=++this.requestId;return this.currentRequestId=r,new Promise((c,u)=>{this.currentReject=u;const f=()=>{this.worker?.postMessage({type:"cancel",requestId:r}),u(new DOMException("Recipe solver cancelled","AbortError"))};i.signal?.addEventListener("abort",f,{once:!0});const p=g=>{const b=g.data;if(b.requestId===r){if(b.type==="progress"){i.onProgress?.(b.progress);return}if(this.worker?.removeEventListener("message",p),i.signal?.removeEventListener("abort",f),this.currentReject=null,this.currentRequestId=null,b.type==="error"){u(new Error(b.message));return}c(b.candidates)}};this.worker.addEventListener("message",p),this.worker.postMessage({type:"run",requestId:r,catalog:n,constraints:l})})}cancelCurrent(){this.currentRequestId!==null&&(this.worker?.postMessage({type:"cancel",requestId:this.currentRequestId}),this.currentReject?.(new DOMException("Recipe solver cancelled","AbortError")),this.currentReject=null,this.currentRequestId=null)}dispose(){this.worker?.terminate(),this.worker=null}}function Ui(e){return e?[e.minimum,e.maximum]:[0,0]}function tk(e){const n={item:e.materials[0].item,amount:e.materials[0].amount},l={item:e.materials[1].item,amount:e.materials[1].amount};return{id:e.id,name:e.name,type:e.type,skill:e.skill,materials:[n,l],healthOrDamage:Ui(e.healthOrDamage),durability:Ui(e.durability),duration:Ui(e.duration),basicDuration:Ui(e.basicDuration),lvl:Ui(e.lvl)}}function nk(e){const n={};if(e.ids)for(const[c,u]of Object.entries(e.ids))u&&typeof u=="object"&&"minimum"in u&&(n[c]={min:u.minimum,max:u.maximum});const l={left:e.posMods?.left??0,right:e.posMods?.right??0,above:e.posMods?.above??0,under:e.posMods?.under??0,touching:e.posMods?.touching??0,notTouching:e.posMods?.notTouching??0},i={dura:e.itemIDs?.dura??0,strReq:e.itemIDs?.strReq??0,dexReq:e.itemIDs?.dexReq??0,intReq:e.itemIDs?.intReq??0,defReq:e.itemIDs?.defReq??0,agiReq:e.itemIDs?.agiReq??0},r={dura:e.consumableIDs?.dura??0,charges:e.consumableIDs?.charges??0};return{id:e.id,name:e.name,displayName:e.displayName??e.name,lvl:e.lvl,tier:e.tier,skills:e.skills??[],ids:n,itemIDs:i,consumableIDs:r,posMods:l,isPowder:e.isPowder,pid:e.pid}}function ak(){return{id:rc,name:"No Ingredient",displayName:"No Ingredient",lvl:0,tier:0,skills:[],ids:{},itemIDs:{dura:0,strReq:0,dexReq:0,intReq:0,defReq:0,agiReq:0},consumableIDs:{dura:0,charges:0},posMods:{left:0,right:0,above:0,under:0,touching:0,notTouching:0}}}function lk(e,n){const l=new Map,i=new Map;for(const g of e){l.set(g.id,g);const b=g.type.toUpperCase(),v=i.get(b)??[];v.push(g),i.set(b,v)}const r=ak(),c=[r,...n],u=new Map,f=new Map,p=new Map;for(const g of c){u.set(g.id,g),p.set(g.name.toLowerCase(),g.id),g.displayName&&p.set(g.displayName.toLowerCase(),g.id);for(const b of g.skills){const v=b.toUpperCase(),x=f.get(v)??[];x.push(g),f.set(v,x)}}return{recipes:e,recipesById:l,recipesByType:i,ingredients:c,ingredientsById:u,ingredientsBySkill:f,ingredientIdByName:p,noIngredient:r}}async function Jy(e){let n=null;for(const l of e)try{const i=await fetch(l,{cache:"force-cache"});if(!i.ok)throw new Error(`HTTP ${i.status} for ${l}`);return await i.json()}catch(i){n=i}throw n instanceof Error?n:new Error("Failed to fetch data")}class sk{snapshotPromise=null;async getCatalog(){return this.snapshotPromise||(this.snapshotPromise=this.load()),this.snapshotPromise}async load(){const n=["./recipes_compress.json","../recipes_compress.json","/workbench/recipes_compress.json","/recipes_compress.json"],l=["./ingreds_compress.json","../ingreds_compress.json","/workbench/ingreds_compress.json","/ingreds_compress.json"],[i,r]=await Promise.all([Jy(n),Jy(l)]),c=i.recipes.map(tk),u=r.map(nk);return lk(c,u)}}const ik=new sk,rk={helmet:"helmet",chestplate:"chestplate",leggings:"leggings",boots:"boots",ring:"ring1",bracelet:"bracelet",necklace:"necklace",spear:"weapon",bow:"weapon",wand:"weapon",dagger:"weapon",relik:"weapon"},ok={advancedIds:"Advanced IDs only",balanced:"Balanced",offense:"Offense",defense:"Defense",utility:"Utility / Sustain",skillpoints:"Skill Points"},ck=["advancedIds","balanced","offense","defense","utility","skillpoints"];function uk(e){const n={...Cx};switch(e){case"advancedIds":return{offense:.25,defense:.25,utility:.25,skillPoints:.25,reqPenalty:.25};case"offense":return{offense:2,defense:0,utility:0,skillPoints:0,reqPenalty:0};case"defense":return{offense:0,defense:2,utility:0,skillPoints:0,reqPenalty:0};case"utility":return{offense:0,defense:0,utility:2,skillPoints:0,reqPenalty:0};case"skillpoints":return{offense:0,defense:0,utility:0,skillPoints:2,reqPenalty:0};default:return n}}const dk={durability:"Durability",duration:"Duration",sdPct:"Spell Dmg %",sdRaw:"Spell Dmg Raw",mdPct:"Melee Dmg %",mdRaw:"Melee Dmg Raw",damPct:"Damage %",poison:"Poison",hpBonus:"HP Bonus",hprRaw:"HPR Raw",hprPct:"HPR %",mr:"Mana Regen",ms:"Mana Steal",ls:"Life Steal",spd:"Walk Speed",xpb:"XP Bonus",lb:"Loot Bonus",ref:"Reflection",thorns:"Thorns",str:"STR",dex:"DEX",int:"INT",def:"DEF",agi:"AGI",eDamPct:"Earth Dmg %",tDamPct:"Thunder Dmg %",wDamPct:"Water Dmg %",fDamPct:"Fire Dmg %",aDamPct:"Air Dmg %",eDefPct:"Earth Def %",tDefPct:"Thunder Def %",wDefPct:"Water Def %",fDefPct:"Fire Def %",aDefPct:"Air Def %",atkTier:"Atk Speed Bonus",spRegen:"Soul Point Regen",eSteal:"Emerald Steal",rSdRaw:"Rainbow Spell Raw",critDamPct:"Crit Damage %",sprint:"Sprint",sprintReg:"Sprint Regen",jh:"Jump Height"},e0=["durability","duration","sdPct","sdRaw","mdPct","mdRaw","mr","ms","ls","spd","hpBonus","hprRaw","poison","str","dex","int","def","agi","eDamPct","tDamPct","wDamPct","fDamPct","aDamPct"];function Lx(e){return dk[e]??e}const bf={HELMET:"ARMOURING",CHESTPLATE:"TAILORING",LEGGINGS:"TAILORING",BOOTS:"TAILORING",SPEAR:"WEAPONSMITHING",DAGGER:"WEAPONSMITHING",WAND:"WOODWORKING",BOW:"WOODWORKING",RELIK:"WOODWORKING",RING:"JEWELING",NECKLACE:"JEWELING",BRACELET:"JEWELING",POTION:"ALCHEMISM",SCROLL:"SCRIBING",FOOD:"COOKING"};function fk(e){const n=S.useRef(null);n.current||(n.current=new ek);const[l,i]=S.useState(null),[r,c]=S.useState(null),[u,f]=S.useState("HELMET"),[p,g]=S.useState("103-105"),[b,v]=S.useState("auto"),[x,_]=S.useState(3),[N,w]=S.useState(3),[M,z]=S.useState("auto"),[I,O]=S.useState("FAST"),[L,H]=S.useState("advancedIds"),[A,j]=S.useState(""),[F,se]=S.useState(""),[re,Q]=S.useState([]),ce=S.useRef(1),[k,ue]=S.useState(Pl.beamWidth),[de,R]=S.useState(Pl.topKPerSlot),[G,le]=S.useState(Pl.topN),[B,W]=S.useState([]),[T,q]=S.useState(""),[J,ae]=S.useState(!1),[fe,ge]=S.useState(null),[be,ke]=S.useState(null),[ze,Ye]=S.useState(null),kt=S.useRef(null),Nt=xh(u.toLowerCase())==="weapon";S.useEffect(()=>{e.open&&(l||ik.getCatalog().then(i).catch(oe=>{c(oe instanceof Error?oe.message:"Failed to load crafting data")}))},[e.open,l]);const Yn=S.useMemo(()=>{if(!l)return 0;const oe=bf[u]??"";return l.ingredientsBySkill.get(oe)?.length??0},[l,u]);function pt(oe){if(!l)return{ids:[],unknown:[]};const Oe=oe.split(",").map(_e=>_e.trim()).filter(Boolean),V=[],ie=[];for(const _e of Oe){const Ee=l.ingredientIdByName.get(_e.toLowerCase());Ee==null?ie.push(_e):V.push(Ee)}return{ids:V,unknown:ie}}const Kt=oe=>{navigator.clipboard.writeText(oe).then(()=>{Ye(oe),setTimeout(()=>Ye(null),2e3)})},Ke=async()=>{if(!l)return;ge(null),W([]),ke(null);const oe=pt(A),Oe=pt(F);if(oe.unknown.length>0||Oe.unknown.length>0){ge([oe.unknown.length?`Unknown must-include: ${oe.unknown.join(", ")}`:"",Oe.unknown.length?`Unknown excluded: ${Oe.unknown.join(", ")}`:""].filter(Boolean).join(" | "));return}const V={};for(const Ee of re)Ee.key&&(Ee.min==null&&Ee.max==null||(V[Ee.key]={min:Ee.min??void 0,max:Ee.max??void 0}));const ie={...Pl,recipeType:u,levelRange:p,matTiers:b==="manual"?[x,N]:null,atkSpd:Nt&&M==="manual"?I:null,weights:uk(L),mustIncludeIngredients:oe.ids,excludedIngredients:Oe.ids,topN:Math.max(1,Math.min(100,G)),topKPerSlot:Math.max(10,Math.min(300,de)),beamWidth:Math.max(20,Math.min(3e3,k)),target:V};kt.current?.abort();const _e=new AbortController;kt.current=_e,ae(!0),q("Starting...");try{const Ee=await n.current.run(l,ie,{signal:_e.signal,onProgress:Ie=>{ke(Ie),q(`${Ie.phase}: ${Ie.expandedSlots}/${Ie.totalSlots} slots, beam ${Ie.beamSize}, states ${Ie.processedStates}${Ie.detail?` | ${Ie.detail}`:""}`)}});W(Ee),Ee.length===0?ge("No valid candidates found. Try relaxing constraints, increasing beam width/top K, or choosing a different recipe."):q(`Done. ${Ee.length} candidates found.`)}catch(Ee){Ee instanceof DOMException&&Ee.name==="AbortError"?q("Cancelled"):(ge(Ee instanceof Error?Ee.message:"Recipe solver failed"),q(""))}finally{ae(!1),ke(null)}},Qt=()=>{kt.current?.abort(),n.current?.cancelCurrent(),ae(!1),q("Cancelled"),ke(null)};return m.jsxs(mh,{open:e.open,onOpenChange:e.onOpenChange,title:"Recipe Solver",description:"Find optimal ingredient combinations for crafted items. Uses beam search over the ingredient pool.",className:"!w-[min(95vw,1360px)]",footer:m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsx("div",{className:"text-sm text-[var(--wb-muted)]",children:T}),m.jsxs("div",{className:"flex gap-2",children:[J?m.jsx(Re,{variant:"ghost",onClick:Qt,children:"Cancel"}):null,m.jsx(Re,{variant:"primary",onClick:Ke,disabled:!l||J,children:"Solve Recipe"})]})]}),children:[r?m.jsx("div",{className:"mb-4 rounded-xl border border-rose-400/30 bg-rose-400/5 p-3 text-sm text-rose-200",children:r}):null,J&&be?m.jsxs("div",{className:"mb-4 rounded-xl border border-sky-400/30 bg-sky-400/5 p-3",children:[m.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"rounded-md bg-sky-400/20 px-2 py-0.5 text-xs font-medium text-sky-100",children:be.phase}),be.totalSlots>0?m.jsxs("span",{className:"text-xs text-[var(--wb-muted)]",children:["Slots ",be.expandedSlots,"/",be.totalSlots]}):null]}),m.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-black/20",children:m.jsx("div",{className:"h-full rounded-full bg-sky-400/70 transition-all duration-300",style:{width:be.totalSlots>0?`${100*be.expandedSlots/be.totalSlots}%`:"0%"}})}),m.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-xs text-[var(--wb-muted)]",children:[m.jsxs("span",{children:["States: ",be.processedStates.toLocaleString()]}),m.jsxs("span",{children:["Beam: ",be.beamSize.toLocaleString()]})]})]}):null,m.jsxs("div",{className:"grid h-[52vh] min-h-0 gap-4 overflow-hidden lg:h-[56vh] lg:grid-cols-[1fr_1fr] lg:items-stretch",children:[m.jsxs("div",{className:"grid h-full min-h-0 min-w-0 gap-3 overflow-auto pr-1 wb-scrollbar",children:[m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Recipe"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Item Type"}),m.jsx("select",{className:"wb-select",value:u,onChange:oe=>f(oe.target.value),children:zR.map(oe=>m.jsxs("option",{value:oe,children:[oe," (",bf[oe],")"]},oe))})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Level Range"}),m.jsx("select",{className:"wb-select",value:p,onChange:oe=>g(oe.target.value),children:OR.map(oe=>m.jsx("option",{value:oe,children:oe},oe))})]}),l?m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[Yn," compatible ingredients in pool for ",bf[u]]}):null]})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Material Tiers"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ct,{active:b==="auto",onClick:()=>v("auto"),children:"Auto-optimize"}),m.jsx(ct,{active:b==="manual",onClick:()=>v("manual"),children:"Manual"})]}),b==="manual"?m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx(Je,{children:"Material 1 Tier"}),m.jsx("div",{className:"flex gap-2",children:[1,2,3].map(oe=>m.jsx(ct,{active:x===oe,onClick:()=>_(oe),children:oe},oe))})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx(Je,{children:"Material 2 Tier"}),m.jsx("div",{className:"flex gap-2",children:[1,2,3].map(oe=>m.jsx(ct,{active:N===oe,onClick:()=>w(oe),children:oe},oe))})]})]}):null]})]}),Nt?m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Attack Speed"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ct,{active:M==="auto",onClick:()=>z("auto"),children:"Auto-optimize"}),m.jsx(ct,{active:M==="manual",onClick:()=>z("manual"),children:"Manual"})]}),M==="manual"?m.jsx("div",{className:"flex gap-2",children:Dx.map(oe=>m.jsx(ct,{active:I===oe,onClick:()=>O(oe),children:oe},oe))}):null]})]}):null,m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Optimization Goal"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:ck.map(oe=>m.jsx(ct,{active:L===oe,onClick:()=>H(oe),children:ok[oe]},oe))})]}),m.jsxs("div",{className:"wb-card p-3",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold",children:"Ingredient Constraints"}),m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Must-Include Ingredients (comma-separated)"}),m.jsx("textarea",{className:"wb-textarea min-h-16",value:A,onChange:oe=>j(oe.target.value),placeholder:"e.g. Blueshift Beacon, Depurinated Genome"})]}),m.jsxs("div",{children:[m.jsx(Je,{children:"Excluded Ingredients (comma-separated)"}),m.jsx("textarea",{className:"wb-textarea min-h-16",value:F,onChange:oe=>se(oe.target.value),placeholder:"Blacklist ingredient names"})]})]})]}),m.jsx("div",{className:"wb-card p-3",children:m.jsxs("details",{className:"group",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-semibold",children:"Advanced: Stat Thresholds"}),m.jsxs("div",{className:"mt-3 grid gap-3",children:[m.jsx("div",{className:"text-xs text-[var(--wb-muted)]",children:"Set minimum / maximum targets for specific stats on the crafted item."}),re.map(oe=>m.jsx("div",{className:"rounded-lg border border-[var(--wb-border-muted)] p-2",children:m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{children:[m.jsx(Je,{children:"Stat"}),m.jsx("select",{className:"wb-select w-full",value:oe.key,onChange:Oe=>Q(V=>V.map(ie=>ie.id===oe.id?{...ie,key:Oe.target.value}:ie)),children:e0.map(Oe=>m.jsxs("option",{value:Oe,children:[Lx(Oe)," (",Oe,")"]},Oe))})]}),m.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[m.jsxs("div",{className:"min-w-[80px] flex-1",children:[m.jsx(Je,{children:"Min"}),m.jsx("input",{className:"wb-input w-full",type:"number",value:oe.min??"",onChange:Oe=>{const V=Oe.target.value.trim();Q(ie=>ie.map(_e=>_e.id===oe.id?{..._e,min:V===""?null:Number(V)}:_e))}})]}),m.jsxs("div",{className:"min-w-[80px] flex-1",children:[m.jsx(Je,{children:"Max"}),m.jsx("input",{className:"wb-input w-full",type:"number",value:oe.max??"",onChange:Oe=>{const V=Oe.target.value.trim();Q(ie=>ie.map(_e=>_e.id===oe.id?{..._e,max:V===""?null:Number(V)}:_e))}})]}),m.jsx(Re,{variant:"ghost",className:"shrink-0",onClick:()=>Q(Oe=>Oe.filter(V=>V.id!==oe.id)),children:"Remove"})]})]})},oe.id)),m.jsx("div",{children:m.jsx(Re,{variant:"ghost",onClick:()=>Q(oe=>[...oe,{id:ce.current++,key:e0[0],min:null,max:null}]),children:"Add Threshold"})})]})]})}),m.jsx("div",{className:"wb-card p-3",children:m.jsxs("details",{className:"group",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-semibold",children:"Search Heuristics"}),m.jsxs("div",{className:"mt-3 grid gap-3",children:[m.jsx(Ra,{label:"Beam Width",value:k,onChange:oe=>ue(oe??Pl.beamWidth),min:20,max:3e3}),m.jsx(Ra,{label:"Top K per Slot",value:de,onChange:oe=>R(oe??Pl.topKPerSlot),min:10,max:300}),m.jsx(Ra,{label:"Top N Results",value:G,onChange:oe=>le(oe??Pl.topN),min:1,max:100})]})]})})]}),m.jsx("div",{className:"h-full min-h-0 min-w-0",children:m.jsxs("div",{className:"wb-card flex h-full min-h-0 flex-col overflow-hidden p-3",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-semibold",children:"Candidates"}),m.jsxs("div",{className:"text-xs text-[var(--wb-muted)]",children:[B.length," shown"]})]}),m.jsx("div",{className:"min-h-0 flex-1 space-y-2 overflow-auto pr-1 wb-scrollbar",children:B.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-[var(--wb-border)] p-4 text-sm text-[var(--wb-muted)]",children:"Run Recipe Solver to find optimal ingredient combinations."}):B.map((oe,Oe)=>m.jsx(mk,{candidate:oe,index:Oe,catalog:l,copiedHash:ze,onCopyHash:Kt,onEquipCraft:e.onEquipCraft},`${oe.hash}-${Oe}`))}),fe?m.jsx("div",{className:"mt-2 rounded-xl border border-rose-400/30 bg-rose-400/8 p-2 text-xs text-rose-100",children:fe}):null]})})]})]})}function hk(e){return`../crafter/#${e.startsWith("CR-")?e.slice(3):e}`}function mk(e){const{candidate:n,index:l,catalog:i}=e,{stats:r,scoreBreakdown:c}=n,u=n.ingredientIds.map(v=>{const x=i?.ingredientsById.get(v);return x?.displayName??x?.name??`#${v}`}),f=[];for(const[v,x]of Object.entries(r.maxRolls))x!==0&&f.push({label:Lx(v),value:x>0?`+${x}`:`${x}`});f.sort((v,x)=>{const _=typeof v.value=="string"?parseInt(v.value):v.value,N=typeof x.value=="string"?parseInt(x.value):x.value;return Math.abs(N)-Math.abs(_)});const p=()=>{window.open(hk(n.hash),"_blank","noopener,noreferrer")},g=rk[r.type.toLowerCase()]??null,b=()=>{g&&e.onEquipCraft&&e.onEquipCraft(g,{hash:n.hash,type:r.type,category:r.category,lvl:r.lvl})};return m.jsxs("div",{className:"rounded-xl border border-[var(--wb-border-muted)] bg-black/10 p-3",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-sm font-semibold",children:["#",l+1," | Score ",Math.round(n.score)]}),m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["Off ",Math.round(c.offense)," | Def ",Math.round(c.defense)," | ","Util ",Math.round(c.utility)," | SP ",Math.round(c.skillPoints),c.reqPenalty>0?` | Req -${Math.round(c.reqPenalty)}`:""]}),m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["Mat Tiers: ",n.matTiers[0],"/",n.matTiers[1],r.category==="weapon"?` | Atk Spd: ${n.atkSpd}`:""]})]}),m.jsxs("div",{className:"flex shrink-0 flex-col gap-1",children:[m.jsx(Re,{className:"px-2 py-1 text-xs",onClick:()=>e.onCopyHash(n.hash),children:e.copiedHash===n.hash?"Copied!":"Copy Hash"}),m.jsx(Re,{variant:"ghost",className:"px-2 py-1 text-xs",onClick:p,children:"Open in Crafter"}),g?m.jsx(Re,{className:"border border-emerald-400/40 bg-emerald-400/15 px-2 py-1 text-xs text-emerald-100 hover:bg-emerald-400/25",onClick:b,children:"Use in Build"}):null]})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:"mb-1 text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Ingredients (3x2 grid)"}),m.jsx("div",{className:"grid grid-cols-2 gap-1",children:u.map((v,x)=>m.jsxs("div",{className:"rounded-md border border-[var(--wb-border-muted)] bg-black/10 px-2 py-1 text-xs",children:[m.jsx("div",{className:"truncate",children:v}),m.jsxs("div",{className:"text-[10px] text-[var(--wb-muted)]",children:["Eff: ",n.effectiveness[x],"%"]})]},x))})]}),f.length>0?m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:"mb-1 text-[10px] uppercase tracking-wide text-[var(--wb-muted)]",children:"Stats (max rolls)"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:f.slice(0,12).map(({label:v,value:x})=>{const _=typeof x=="string"?x.startsWith("+"):x>0;return m.jsxs("span",{className:`rounded px-1.5 py-0.5 text-[11px] ${_?"bg-emerald-400/15 text-emerald-200":"bg-rose-400/15 text-rose-200"}`,children:[v,": ",x]},v)})})]}):null,r.category==="armor"?m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["HP: ",r.hpLow,"-",r.hp," | Dur: ",r.durability[0],"-",r.durability[1],"| Reqs: [",r.reqs.join(", "),"]"]}):null,r.category==="consumable"?m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["Duration: ",r.duration[0],"-",r.duration[1],"s | Charges: ",r.charges]}):null,r.category==="weapon"?m.jsxs("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:["nDam: ",r.nDam," | Dur: ",r.durability[0],"-",r.durability[1],"| Reqs: [",r.reqs.join(", "),"]"]}):null]})}const t0="2.1.6.0";function gk(e){return typeof e=="string"&&/^\d+\.\d+\.\d+\.\d+$/.test(e)}function pk(e){return[...new Set(e)]}class vk{cache=new Map;async getDataset(n){const l=gk(n)?n:t0;return this.cache.has(l)||this.cache.set(l,this.loadDataset(l)),this.cache.get(l)}async loadDataset(n){const l=pk([n,t0]),i=[];for(const r of l){const c=this.buildUrls(r);for(const u of c)try{const f=await fetch(u,{cache:"force-cache"});if(!f.ok)throw new Error(`Failed to fetch ${u}: ${f.status}`);const p=await f.json();return _R(p,r)}catch(f){i.push(f instanceof Error?f.message:`Failed to fetch ${u}`)}}throw new Error(`Unable to load ability tree data. Tried versions: ${l.join(", ")}. ${i.slice(-4).join(" | ")}`)}buildUrls(n){return[`./data/${n}/atree.json`,`../data/${n}/atree.json`,`data/${n}/atree.json`,`/workbench/data/${n}/atree.json`,`/data/${n}/atree.json`]}}const yk=new vk;class bk{numeric=new Map;maps=new Map;get(n){return this.maps.has(n)?this.maps.get(n):this.numeric.get(n)??0}getNum(n){const l=this.get(n);return typeof l=="number"?l:0}has(n){return this.maps.has(n)||this.numeric.has(n)}add(n,l){!Number.isFinite(l)||l===0||this.numeric.set(n,(this.numeric.get(n)??0)+l)}set(n,l){Number.isFinite(l)&&this.numeric.set(n,l)}getMap(n){let l=this.maps.get(n);return l||(l=new Map,this.maps.set(n,l)),l}addMap(n,l,i){if(!Number.isFinite(i)||i===0)return;const r=this.getMap(n);r.set(l,(r.get(l)??0)+i)}}const n0=["str","dex","int","def","agi"],xk=["e","t","w","f","a"],Xn=["n",...xk],Zf=["SUPER_SLOW","VERY_SLOW","SLOW","NORMAL","FAST","VERY_FAST","SUPER_FAST"],Ff=[.51,.83,1.5,2.05,2.5,3.1,4.3],Sk=[1,1,1,.867,.951],wk=[1,1,.5/Tc(150),.867,.951],_k=["nDam","eDam","tDam","wDam","fDam","aDam"],Ek=["Super Slow","Very Slow","Slow","Normal","Fast","Very Fast","Super Fast"],a0=["str","dex","int","def","agi","sdPct","sdRaw","mdPct","mdRaw","atkTier","damPct","damRaw","rSdPct","rSdRaw","rMdPct","rMdRaw","rDamPct","rDamRaw","critDamPct","healPct","spPct1","spPct2","spPct3","spPct4","spRaw1","spRaw2","spRaw3","spRaw4","spPct1Final","spPct2Final","spPct3Final","spPct4Final","nSdPct","eSdPct","tSdPct","wSdPct","fSdPct","aSdPct","nMdPct","eMdPct","tMdPct","wMdPct","fMdPct","aMdPct","nDamPct","eDamPct","tDamPct","wDamPct","fDamPct","aDamPct","nSdRaw","eSdRaw","tSdRaw","wSdRaw","fSdRaw","aSdRaw","nMdRaw","eMdRaw","tMdRaw","wMdRaw","fMdRaw","aMdRaw","nDamRaw","eDamRaw","tDamRaw","wDamRaw","fDamRaw","aDamRaw","nDamAddMin","nDamAddMax","eDamAddMin","eDamAddMax","tDamAddMin","tDamAddMax","wDamAddMin","wDamAddMax","fDamAddMin","fDamAddMax","aDamAddMin","aDamAddMax","rDamAddMin","rDamAddMax","damAddMin","damAddMax","hp","hpBonus","defMult"];function ot(e,n=0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}return n}function Tc(e){if(e<=0)return 0;let n=e;n>=150&&(n=150);const l=.9908;return l/(1-l)*(1-Math.pow(l,n))/100}function Tk(e){return Math.max(1,Math.min(106,Math.round(e||1)))*5+5}function Nk(e){if(Array.isArray(e)&&e.length>=2)return[ot(e[0]),ot(e[1])];if(typeof e=="string"){const n=e.match(/(-?\d+(?:\.\d+)?)\s*-\s*(-?\d+(?:\.\d+)?)/);if(n)return[Number(n[1]),Number(n[2])]}return[0,0]}function Mk(e){if(e.category!=="weapon")return null;const n=e.legacyRaw??{},l=_k.map(r=>Nk(n[r])),i=l.map(([r,c])=>r!==0||c!==0);return{atkSpd:typeof n.atkSpd=="string"&&n.atkSpd?n.atkSpd:e.atkSpd,type:e.type,tier:typeof n.tier=="string"?n.tier:e.tier,damages:l,damagePresent:i}}function jk(e){switch(e){case"bow":return{type:"replace_spell",name:"Bow Shot",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Single Shot",parts:[{name:"Single Shot",multipliers:[100,0,0,0,0,0]}]};case"relik":return{type:"replace_spell",name:"Relik Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Total",parts:[{name:"Single Beam",multipliers:[33,0,0,0,0,0]},{name:"Total",hits:{"Single Beam":3}}]};case"wand":return{type:"replace_spell",name:"Wand Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Melee",parts:[{name:"Melee",multipliers:[100,0,0,0,0,0]}]};default:return{type:"replace_spell",name:"Melee",base_spell:0,scaling:"melee",use_atkspd:!1,display:"Melee",parts:[{name:"Melee",multipliers:[100,0,0,0,0,0]}]}}}function Bs(e){return structuredClone(e)}function xf(e,n){if(typeof n=="string"){const[l,i]=n.split("."),r=Number(l);if(!Number.isFinite(r)||!i)return 0;const c=e.get(r);return ot(c?.properties?.[i])}return ot(n)}function Dk(e,n){const l=new Set(n.activeIds),i=new Map,r=c=>{const u={id:c.id,baseAbilityId:c.baseAbilityId??null,properties:Bs(c.properties??{}),effects:Bs(c.effects??[])};if(u.baseAbilityId!=null&&i.has(u.baseAbilityId)){const f=i.get(u.baseAbilityId);f.effects=f.effects.concat(u.effects);for(const[p,g]of Object.entries(u.properties))f.properties[p]=ot(f.properties[p])+ot(g);return}i.set(u.id,u)};for(const c of e.nodes)l.has(c.id)&&r(c);return i}function Ck(e,n=[]){const l=new Map;for(const i of n)l.set(i.base_spell,Bs(i));for(const[,i]of e)for(const r of i.effects){if(r.type!=="replace_spell")continue;const c=ot(r.base_spell,Number.NaN);if(!Number.isFinite(c))continue;const u=Bs(r);let f=l.get(c);if(!f)f=u,l.set(c,f);else for(const[p,g]of Object.entries(u))f[p]=Bs(g);for(const p of f.parts??[]){const g=p.hits;if(g)for(const[b,v]of Object.entries(g))g[b]=xf(e,v)}}for(const[,i]of e)for(const r of i.effects){const c=typeof r.type=="string"?r.type:"";if(c!=="replace_spell"){if(c==="add_spell_prop"){const u=ot(r.base_spell,Number.NaN);if(!Number.isFinite(u)||!l.has(u))continue;const f=l.get(u),p=typeof r.target_part=="string"?r.target_part:null,g=typeof r.behavior=="string"?r.behavior:"merge",b=ot(r.cost);if(typeof f.cost=="number"&&(f.cost+=b),!p)continue;let v=!1;for(const x of f.parts)if(x.name===p){if("multipliers"in r&&Array.isArray(r.multipliers)&&"multipliers"in x)for(let _=0;_<r.multipliers.length;_++){const N=ot(r.multipliers[_]);Array.isArray(x.multipliers)&&(g==="overwrite"?x.multipliers[_]=N:x.multipliers[_]=(x.multipliers[_]??0)+N)}else if("power"in r&&"power"in x){const _=ot(r.power);x.power=g==="overwrite"?_:ot(x.power)+_}else if("hits"in r&&typeof r.hits=="object"&&r.hits&&"hits"in x)for(const[_,N]of Object.entries(r.hits)){const w=xf(e,N);g==="overwrite"?x.hits[_]=w:x.hits[_]=(x.hits[_]??0)+w}if("hide"in r&&(x.display=!1),"ignored_mults"in r){const _=Array.isArray(r.ignored_mults)?r.ignored_mults.filter(N=>typeof N=="string"):[];"ignored_mults"in x&&Array.isArray(x.ignored_mults)?x.ignored_mults.push(..._):"multipliers"in x&&(x.ignored_mults=_)}v=!0;break}if(!v&&g==="merge"){const x=Bs(r);if(x.name=p,typeof x.hits=="object"&&x.hits)for(const[_,N]of Object.entries(x.hits))x.hits[_]=xf(e,N);"hide"in r&&(x.display=!1),f.parts.push(x)}typeof r.display=="string"&&(f.display=r.display)}else if(c==="convert_spell_conv"){const u=ot(r.base_spell,Number.NaN);if(!Number.isFinite(u)||!l.has(u))continue;const f=l.get(u),p=typeof r.target_part=="string"?r.target_part:"all",g=typeof r.conversion=="string"?r.conversion:"",b=Xn.indexOf(g);if(b<0)continue;const v=p==="all";for(const x of f.parts){if(!("multipliers"in x)||!v&&x.name!==p)continue;const _=x.multipliers.slice(1).reduce((w,M)=>w+ot(M),0),N=[ot(x.multipliers[0]),0,0,0,0,0];N[b]=_,x.multipliers=N}}}}return l}function Ak(e,n,l){let i=!1,r=!1;for(const[,c]of e)for(const u of c.effects){const f=typeof u.type=="string"?u.type:"";if(f==="raw_stat"){if(u.toggle){i=!0;continue}const p=Array.isArray(u.bonuses)?u.bonuses:[];for(const g of p){if(!g||typeof g!="object")continue;const b=typeof g.type=="string"?g.type:"",v=typeof g.name=="string"?g.name:"",x=ot(g.value);!v||x===0||b==="stat"&&(v.startsWith("damMult.")?n.addMap("damMult",v.slice(8),x):v.startsWith("healMult.")?n.addMap("healMult",v.slice(9),x):v.startsWith("defMult.")?n.add("defMult",x):n.add(v,x))}continue}f==="stat_scaling"&&(r=!0)}i&&l.push("Some ability-tree toggle effects are not applied in Workbench spell damage yet."),r&&l.push("Some ability-tree scaling/slider effects are not applied in Workbench spell damage yet.")}function Rk(e,n,l){const i=new bk;for(const p of a0)i.set(p,0);i.getMap("damMult"),i.getMap("healMult");let r=0,c=0,u=[0,0,0,0,0];for(const p of tt){const g=e.slots[p];if(g==null)continue;const b=n.itemsById.get(g);if(!b)continue;const v=b.legacyRaw??{};for(const x of a0)i.add(x,ot(v[x]));r+=ot(v.hp),c+=ot(v.hpBonus),u=[u[0]+ot(v.str),u[1]+ot(v.dex),u[2]+ot(v.int),u[3]+ot(v.def),u[4]+ot(v.agi)]}const f=l??[0,0,0,0,0];return i.set("str",u[0]+f[0]),i.set("dex",u[1]+f[1]),i.set("int",u[2]+f[2]),i.set("def",u[3]+f[3]),i.set("agi",u[4]+f[4]),i.set("hp",r+c+Tk(e.level)),i}function kk(e,n,l,i,r=!1,c,u=!1,f=[]){const p=n.damages.map(B=>[...B]),g=[...n.damagePresent],b=l.map(B=>ot(B));for(let B=0;B<Xn.length;B++){const W=c?`:${c}`:"",T=`${Xn[B]}ConvBase${W}`;c&&e.has(T)&&(b[B]+=e.getNum(T));const q=`${Xn[B]}ConvBase`;e.has(q)&&(b[B]+=e.getNum(q))}const v=[],x=(b[0]??0)/100;if(x===0)for(let B=0;B<g.length;B++)g[B]=!1;let _=0,N=0;for(const B of p)v.push([B[0]*x,B[1]*x]),_+=B[0],N+=B[1];let w=0;for(let B=1;B<=5;B++){const W=b[B]??0;if(W>0){const T=W/100;v[B][0]+=T*_,v[B][1]+=T*N,g[B]=!0,w+=T}}if(w+=x,!r){const B=Zf.indexOf(n.atkSpd||"NORMAL"),W=Ff[B>=0?B:3]??Ff[3];for(let T=0;T<v.length;T++)v[T][0]*=W,v[T][1]*=W}for(let B=0;B<Xn.length;B++){if(!g[B])continue;const W=Xn[B];v[B][0]+=e.getNum(`${W}DamAddMin`),v[B][1]+=e.getNum(`${W}DamAddMax`)}const M=i?"Sd":"Md",z=[0];for(let B=0;B<n0.length;B++)z.push(Tc(e.getNum(n0[B]))*Sk[B]);const I=(e.getNum(`${M.toLowerCase()}Pct`)+e.getNum("damPct"))/100;let O=0,L=0;const H=[];for(let B=0;B<Xn.length;B++){H.push([...v[B]]),O+=v[B][0],L+=v[B][1];const W=Xn[B],T=`${W}${M}Pct`;let q=1+(z[B]??0)+I+(e.getNum(T)+e.getNum(`${W}DamPct`))/100;B>0&&(q+=(e.getNum(`r${M}Pct`)+e.getNum("rDamPct"))/100),v[B][0]*=q,v[B][1]*=q}const A=O-H[0][0],j=L-H[0][1],F=e.getNum(`${M.toLowerCase()}Raw`)+e.getNum("damRaw"),se=e.getNum(`r${M}Raw`)+e.getNum("rDamRaw");for(let B=0;B<v.length;B++){const W=H[B],T=Xn[B];let q=0;g[B]&&(q+=e.getNum(`${T}${M}Raw`)+e.getNum(`${T}DamRaw`));let J=q,ae=q;L>0&&(J+=(O===0?W[1]/L:W[0]/O)*F,ae+=W[1]/L*F),B!==0&&j>0&&(J+=(A===0?W[1]/j:W[0]/A)*se,ae+=W[1]/j*se),v[B][0]+=J*w,v[B][1]+=ae*w}const re=u?1:1+(z[1]??0),Q=e.getMap("damMult");let ce=1;const k=[1,1,1,1,1,1],ue=[...b];for(const[B,W]of Q.entries())if(!(B.includes(":")&&B.split(":")[1]!==c)&&!f.includes(B))if(B.includes(";")){const T=Xn.indexOf(B.split(";")[1]);T!==-1&&(k[T]*=1+W/100)}else ce*=1+W/100;const de=u?0:1+e.getNum("critDamPct")/100,R=[0,0],G=[0,0],le=[];for(let B=0;B<Xn.length;B++){v[B][0]*=k[B]*ce,v[B][1]*=k[B]*ce,ue[B]*=k[B]*ce,v[B][0]<0&&(v[B][0]=0),v[B][1]<0&&(v[B][1]=0);const W=[v[B][0]*re,v[B][1]*re,v[B][0]*(re+de),v[B][1]*(re+de)];le.push(W),R[0]+=W[0],R[1]+=W[1],G[0]+=W[2],G[1]+=W[3]}return[R,G,le,ue]}function qx(e,n,l){const i=new Map;for(const g of e.parts)i.set(g.name,{type:"need_eval",store:g});const r="use_atkspd"in e?!!e.use_atkspd:!0,c="scaling"in e?e.scaling==="spell":!0,u=g=>{const b=i.get(g);if(!b)return null;if(b.type!=="need_eval")return b;const v=b.store,x=`${e.base_spell}.${v.name}`;let _;if("multipliers"in v){const N=Array.isArray(v.ignored_mults)?v.ignored_mults:[],w=kk(n,l,v.multipliers.map(M=>ot(M)),c,!r,x,v.use_str===!1,N);_={type:"damage",name:v.name,display:v.display!==!1,normal_total:w[0],crit_total:w[1]}}else if("power"in v){const N=n.getNum("hp"),w=1+n.getNum("healPct")/100;_={type:"heal",name:v.name,display:v.display!==!1,heal_amount:ot(v.power)*N*w}}else{let N=null,w=[0,0],M=[0,0],z=0;for(const[I,O]of Object.entries(v.hits)){const L=u(I);L&&(N&&N!==L.type||(N=L.type,L.type==="damage"?(w=[w[0]+L.normal_total[0]*O,w[1]+L.normal_total[1]*O],M=[M[0]+L.crit_total[0]*O,M[1]+L.crit_total[1]*O]):z+=L.heal_amount*O))}N==="heal"?_={type:"heal",name:v.name,display:v.display!==!1,heal_amount:z}:_={type:"damage",name:v.name,display:v.display!==!1,normal_total:w,crit_total:M}}return i.set(v.name,_),_},f=[],p=Tc(n.getNum("dex"));for(const g of e.parts){const b=u(g.name);if(b)if(b.type==="damage"){const v=(b.normal_total[0]+b.normal_total[1])/2,x=(b.crit_total[0]+b.crit_total[1])/2;f.push({type:"damage",name:b.name,display:b.display,normalTotal:b.normal_total,critTotal:b.crit_total,averageNonCrit:v,averageCrit:x,averageTotal:(1-p)*v+p*x})}else f.push({type:"heal",name:b.name,display:b.display,healAmount:b.heal_amount,averageTotal:b.heal_amount})}return f}function zk(e){const{spells:n,stats:l,weapon:i}=e,r=n.get(0);if(!r||!Array.isArray(r.parts)||r.parts.length===0)return null;const c=qx(r,l,i);if(c.length===0)return null;const u=(r.display||"").trim(),f=u&&c.find(x=>x.name===u)||c.find(x=>x.display)||c[0];if(!f||f.type!=="damage")return null;const p=f.averageTotal??0,g=Zf.indexOf(i.atkSpd||"NORMAL"),b=Math.max(0,Math.min(Zf.length-1,(g>=0?g:3)+Math.round(l.getNum("atkTier")))),v=p*Ff[b];return{perAttackAverage:p,dps:v,attackSpeedTier:Ek[b]}}function Ok(e,n){if(typeof n.cost!="number"||n.base_spell<1||n.base_spell>4)return null;const l=n.base_spell;let i=n.cost*(1-Tc(e.getNum("int"))*wk[2]);return i+=e.getNum(`spRaw${l}`),i=i*(1+e.getNum(`spPct${l}`)/100),i=Math.max(1,i*(1+e.getNum(`spPct${l}Final`)/100)),i}function Pk(e){const{catalog:n,snapshot:l,abilityTreeTree:i,abilityTreeEvaluation:r}=e;if(!i||!r)return null;const c=l.slots.weapon;if(c==null)return null;const u=n.itemsById.get(c);if(!u)return null;const f=Mk(u);if(!f)return null;const p={...l.slots},g=gh(p,n,l.level),b=Rk(l,n,g.assignedByStat),v=[];g.feasible||v.push("Spell preview uses current build state, but skill-point feasibility is invalid.");const x=Dk(i,r);Ak(x,b,v);const _=Ck(x,[jk(f.type)]),N=zk({spells:_,stats:b,weapon:f});if(_.size===0)return{melee:N,spells:[],notes:v};const w=[];for(const M of[..._.values()].sort((z,I)=>z.base_spell-I.base_spell)){if(!Array.isArray(M.parts)||M.parts.length===0)continue;const z=qx(M,b,f);if(z.length===0)continue;const I=(M.display||"").trim(),O=I&&z.find(H=>H.name===I)||z.find(H=>H.display)||z[0];if(!O)continue;const L=O.type==="heal";w.push({baseSpell:M.base_spell,name:M.name,displayPartName:O.name,averageDisplayValue:O.averageTotal??0,isHealing:L,manaCost:Ok(b,M),parts:z})}return r.activeIds.length>0&&w.length===0&&v.push("No spell damage entries found in the selected ability tree nodes."),{melee:N,spells:w,notes:v}}function l0(e){return navigator.clipboard?.writeText?navigator.clipboard.writeText(e):(window.prompt("Copy text:",e),Promise.resolve())}function s0(e){return typeof e!="string"?null:e.startsWith("slot:")?{kind:"slot",slot:e.slice(5)}:e.startsWith("bin:")?{kind:"bin",category:e.slice(4)}:null}function Bk(e,n,l){const i=n.itemsById.get(e);if(!i)return null;const r=i.category;if(l.selectedSlot&&ua(l.selectedSlot)===r)return l.selectedSlot;const c=tt.filter(f=>ua(f)===r);return c.find(f=>l.slots[f]==null)??c[0]??null}function Ik(e){return{slots:{...e.slots},craftedSlots:{...e.craftedSlots},binsByCategory:{helmet:[...e.binsByCategory.helmet],chestplate:[...e.binsByCategory.chestplate],leggings:[...e.binsByCategory.leggings],boots:[...e.binsByCategory.boots],ring:[...e.binsByCategory.ring],bracelet:[...e.binsByCategory.bracelet],necklace:[...e.binsByCategory.necklace],weapon:[...e.binsByCategory.weapon]},locks:{...e.locks},level:e.level,characterClass:e.characterClass,selectedSlot:e.selectedSlot,comparePreview:{...e.comparePreview},legacyHash:e.legacyHash}}function Lk(){const e=S.useRef(null);!e.current&&typeof window<"u"&&(e.current=UA(window.location));const n=e.current,[l,i]=S.useState(null),[r,c]=S.useState(null),[u,f]=S.useState(n?.search??Jn),[p,g]=S.useState(null),[b,v]=S.useState(!1),[x,_]=S.useState(!1),[N,w]=S.useState(n?.mode==="autobuilder"),[M,z]=S.useState(n?.mode==="abilitytree"),[I,O]=S.useState(!1),[L,H]=S.useState(null),[A,j]=S.useState(!1),[F,se]=S.useState(null),[re,Q]=S.useState(n?.abilityTree?.selectedByClass??{}),[ce,k]=S.useState(n?.abilityTree?.version??null),[ue,de]=S.useState(""),R=S.useRef(null),G=S.useRef(null),le=S.useRef(null),B=BA(O_(V=>({slots:V.slots,craftedSlots:V.craftedSlots,binsByCategory:V.binsByCategory,locks:V.locks,level:V.level,characterClass:V.characterClass,selectedSlot:V.selectedSlot,comparePreview:V.comparePreview,legacyHash:V.legacyHash,undoStack:V.undoStack,redoStack:V.redoStack,setLevel:V.setLevel,setCharacterClass:V.setCharacterClass,setSelectedSlot:V.setSelectedSlot,setComparePreview:V.setComparePreview,pinItem:V.pinItem,removePinnedItem:V.removePinnedItem,clearCategory:V.clearCategory,clearAll:V.clearAll,equipItem:V.equipItem,equipCraftedItem:V.equipCraftedItem,clearCraftedSlot:V.clearCraftedSlot,moveSlotToBin:V.moveSlotToBin,swapSlots:V.swapSlots,assignDraggedItemToSlot:V.assignDraggedItemToSlot,assignDraggedItemToBin:V.assignDraggedItemToBin,toggleLock:V.toggleLock,undo:V.undo,redo:V.redo,hydrateSnapshot:V.hydrateSnapshot,loadCandidate:V.loadCandidate,setLegacyHash:V.setLegacyHash}))),W=S.useMemo(()=>Ik(B),[B]);S.useEffect(()=>{n?.workbenchPatch&&B.hydrateSnapshot(n.workbenchPatch)},[n,B]),S.useEffect(()=>{let V=!1;return(async()=>{try{const ie=await CE.getCatalog();if(V)return;_(!1);const _e=new Pj;if(await _e.init(ie.items),V){_e.dispose();return}if(R.current=_e,i(ie),_(!0),n?.legacyHash){de("Importing legacy builder hash...");try{const Ee=await of.decodeLegacyHash(n.legacyHash),Ie={};for(const[sn,Jt]of Object.entries(Ee.slots)){if(!Jt)continue;const zt=ie.itemIdByName.get(Jt.toLowerCase());typeof zt=="number"&&(Ie[sn]=zt)}B.hydrateSnapshot({...n.workbenchPatch,slots:{...n.workbenchPatch?.slots??{},...Ie},level:Ee.level??n.workbenchPatch?.level??B.level,legacyHash:Ee.legacyHash}),B.setLegacyHash(Ee.legacyHash),de("Imported legacy builder hash into Workbench.")}catch(Ee){console.error(Ee),de("Failed to import legacy hash automatically. You can still open it in legacy builder.")}}}catch(ie){console.error(ie),c(ie instanceof Error?ie.message:"Failed to load item catalog")}})(),()=>{V=!0,R.current?.dispose(),G.current&&window.clearTimeout(G.current),le.current&&window.clearTimeout(le.current)}},[n,B]),S.useEffect(()=>{if(!(!l||!x||!R.current))return G.current&&window.clearTimeout(G.current),v(!0),G.current=window.setTimeout(async()=>{try{const V=await R.current.search(u);g(V)}catch(V){console.error(V),c(V instanceof Error?V.message:"Search failed")}finally{v(!1)}},180),()=>{G.current&&window.clearTimeout(G.current)}},[l,x,u]),S.useEffect(()=>{if(!M||!l||A||L||F)return;let V=!1;return j(!0),se(null),(async()=>{try{const ie=await yk.getDataset(ce||l.version);if(V)return;H(ie),k(ie.version)}catch(ie){if(V)return;console.error(ie),se(ie instanceof Error?ie.message:"Failed to load ability tree data")}finally{V||j(!1)}})(),()=>{V=!0}},[M,L,l,ce,F]),S.useEffect(()=>{if(!(typeof window>"u"))return le.current&&window.clearTimeout(le.current),le.current=window.setTimeout(()=>{try{Fy({search:u,workbenchSnapshot:W,mode:N?"autobuilder":M?"abilitytree":null,abilityTreeState:{version:ce,selectedByClass:re},replace:!0})}catch(V){console.error(V)}},250),()=>{le.current&&window.clearTimeout(le.current)}},[u,W,N,M,re,ce]);const T=S.useMemo(()=>l?tc({slots:W.slots,level:W.level,characterClass:W.characterClass},l):null,[l,W]),q=S.useMemo(()=>{if(!l)return null;const V=W.slots.weapon;if(V==null)return null;const ie=l.itemsById.get(V);return ie?ie.classReq??Vo(ie.type):null},[l,W.slots.weapon]),J=W.characterClass??q,ae=S.useMemo(()=>jx(L,J),[L,J]),fe=S.useMemo(()=>{if(!ae||!J)return null;const V=re[J]??[];return Ec(ae,V,W.level)},[re,ae,J,W.level]),ge=S.useMemo(()=>{if(!l||!T)return null;const V=W.comparePreview;if(!V.itemId||!V.slot)return null;const ie={...W.slots,[V.slot]:V.itemId};return tc({slots:ie,level:W.level,characterClass:W.characterClass},l)},[l,T,W]),be=S.useMemo(()=>l?Pk({catalog:l,snapshot:W,abilityTreeTree:ae,abilityTreeEvaluation:fe}):null,[l,W,ae,fe]),ke=ww(wv(Jf,{activationConstraint:{distance:6}}),wv(Xf,{coordinateGetter:A_})),ze=V=>{const ie=V.active.data.current?.dragItem;if(!ie)return;const _e=ie.kind==="slot"?ie.sourceSlot??null:W.selectedSlot??null;B.setComparePreview({itemId:ie.itemId,slot:_e})},Ye=V=>{const ie=V.active.data.current?.dragItem,_e=s0(V.over?.id);!ie||!_e||_e.kind==="slot"&&B.setComparePreview({itemId:ie.itemId,slot:_e.slot})},kt=V=>{const ie=V.active.data.current?.dragItem,_e=s0(V.over?.id);if(B.setComparePreview(null),!l||!ie||!_e)return;const Ee=l.itemsById.get(ie.itemId);if(Ee){if(_e.kind==="slot"){if(ua(_e.slot)!==Ee.category)return;B.assignDraggedItemToSlot({targetSlot:_e.slot,source:ie.kind,itemId:ie.itemId,sourceCategory:ie.sourceCategory,sourceSlot:ie.sourceSlot});return}if(_e.kind==="bin"){if(_e.category!==Ee.category)return;B.assignDraggedItemToBin({targetCategory:_e.category,source:ie.kind,itemId:ie.itemId,sourceCategory:ie.sourceCategory,sourceSlot:ie.sourceSlot})}}},Nt=V=>{if(!l)return;const ie=Bk(V,l,W);ie&&(B.equipItem(ie,V),B.setSelectedSlot(ie),de(`Equipped item into ${ie}.`))},Yn=V=>{if(!l)return;const ie=l.itemsById.get(V);ie&&B.pinItem(ie.category,ie.id)},pt=()=>{const V=mx(W),ie=JSON.stringify(W,null,2);window.prompt("Copy Workbench export (JSON). URL-safe code is also in the current ?wb= param.",ie),de(`Workbench export ready. Code length: ${V.length}`)},Kt=async()=>{const V=window.prompt("Paste a Workbench JSON export, Workbench URL, or legacy builder URL/hash.");if(!V)return;const ie=V.trim();try{if(of.isSupported(ie)&&l){const Ee=await of.decodeLegacyHash(ie),Ie={};for(const[sn,Jt]of Object.entries(Ee.slots)){const zt=l.itemIdByName.get((Jt??"").toLowerCase());zt!=null&&(Ie[sn]=zt)}B.hydrateSnapshot({slots:{...W.slots,...Ie},level:Ee.level??W.level,legacyHash:Ee.legacyHash}),B.setLegacyHash(Ee.legacyHash),de("Imported legacy build hash.");return}if(ie.startsWith("http://")||ie.startsWith("https://")){const Ee=new URL(ie),Ie=dx(Ee),sn=fx(Ee),Jt=hx(Ee);f(Ie),sn&&B.hydrateSnapshot(sn),Jt&&(Q(Jt.selectedByClass??{}),k(Jt.version??null)),de("Imported Workbench URL state.");return}const _e=JSON.parse(ie);B.hydrateSnapshot(_e),de("Imported Workbench JSON.")}catch(_e){console.error(_e),de("Import failed. Check the pasted JSON/URL/hash.")}},Ke=async()=>{Fy({search:u,workbenchSnapshot:W,mode:N?"autobuilder":M?"abilitytree":null,abilityTreeState:{version:ce,selectedByClass:re},replace:!0}),await l0(window.location.href),de("Workbench link copied.")},Qt=async()=>{if(!W.legacyHash){de("No imported legacy hash is currently available.");return}const V=new URL(Oy(W.legacyHash),window.location.href).href;await l0(V),de("Legacy builder link copied.")},oe=()=>{window.open(Oy(W.legacyHash),"_blank","noopener,noreferrer")},Oe=()=>{se(null),w(!1),z(!0)};return r?m.jsx("div",{className:"flex min-h-full items-center justify-center p-6",children:m.jsxs("div",{className:"wb-panel max-w-xl rounded-2xl p-6",children:[m.jsx("div",{className:"text-xl font-semibold",children:"Workbench failed to load"}),m.jsx("div",{className:"mt-2 text-sm text-[var(--wb-muted)]",children:r})]})}):!l||!T?m.jsx("div",{className:"flex min-h-full items-center justify-center p-6",children:m.jsxs("div",{className:"wb-panel max-w-xl rounded-2xl p-6",children:[m.jsx("div",{className:"text-xl font-semibold",children:"Loading Workbench..."}),m.jsx("div",{className:"mt-2 text-sm text-[var(--wb-muted)]",children:"Preparing item catalog, search index, and workbench state."})]})}):m.jsxs(T_,{sensors:ke,collisionDetection:Ew,onDragStart:ze,onDragOver:Ye,onDragEnd:kt,children:[m.jsxs("div",{className:"flex min-h-full flex-col gap-3 p-3 lg:p-4",children:[m.jsxs("header",{className:"wb-panel wb-hero rounded-2xl px-4 py-3",children:[m.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"wb-chip border-cyan-300/30 bg-cyan-300/8 text-cyan-100",children:"Standalone Alpha"}),m.jsx("span",{className:"wb-chip",children:"Legacy-compatible imports"}),fe?m.jsxs("span",{className:"wb-chip border-emerald-300/30 bg-emerald-300/8 text-emerald-100",children:["Ability Tree ",fe.apUsed,"/",fe.apCap," AP"]}):null]}),m.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[m.jsx(W_,{size:18,className:"text-cyan-200"}),"Workbench"]}),m.jsx("div",{className:"mt-1 text-xs text-[var(--wb-muted)]",children:"Modular loadout planning studio with a compatibility bridge for legacy builder links and hashes."}),m.jsx("div",{className:"mt-1 text-[11px] tracking-wide text-[var(--wb-muted-2)]",children:"Ability tree editing now works in Workbench using legacy data/rules. Workbench summary metrics still exclude ability-tree effects for now."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-[var(--wb-muted)]",children:"Class"}),m.jsxs("select",{className:"wb-select w-36",value:W.characterClass??"",onChange:V=>B.setCharacterClass(V.target.value||null),children:[m.jsx("option",{value:"",children:"Auto / Any"}),m.jsx("option",{value:"Warrior",children:"Warrior"}),m.jsx("option",{value:"Assassin",children:"Assassin"}),m.jsx("option",{value:"Mage",children:"Mage"}),m.jsx("option",{value:"Archer",children:"Archer"}),m.jsx("option",{value:"Shaman",children:"Shaman"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-[var(--wb-muted)]",children:"Level"}),m.jsx("input",{className:"wb-input w-22",type:"number",min:1,max:106,value:W.level,onChange:V=>B.setLevel(Number(V.target.value))})]}),m.jsxs(Re,{variant:"ghost",onClick:Ke,children:[m.jsx(eh,{size:13,className:"mr-1 inline"}),"Share Session"]}),m.jsxs(Re,{variant:"ghost",onClick:Oe,children:[m.jsx(k0,{size:13,className:"mr-1 inline"}),"Ability Tree"]}),m.jsx(Re,{className:"rounded-lg border border-amber-400/40 bg-amber-400/15 px-4 py-2 text-sm font-semibold text-amber-100 hover:bg-amber-400/25",onClick:()=>{z(!1),O(!1),w(!0)},children:"Build Solver"}),m.jsx(Re,{className:"rounded-lg border border-violet-400/40 bg-violet-400/15 px-4 py-2 text-sm font-semibold text-violet-100 hover:bg-violet-400/25",onClick:()=>{w(!1),z(!1),O(!0)},children:"Recipe Solver"})]})]}),ue?m.jsx("div",{className:"mt-2 text-xs text-emerald-200",children:ue}):null]}),m.jsxs("main",{className:"grid min-h-0 flex-1 grid-cols-1 gap-3 xl:grid-cols-[minmax(300px,22vw)_minmax(0,1fr)_440px] 2xl:grid-cols-[320px_minmax(0,1fr)_480px]",children:[m.jsx(GC,{catalog:l,state:u,setState:f,result:p,loading:b,selectedSlot:W.selectedSlot,onPin:Yn,onEquip:Nt,onHover:(V,ie)=>B.setComparePreview(V&&ie?{itemId:V,slot:ie}:null)}),m.jsx(mA,{catalog:l,store:B,onHoverItem:(V,ie)=>B.setComparePreview(V&&ie?{itemId:V,slot:ie}:null),onShareWorkbench:()=>{Ke()},onExportWorkbench:pt,onImportWorkbench:()=>{Kt()}}),m.jsx(fA,{catalog:l,snapshot:W,summary:T,compareSummary:ge,compareSlot:W.comparePreview.slot,spellPreview:be,abilityTreeSummary:fe&&J?{className:J,apUsed:fe.apUsed,apCap:fe.apCap,selectedCount:fe.activeIds.length,hasErrors:fe.errors.length>0||fe.apUsed>fe.apCap}:null,actions:{onOpenAbilityTree:Oe,onCopyLegacyLink:()=>{Qt()},onOpenLegacyBuilder:oe}})]})]}),m.jsx(bR,{open:N,onOpenChange:w,catalog:l,snapshot:W,onLoadCandidate:V=>{B.loadCandidate(V.slots),w(!1),de("Loaded Build Solver candidate into Workbench.")}}),m.jsx(CR,{open:M,onOpenChange:V=>{V&&se(null),z(V)},dataset:L,loading:A,error:F,level:W.level,selectedClass:W.characterClass,inferredClass:q,selectionsByClass:re,onSelectionsChange:Q}),m.jsx(fk,{open:I,onOpenChange:O,onEquipCraft:(V,ie)=>{B.equipCraftedItem(V,ie),O(!1),de(`Crafted ${ie.type} equipped to ${V}.`)}})]})}rw.createRoot(document.getElementById("root")).render(m.jsx(S.StrictMode,{children:m.jsx(Lk,{})}));
